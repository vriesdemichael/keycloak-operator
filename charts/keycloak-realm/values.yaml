# Default values for keycloak-realm.
# This is a YAML-formatted file.

# Realm name (REQUIRED)
# This is the Keycloak realm identifier
realmName: ""

# Display name for the realm
displayName: ""

# Operator reference (REQUIRED)
# Reference to the Keycloak operator managing this realm
operatorRef:
  # Namespace where the operator is running
  namespace: keycloak-system
  
  # Authorization secret containing the operator token (optional for now)
  # This feature is not yet implemented - leave empty
  authorizationSecretRef:
    # Name of the secret containing the operator's authorization token
    name: ""
    # Key within the secret (default: token)
    key: token

# RBAC configuration
# Creates a RoleBinding to grant the operator access to this namespace
rbac:
  # Create RoleBinding (required for operator to read secrets in this namespace)
  create: true
  
  # Name of the operator's ClusterRole for namespace access
  operatorClusterRoleName: keycloak-operator-namespace-access
  
  # Name of the operator's ServiceAccount
  # Default format: keycloak-operator-<namespace>
  # Override if your operator uses a different service account name
  operatorServiceAccountName: ""

# Realm security settings
security:
  # Registration settings
  registrationAllowed: false
  registrationEmailAsUsername: false
  
  # Login settings
  editUsernameAllowed: false
  resetPasswordAllowed: true
  rememberMe: false
  verifyEmail: false
  loginWithEmailAllowed: true
  duplicateEmailsAllowed: false
  
  # Brute force protection
  bruteForceProtected: true
  permanentLockout: false
  maxFailureWait: 900
  minimumQuickLoginWait: 60
  waitIncrement: 60
  quickLoginCheckMillis: 1000
  maxDeltaTime: 43200
  failureFactor: 30

# Theme configuration
themes:
  login: ""
  admin: ""
  account: ""
  email: ""

# Localization settings
localization:
  defaultLocale: en
  supportedLocales:
    - en
  enabled: true

# Token settings
tokenSettings:
  # Access token lifespan in seconds
  accessTokenLifespan: 300
  accessTokenLifespanForImplicitFlow: 900
  
  # SSO session settings
  ssoSessionIdleTimeout: 1800
  ssoSessionMaxLifespan: 36000
  
  # Offline session settings
  offlineSessionIdleTimeout: 2592000
  offlineSessionMaxLifespanEnabled: false
  offlineSessionMaxLifespan: 5184000
  
  # Client session settings (omit or set to positive values)
  # clientSessionIdleTimeout: 1800
  # clientSessionMaxLifespan: 3600

# SMTP configuration (optional)
smtpServer:
  enabled: false
  host: ""
  port: 587
  from: ""
  fromDisplayName: ""
  replyTo: ""
  envelopeFrom: ""
  ssl: false
  starttls: true
  auth: true
  user: ""
  # Secret containing SMTP password
  passwordSecret:
    name: ""
    key: password

# Additional attributes (optional)
# Free-form key-value pairs for custom realm attributes
attributes: {}

# Extra Kubernetes manifests to deploy
# Useful for deploying ExternalSecrets, SealedSecrets, ConfigMaps, etc.
extraManifests: []
  # - apiVersion: v1
  #   kind: Secret
  #   metadata:
  #     name: smtp-password
  #   stringData:
  #     password: my-smtp-password
  # - apiVersion: external-secrets.io/v1beta1
  #   kind: ExternalSecret
  #   metadata:
  #     name: smtp-password
  #   spec:
  #     secretStoreRef:
  #       name: vault-backend
  #       kind: SecretStore
  #     target:
  #       name: smtp-password
  #     data:
  #       - secretKey: password
  #         remoteRef:
  #           key: /keycloak/smtp
  #           property: password

# Common labels applied to all resources
commonLabels: {}

# Common annotations applied to all resources
commonAnnotations: {}
