# Default values for keycloak-realm.
# This is a YAML-formatted file.

# Realm name (REQUIRED)
# This is the Keycloak realm identifier
realmName: ""

# Display name for the realm
displayName: ""

# Realm description (optional)
description: ""

# HTML title for login pages (optional)
loginPageTitle: ""

# Operator reference (REQUIRED)
# Reference to the Keycloak operator managing this realm
operatorRef:
  # Namespace where the operator is running
  namespace: keycloak-system

# Client Authorization Grants
# List of namespaces authorized to create clients in this realm
# Example: ["app-team", "another-team"]
clientAuthorizationGrants: []

# RBAC configuration
# Creates a RoleBinding to grant the operator access to this namespace
rbac:
  # Create RoleBinding (required for operator to read secrets in this namespace)
  create: true

  # Name of the operator's ClusterRole for namespace access
  operatorClusterRoleName: keycloak-operator-namespace-access

  # Name of the operator's ServiceAccount
  # Default format: keycloak-operator-<namespace>
  # Override if your operator uses a different service account name
  operatorServiceAccountName: ""

# Realm security settings
security:
  # Registration settings
  registrationAllowed: false
  registrationEmailAsUsername: false

  # Login settings
  editUsernameAllowed: false
  resetPasswordAllowed: true
  rememberMe: false
  verifyEmail: false
  loginWithEmailAllowed: true
  duplicateEmailsAllowed: false

  # Brute force protection
  bruteForceProtected: true
  permanentLockout: false
  maxFailureWait: 900
  minimumQuickLoginWait: 60
  waitIncrement: 60
  quickLoginCheckMillis: 1000
  maxDeltaTime: 43200
  failureFactor: 30

# Theme configuration
themes:
  login: ""
  admin: ""
  account: ""
  email: ""

# Localization settings
localization:
  defaultLocale: en
  supportedLocales:
    - en
  enabled: true

# Token settings
tokenSettings:
  # Access token lifespan in seconds
  accessTokenLifespan: 300
  accessTokenLifespanForImplicitFlow: 900

  # SSO session settings
  ssoSessionIdleTimeout: 1800
  ssoSessionMaxLifespan: 36000

  # Offline session settings
  offlineSessionIdleTimeout: 2592000
  offlineSessionMaxLifespanEnabled: false
  offlineSessionMaxLifespan: 5184000

  # Client session settings (omit or set to positive values)
  # clientSessionIdleTimeout: 1800
  # clientSessionMaxLifespan: 3600

# SMTP configuration (optional)
smtpServer:
  enabled: false
  host: ""
  port: 587
  from: ""
  fromDisplayName: ""
  replyTo: ""
  envelopeFrom: ""
  ssl: false
  starttls: true
  auth: true
  user: ""
  # Secret containing SMTP password
  passwordSecret:
    name: ""
    key: password

# Additional attributes (optional)
# Free-form key-value pairs for custom realm attributes
attributes: {}

# Password policy configuration (optional)
# Enforces password requirements for users in this realm
# Uncomment fields to enable specific policies
passwordPolicy: {}
  # Minimum password length (recommended: 12+)
  # length: 12

  # Character requirements
  # upperCase: 1
  # lowerCase: 1
  # digits: 1
  # specialChars: 1

  # Content restrictions
  # notUsername: true
  # notEmail: true

  # Hash iterations (OWASP recommends 210000 for PBKDF2-SHA256)
  # hashIterations: 210000

  # Password history (prevent reuse of N previous passwords)
  # passwordHistory: 5

  # Password expiration in days
  # forceExpiredPasswordChange: 90

  # Maximum password length
  # maxLength: 128

  # Custom regex pattern
  # regexPattern: ""

# Identity Providers (optional)
# Configure external identity providers (OIDC, SAML, social logins)
# See CRD documentation for full schema
identityProviders: []
  # Example OIDC provider:
  # - alias: azure-ad
  #   providerId: oidc
  #   displayName: "Azure AD"
  #   enabled: true
  #   trustEmail: true
  #   config:
  #     clientId: "my-client-id"
  #     authorizationUrl: "https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize"
  #     tokenUrl: "https://login.microsoftonline.com/{tenant}/oauth2/v2.0/token"
  #     userInfoUrl: "https://graph.microsoft.com/oidc/userinfo"
  #     defaultScope: "openid profile email"
  #   configSecrets:
  #     clientSecret:
  #       name: azure-ad-credentials
  #       key: client-secret
  #
  # Example GitHub provider:
  # - alias: github
  #   providerId: github
  #   displayName: "GitHub"
  #   enabled: true
  #   config:
  #     clientId: "my-github-client-id"
  #   configSecrets:
  #     clientSecret:
  #       name: github-credentials
  #       key: client-secret

# Realm roles (optional)
# Define realm-level roles
roles:
  realmRoles: []
    # Example roles:
    # - name: admin
    #   description: "Administrator role"
    #   attributes:
    #     department: ["IT"]
    #     level: ["senior"]
    # - name: user
    #   description: "Regular user role"
    # - name: manager
    #   description: "Manager role with composite roles"
    #   composite: true
    #   compositeRoles:
    #     - user  # This role includes the 'user' role

# Groups (optional)
# Define user groups with role mappings
groups: []
  # Example groups:
  # - name: engineering
  #   attributes:
  #     department: ["Engineering"]
  #   realmRoles:
  #     - user
  #   subGroups:
  #     - name: backend
  #       realmRoles:
  #         - developer
  #     - name: frontend
  #       realmRoles:
  #         - developer
  # - name: admins
  #   realmRoles:
  #     - admin
  #   clientRoles:
  #     my-client:
  #       - manage-users

# Default groups (optional)
# Groups that are automatically assigned to new users
defaultGroups: []
  # Example:
  # - /engineering  # Group path
  # - users         # Group name (will be converted to /users)

# Event logging configuration (optional)
eventsConfig:
  eventsEnabled: false
  eventsListeners: []
  enabledEventTypes: []
  # eventsExpiration: 86400  # seconds
  adminEventsEnabled: false
  adminEventsDetailsEnabled: false

# Extra Kubernetes manifests to deploy
# Useful for deploying ExternalSecrets, SealedSecrets, ConfigMaps, etc.
extraManifests: []
  # - apiVersion: v1
  #   kind: Secret
  #   metadata:
  #     name: smtp-password
  #   stringData:
  #     password: my-smtp-password
  # - apiVersion: external-secrets.io/v1beta1
  #   kind: ExternalSecret
  #   metadata:
  #     name: smtp-password
  #   spec:
  #     secretStoreRef:
  #       name: vault-backend
  #       kind: SecretStore
  #     target:
  #       name: smtp-password
  #     data:
  #       - secretKey: password
  #         remoteRef:
  #           key: /keycloak/smtp
  #           property: password

# Common labels applied to all resources
commonLabels: {}

# Common annotations applied to all resources
commonAnnotations: {}
