number: 18
title: Management port separation - Keycloak 25+
category: architecture
decision: Require Keycloak 25.0.0 or later which supports separate management interface
  (port 9000). Use management port for health checks and metrics, port 8080 for user
  traffic.
agent_instructions: 'Enforce minimum Keycloak version 25.0.0. Health checks use management
  port (9000) for /health/ready and /health/live. User traffic on port 8080. Reject
  versions < 25.0.0. Update DEFAULT_KEYCLOAK_VERSION in src/keycloak_operator/constants.py
  when new stable versions release.'
rationale: 'Security: Separates management endpoints from user traffic. Production
  ready: Management port is production best practice from Keycloak 25+. Health checks:
  Dedicated management port prevents health check impact on user traffic. Version
  enforcement: Ensures users run supported, modern Keycloak versions.'
provenance: guided-ai
