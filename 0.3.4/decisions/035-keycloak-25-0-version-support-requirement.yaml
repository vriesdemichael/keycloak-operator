number: 35
title: Keycloak 25.0+ version support requirement
category: architecture
decision: Require Keycloak 25.0.0 or later. Operator validates Keycloak version and
  rejects unsupported versions. Default to latest stable Keycloak version (currently
  26.4.x).
agent_instructions: Enforce minimum Keycloak version 25.0.0 in operator code. Update
  DEFAULT_KEYCLOAK_VERSION in constants.py to track latest stable. Add version validation
  in reconcilers. Document version requirements clearly. Reject Keycloak instances
  with versions < 25.0.0 with clear error messages.
rationale: Keycloak 25.0.0 introduced separate management interface (port 9000) which
  is required for proper health checks and metrics without impacting user traffic.
  Earlier versions lack this feature. Enforcing minimum version ensures consistent
  behavior and allows operator to depend on modern Keycloak features. Clear version
  requirement reduces support burden from incompatible configurations.
provenance: human
rejected_alternatives:
- alternative: Support all Keycloak versions
  reason: Pre-25.0 lacks management port, forcing health checks on user-facing port.
    Different behavior paths increase complexity.
- alternative: Support back to Keycloak 20.x
  reason: Significant API changes between versions. Supporting multiple API versions
    increases maintenance burden.
