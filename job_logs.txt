2026-02-23T18:12:28.8903715Z Current runner version: '2.331.0'
2026-02-23T18:12:28.8926371Z ##[group]Runner Image Provisioner
2026-02-23T18:12:28.8927198Z Hosted Compute Agent
2026-02-23T18:12:28.8927752Z Version: 20260123.484
2026-02-23T18:12:28.8928444Z Commit: 6bd6555ca37d84114959e1c76d2c01448ff61c5d
2026-02-23T18:12:28.8929184Z Build Date: 2026-01-23T19:41:17Z
2026-02-23T18:12:28.8929845Z Worker ID: {c83cbe57-496a-4bc5-9fab-b0f2bc435cb7}
2026-02-23T18:12:28.8930586Z Azure Region: westus
2026-02-23T18:12:28.8931127Z ##[endgroup]
2026-02-23T18:12:28.8932651Z ##[group]Operating System
2026-02-23T18:12:28.8933363Z Ubuntu
2026-02-23T18:12:28.8933887Z 24.04.3
2026-02-23T18:12:28.8934328Z LTS
2026-02-23T18:12:28.8934878Z ##[endgroup]
2026-02-23T18:12:28.8935358Z ##[group]Runner Image
2026-02-23T18:12:28.8935917Z Image: ubuntu-24.04
2026-02-23T18:12:28.8936499Z Version: 20260201.15.1
2026-02-23T18:12:28.8937697Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20260201.15/images/ubuntu/Ubuntu2404-Readme.md
2026-02-23T18:12:28.8939230Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20260201.15
2026-02-23T18:12:28.8940123Z ##[endgroup]
2026-02-23T18:12:28.8941251Z ##[group]GITHUB_TOKEN Permissions
2026-02-23T18:12:28.8943309Z Contents: read
2026-02-23T18:12:28.8943885Z Metadata: read
2026-02-23T18:12:28.8944444Z Packages: read
2026-02-23T18:12:28.8944973Z ##[endgroup]
2026-02-23T18:12:28.8946910Z Secret source: Actions
2026-02-23T18:12:28.8947665Z Prepare workflow directory
2026-02-23T18:12:28.9455340Z Prepare all required actions
2026-02-23T18:12:28.9491919Z Getting action download info
2026-02-23T18:12:29.3495698Z Download action repository 'actions/checkout@v6' (SHA:de0fac2e4500dabe0009e67214ff5f5447ce83dd)
2026-02-23T18:12:29.8862778Z Complete job name: Unit Tests & Coverage
2026-02-23T18:12:29.9476049Z ##[group]Run actions/checkout@v6
2026-02-23T18:12:29.9476899Z with:
2026-02-23T18:12:29.9477376Z   repository: vriesdemichael/keycloak-operator
2026-02-23T18:12:29.9478117Z   token: ***
2026-02-23T18:12:29.9478543Z   ssh-strict: true
2026-02-23T18:12:29.9478957Z   ssh-user: git
2026-02-23T18:12:29.9479376Z   persist-credentials: true
2026-02-23T18:12:29.9479866Z   clean: true
2026-02-23T18:12:29.9480291Z   sparse-checkout-cone-mode: true
2026-02-23T18:12:29.9480802Z   fetch-depth: 1
2026-02-23T18:12:29.9481210Z   fetch-tags: false
2026-02-23T18:12:29.9482086Z   show-progress: true
2026-02-23T18:12:29.9482722Z   lfs: false
2026-02-23T18:12:29.9483162Z   submodules: false
2026-02-23T18:12:29.9483734Z   set-safe-directory: true
2026-02-23T18:12:29.9484501Z env:
2026-02-23T18:12:29.9484894Z   REGISTRY: ghcr.io
2026-02-23T18:12:29.9485372Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:12:29.9485951Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:12:29.9486402Z ##[endgroup]
2026-02-23T18:12:30.0405529Z Syncing repository: vriesdemichael/keycloak-operator
2026-02-23T18:12:30.0407310Z ##[group]Getting Git version info
2026-02-23T18:12:30.0408162Z Working directory is '/home/runner/work/keycloak-operator/keycloak-operator'
2026-02-23T18:12:30.0409251Z [command]/usr/bin/git version
2026-02-23T18:12:30.1786133Z git version 2.52.0
2026-02-23T18:12:30.1809179Z ##[endgroup]
2026-02-23T18:12:30.1825216Z Temporarily overriding HOME='/home/runner/work/_temp/caa71297-bec8-415e-9af5-f96710ecaa9a' before making global git config changes
2026-02-23T18:12:30.1827581Z Adding repository directory to the temporary git global config as a safe directory
2026-02-23T18:12:30.1830853Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/keycloak-operator/keycloak-operator
2026-02-23T18:12:30.1913925Z Deleting the contents of '/home/runner/work/keycloak-operator/keycloak-operator'
2026-02-23T18:12:30.1917881Z ##[group]Initializing the repository
2026-02-23T18:12:30.1922779Z [command]/usr/bin/git init /home/runner/work/keycloak-operator/keycloak-operator
2026-02-23T18:12:30.2628959Z hint: Using 'master' as the name for the initial branch. This default branch name
2026-02-23T18:12:30.2630287Z hint: will change to "main" in Git 3.0. To configure the initial branch name
2026-02-23T18:12:30.2631877Z hint: to use in all of your new repositories, which will suppress this warning,
2026-02-23T18:12:30.2632803Z hint: call:
2026-02-23T18:12:30.2633248Z hint:
2026-02-23T18:12:30.2633813Z hint: 	git config --global init.defaultBranch <name>
2026-02-23T18:12:30.2634522Z hint:
2026-02-23T18:12:30.2635195Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2026-02-23T18:12:30.2636305Z hint: 'development'. The just-created branch can be renamed via this command:
2026-02-23T18:12:30.2637169Z hint:
2026-02-23T18:12:30.2637620Z hint: 	git branch -m <name>
2026-02-23T18:12:30.2638148Z hint:
2026-02-23T18:12:30.2638873Z hint: Disable this message with "git config set advice.defaultBranchName false"
2026-02-23T18:12:30.2693257Z Initialized empty Git repository in /home/runner/work/keycloak-operator/keycloak-operator/.git/
2026-02-23T18:12:30.2704816Z [command]/usr/bin/git remote add origin https://github.com/vriesdemichael/keycloak-operator
2026-02-23T18:12:30.2804750Z ##[endgroup]
2026-02-23T18:12:30.2805577Z ##[group]Disabling automatic garbage collection
2026-02-23T18:12:30.2808093Z [command]/usr/bin/git config --local gc.auto 0
2026-02-23T18:12:30.2837619Z ##[endgroup]
2026-02-23T18:12:30.2838850Z ##[group]Setting up auth
2026-02-23T18:12:30.2839793Z Removing SSH command configuration
2026-02-23T18:12:30.2845769Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-02-23T18:12:30.2876986Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-02-23T18:12:30.4790508Z Removing HTTP extra header
2026-02-23T18:12:30.4799243Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-02-23T18:12:30.4836994Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-02-23T18:12:30.5069197Z Removing includeIf entries pointing to credentials config files
2026-02-23T18:12:30.5074568Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-02-23T18:12:30.5105341Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-02-23T18:12:30.5326603Z [command]/usr/bin/git config --file /home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config http.https://github.com/.extraheader AUTHORIZATION: basic ***
2026-02-23T18:12:30.5362259Z [command]/usr/bin/git config --local includeIf.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git.path /home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:12:30.5391056Z [command]/usr/bin/git config --local includeIf.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git/worktrees/*.path /home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:12:30.5420879Z [command]/usr/bin/git config --local includeIf.gitdir:/github/workspace/.git.path /github/runner_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:12:30.5454630Z [command]/usr/bin/git config --local includeIf.gitdir:/github/workspace/.git/worktrees/*.path /github/runner_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:12:30.5480457Z ##[endgroup]
2026-02-23T18:12:30.5482030Z ##[group]Fetching the repository
2026-02-23T18:12:30.5490126Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +f38b03fcf4d7c29949b853ce769a39bb5a856d84:refs/remotes/pull/599/merge
2026-02-23T18:12:31.4180655Z From https://github.com/vriesdemichael/keycloak-operator
2026-02-23T18:12:31.4181592Z  * [new ref]         f38b03fcf4d7c29949b853ce769a39bb5a856d84 -> pull/599/merge
2026-02-23T18:12:31.4262813Z ##[endgroup]
2026-02-23T18:12:31.4263480Z ##[group]Determining the checkout info
2026-02-23T18:12:31.4264263Z ##[endgroup]
2026-02-23T18:12:31.4270286Z [command]/usr/bin/git sparse-checkout disable
2026-02-23T18:12:31.4363230Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2026-02-23T18:12:31.4390232Z ##[group]Checking out the ref
2026-02-23T18:12:31.4394483Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/599/merge
2026-02-23T18:12:31.4959237Z Note: switching to 'refs/remotes/pull/599/merge'.
2026-02-23T18:12:31.4959835Z
2026-02-23T18:12:31.4960324Z You are in 'detached HEAD' state. You can look around, make experimental
2026-02-23T18:12:31.4961427Z changes and commit them, and you can discard any commits you make in this
2026-02-23T18:12:31.4962404Z state without impacting any branches by switching back to a branch.
2026-02-23T18:12:31.4962800Z
2026-02-23T18:12:31.4963114Z If you want to create a new branch to retain commits you create, you may
2026-02-23T18:12:31.4963768Z do so (now or later) by using -c with the switch command. Example:
2026-02-23T18:12:31.4964127Z
2026-02-23T18:12:31.4964282Z   git switch -c <new-branch-name>
2026-02-23T18:12:31.4964574Z
2026-02-23T18:12:31.4964732Z Or undo this operation with:
2026-02-23T18:12:31.4965083Z
2026-02-23T18:12:31.4965274Z   git switch -
2026-02-23T18:12:31.4965653Z
2026-02-23T18:12:31.4966162Z Turn off this advice by setting config variable advice.detachedHead to false
2026-02-23T18:12:31.4966990Z
2026-02-23T18:12:31.4967851Z HEAD is now at f38b03f Merge 87cc5b4d168fe56923abe1f79f4578a29d3ac0ce into fbcae8e2e0823a6aed490637a4bb5a0d8221e156
2026-02-23T18:12:31.4970305Z ##[endgroup]
2026-02-23T18:12:31.5005754Z [command]/usr/bin/git log -1 --format=%H
2026-02-23T18:12:31.5028140Z f38b03fcf4d7c29949b853ce769a39bb5a856d84
2026-02-23T18:12:31.5297631Z Prepare all required actions
2026-02-23T18:12:31.5298141Z Getting action download info
2026-02-23T18:12:31.8085488Z Download action repository 'actions/setup-python@v6' (SHA:a309ff8b426b58ec0e2a45f0f869d46889d02405)
2026-02-23T18:12:32.4033907Z Download action repository 'astral-sh/setup-uv@v7' (SHA:eac588ad8def6316056a12d4907a9d4d84ff7a3b)
2026-02-23T18:12:33.0493042Z Download action repository 'actions/upload-artifact@v5' (SHA:330a01c490aca151604b8cf639adc76d48f6c5d4)
2026-02-23T18:12:33.2494435Z ##[group]Run ./.github/actions/unit-tests
2026-02-23T18:12:33.2494714Z with:
2026-02-23T18:12:33.2495113Z   codecov-token: ***
2026-02-23T18:12:33.2495333Z   github-actor: vriesdemichael
2026-02-23T18:12:33.2495568Z   python-version: 3.13
2026-02-23T18:12:33.2495761Z env:
2026-02-23T18:12:33.2495926Z   REGISTRY: ghcr.io
2026-02-23T18:12:33.2496155Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:12:33.2496427Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:12:33.2496681Z ##[endgroup]
2026-02-23T18:12:33.2629071Z ##[group]Run actions/setup-python@v6
2026-02-23T18:12:33.2629343Z with:
2026-02-23T18:12:33.2629551Z   python-version: 3.13
2026-02-23T18:12:33.2629774Z   check-latest: false
2026-02-23T18:12:33.2630084Z   token: ***
2026-02-23T18:12:33.2630276Z   update-environment: true
2026-02-23T18:12:33.2630493Z   allow-prereleases: false
2026-02-23T18:12:33.2630709Z   freethreaded: false
2026-02-23T18:12:33.2630891Z env:
2026-02-23T18:12:33.2631062Z   REGISTRY: ghcr.io
2026-02-23T18:12:33.2631292Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:12:33.2631566Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:12:33.2632056Z ##[endgroup]
2026-02-23T18:12:33.3833096Z ##[group]Installed versions
2026-02-23T18:12:33.4542036Z Successfully set up CPython (3.13.11)
2026-02-23T18:12:33.4543403Z ##[endgroup]
2026-02-23T18:12:33.4697795Z ##[group]Run astral-sh/setup-uv@v7
2026-02-23T18:12:33.4698039Z with:
2026-02-23T18:12:33.4698245Z   enable-cache: true
2026-02-23T18:12:33.4698509Z   activate-environment: false
2026-02-23T18:12:33.4698863Z   working-directory: /home/runner/work/keycloak-operator/keycloak-operator
2026-02-23T18:12:33.4699564Z   github-token: ***
2026-02-23T18:12:33.4700115Z   cache-dependency-glob: **/*requirements*.txt
**/*requirements*.in
**/*constraints*.txt
**/*constraints*.in
**/pyproject.toml
**/uv.lock
**/*.py.lock

2026-02-23T18:12:33.4700795Z   restore-cache: true
2026-02-23T18:12:33.4701021Z   save-cache: true
2026-02-23T18:12:33.4701209Z   prune-cache: true
2026-02-23T18:12:33.4701392Z   cache-python: false
2026-02-23T18:12:33.4701603Z   ignore-nothing-to-cache: false
2026-02-23T18:12:33.4702005Z   ignore-empty-workdir: false
2026-02-23T18:12:33.4702235Z   add-problem-matchers: true
2026-02-23T18:12:33.4702465Z   resolution-strategy: highest
2026-02-23T18:12:33.4702676Z env:
2026-02-23T18:12:33.4702839Z   REGISTRY: ghcr.io
2026-02-23T18:12:33.4703068Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:12:33.4703340Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:12:33.4703624Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:33.4704060Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib/pkgconfig
2026-02-23T18:12:33.4704485Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:33.4704859Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:33.4705221Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:33.4705581Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib
2026-02-23T18:12:33.4705893Z ##[endgroup]
2026-02-23T18:12:33.6111277Z (node:2252) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
2026-02-23T18:12:33.6112288Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-02-23T18:12:33.6255975Z Trying to find version for uv in: /home/runner/work/keycloak-operator/keycloak-operator/uv.toml
2026-02-23T18:12:33.6256928Z Could not find file: /home/runner/work/keycloak-operator/keycloak-operator/uv.toml
2026-02-23T18:12:33.6257554Z Trying to find version for uv in: /home/runner/work/keycloak-operator/keycloak-operator/pyproject.toml
2026-02-23T18:12:33.6269994Z Could not determine uv version from uv.toml or pyproject.toml. Falling back to latest.
2026-02-23T18:12:33.6272777Z Getting latest version from GitHub API...
2026-02-23T18:12:33.9773486Z manifest-file not provided, reading from local file.
2026-02-23T18:12:33.9816026Z manifest-file does not contain version 0.10.4, arch x86_64, platform unknown-linux-gnu. Falling back to GitHub releases.
2026-02-23T18:12:33.9817902Z Downloading uv from "https://github.com/astral-sh/uv/releases/download/0.10.4/uv-x86_64-unknown-linux-gnu.tar.gz" ...
2026-02-23T18:12:34.6570498Z [command]/usr/bin/tar xz --warning=no-unknown-keyword --overwrite -C /home/runner/work/_temp/6c51198a-8024-4486-a29b-7751ae86e288 -f /home/runner/work/_temp/cbf9cd1b-bddc-4b70-82b3-5d72924695ef
2026-02-23T18:12:35.1012423Z Added /home/runner/.local/bin to the path
2026-02-23T18:12:35.1016419Z Added /opt/hostedtoolcache/uv/0.10.4/x86_64 to the path
2026-02-23T18:12:35.1018164Z Set UV_PYTHON_INSTALL_DIR to /home/runner/work/_temp/uv-python-dir
2026-02-23T18:12:35.1019169Z Added /home/runner/work/_temp/uv-python-dir to the path
2026-02-23T18:12:35.1035778Z Set UV_CACHE_DIR to /home/runner/work/_temp/setup-uv-cache
2026-02-23T18:12:35.1036428Z Successfully installed uv version 0.10.4
2026-02-23T18:12:35.7976050Z Searching files using cache dependency glob: /home/runner/work/keycloak-operator/keycloak-operator/**/*requirements*.txt,/home/runner/work/keycloak-operator/keycloak-operator/**/*requirements*.in,/home/runner/work/keycloak-operator/keycloak-operator/**/*constraints*.txt,/home/runner/work/keycloak-operator/keycloak-operator/**/*constraints*.in,/home/runner/work/keycloak-operator/keycloak-operator/**/pyproject.toml,/home/runner/work/keycloak-operator/keycloak-operator/**/uv.lock,/home/runner/work/keycloak-operator/keycloak-operator/**/*.py.lock
2026-02-23T18:12:35.8426944Z /home/runner/work/keycloak-operator/keycloak-operator/pyproject.toml
2026-02-23T18:12:35.8803461Z /home/runner/work/keycloak-operator/keycloak-operator/uv.lock
2026-02-23T18:12:35.8815320Z Found 2 files to hash.
2026-02-23T18:12:35.8887850Z Trying to restore cache from GitHub Actions cache with key: setup-uv-2-x86_64-unknown-linux-gnu-ubuntu-24.04-unknown-pruned-1adb3ca4abe852b51b9e54b5f906bd89433e666cd0e306de060697f178fdeec5
2026-02-23T18:12:36.1228433Z Cache hit for: setup-uv-2-x86_64-unknown-linux-gnu-ubuntu-24.04-unknown-pruned-1adb3ca4abe852b51b9e54b5f906bd89433e666cd0e306de060697f178fdeec5
2026-02-23T18:12:36.1327543Z (node:2252) [DEP0169] DeprecationWarning: `url.parse()` behavior is not standardized and prone to errors that have security implications. Use the WHATWG URL API instead. CVEs are not issued for `url.parse()` vulnerabilities.
2026-02-23T18:12:36.6488150Z Received 79671 of 79671 (100.0%), 0.4 MBs/sec
2026-02-23T18:12:36.6488767Z Cache Size: ~0 MB (79671 B)
2026-02-23T18:12:36.6514996Z [command]/usr/bin/tar -xf /home/runner/work/_temp/68797b11-3893-48ba-94f4-4b29515bdc3a/cache.tzst -P -C /home/runner/work/keycloak-operator/keycloak-operator --use-compress-program unzstd
2026-02-23T18:12:36.6688829Z Cache restored successfully
2026-02-23T18:12:36.6693609Z cache restored from GitHub Actions cache with key: setup-uv-2-x86_64-unknown-linux-gnu-ubuntu-24.04-unknown-pruned-1adb3ca4abe852b51b9e54b5f906bd89433e666cd0e306de060697f178fdeec5
2026-02-23T18:12:36.7334916Z Prepare all required actions
2026-02-23T18:12:36.7374754Z ##[group]Run ./.github/actions/setup-tools
2026-02-23T18:12:36.7375014Z with:
2026-02-23T18:12:36.7375185Z   task-version: v3.41.0
2026-02-23T18:12:36.7375387Z   yq-version: v4.44.3
2026-02-23T18:12:36.7375567Z env:
2026-02-23T18:12:36.7375729Z   REGISTRY: ghcr.io
2026-02-23T18:12:36.7375967Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:12:36.7376243Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:12:36.7376694Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7377121Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib/pkgconfig
2026-02-23T18:12:36.7377536Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7377892Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7378284Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7378645Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib
2026-02-23T18:12:36.7379025Z   UV_PYTHON_INSTALL_DIR: /home/runner/work/_temp/uv-python-dir
2026-02-23T18:12:36.7379372Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
2026-02-23T18:12:36.7379645Z ##[endgroup]
2026-02-23T18:12:36.7450043Z ##[group]Run if ! command -v task &> /dev/null; then
2026-02-23T18:12:36.7450444Z [36;1mif ! command -v task &> /dev/null; then[0m
2026-02-23T18:12:36.7450766Z [36;1m  if ! command -v go &> /dev/null; then[0m
2026-02-23T18:12:36.7451168Z [36;1m    echo "Go is required to install task but was not found in PATH." >&2[0m
2026-02-23T18:12:36.7451543Z [36;1m    exit 1[0m
2026-02-23T18:12:36.7452012Z [36;1m  fi[0m
2026-02-23T18:12:36.7452405Z [36;1m  GO111MODULE=on GOBIN=/usr/local/bin go install github.com/go-task/task/v3/cmd/task@v3.41.0[0m
2026-02-23T18:12:36.7452832Z [36;1mfi[0m
2026-02-23T18:12:36.7490452Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2026-02-23T18:12:36.7490786Z env:
2026-02-23T18:12:36.7490977Z   REGISTRY: ghcr.io
2026-02-23T18:12:36.7491216Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:12:36.7491488Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:12:36.7491982Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7492392Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib/pkgconfig
2026-02-23T18:12:36.7492783Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7493135Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7493498Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:12:36.7493855Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib
2026-02-23T18:12:36.7494482Z   UV_PYTHON_INSTALL_DIR: /home/runner/work/_temp/uv-python-dir
2026-02-23T18:12:36.7494826Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
2026-02-23T18:12:36.7495096Z ##[endgroup]
2026-02-23T18:12:37.6151610Z go: downloading github.com/go-task/task/v3 v3.41.0
2026-02-23T18:12:38.3252996Z go: downloading github.com/spf13/pflag v1.0.5
2026-02-23T18:12:38.3253651Z go: downloading mvdan.cc/sh/v3 v3.10.0
2026-02-23T18:12:38.4733955Z go: downloading github.com/Masterminds/semver/v3 v3.3.1
2026-02-23T18:12:38.4848044Z go: downloading github.com/alecthomas/chroma/v2 v2.14.0
2026-02-23T18:12:38.6407833Z go: downloading github.com/fatih/color v1.18.0
2026-02-23T18:12:38.6408336Z go: downloading gopkg.in/yaml.v3 v3.0.1
2026-02-23T18:12:38.7877458Z go: downloading github.com/Ladicle/tabwriter v1.0.0
2026-02-23T18:12:38.8097681Z go: downloading github.com/joho/godotenv v1.5.1
2026-02-23T18:12:38.9350903Z go: downloading github.com/chainguard-dev/git-urls v1.0.2
2026-02-23T18:12:38.9423699Z go: downloading github.com/dominikbraun/graph v0.23.0
2026-02-23T18:12:38.9709377Z go: downloading github.com/go-git/go-billy/v5 v5.6.1
2026-02-23T18:12:38.9742295Z go: downloading github.com/go-git/go-git/v5 v5.13.1
2026-02-23T18:12:39.0197925Z go: downloading golang.org/x/sync v0.10.0
2026-02-23T18:12:39.1666298Z go: downloading github.com/sajari/fuzzy v1.0.0
2026-02-23T18:12:39.1668676Z go: downloading github.com/radovskyb/watcher v1.0.7
2026-02-23T18:12:39.2356097Z go: downloading github.com/elliotchance/orderedmap/v2 v2.7.0
2026-02-23T18:12:40.4040319Z go: downloading github.com/dlclark/regexp2 v1.11.0
2026-02-23T18:12:40.4392528Z go: downloading github.com/mattn/go-colorable v0.1.13
2026-02-23T18:12:40.4565187Z go: downloading github.com/mattn/go-isatty v0.0.20
2026-02-23T18:12:40.5687577Z go: downloading github.com/muesli/cancelreader v0.2.2
2026-02-23T18:12:40.5693851Z go: downloading golang.org/x/sys v0.28.0
2026-02-23T18:12:40.5712000Z go: downloading golang.org/x/term v0.27.0
2026-02-23T18:12:40.8832623Z go: downloading github.com/davecgh/go-spew v1.1.1
2026-02-23T18:12:40.8887837Z go: downloading github.com/go-task/slim-sprig/v3 v3.0.0
2026-02-23T18:12:40.8891130Z go: downloading github.com/go-task/template v0.1.0
2026-02-23T18:12:40.9144416Z go: downloading dario.cat/mergo v1.0.0
2026-02-23T18:12:40.9298921Z go: downloading github.com/ProtonMail/go-crypto v1.1.3
2026-02-23T18:12:40.9405000Z go: downloading github.com/sergi/go-diff v1.3.2-0.20230802210424-5b0b94c5c0d3
2026-02-23T18:12:40.9886657Z go: downloading github.com/mitchellh/hashstructure/v2 v2.0.2
2026-02-23T18:12:40.9887723Z go: downloading github.com/mattn/go-zglob v0.0.6
2026-02-23T18:12:41.0038949Z go: downloading github.com/zeebo/xxh3 v1.0.2
2026-02-23T18:12:41.4736184Z go: downloading github.com/cyphar/filepath-securejoin v0.3.6
2026-02-23T18:12:41.4754897Z go: downloading github.com/go-git/gcfg v1.5.1-0.20230307220236-3a3c6141e376
2026-02-23T18:12:41.4868682Z go: downloading github.com/pjbgf/sha1cd v0.3.0
2026-02-23T18:12:41.5095483Z go: downloading github.com/emirpasic/gods v1.18.1
2026-02-23T18:12:41.5099814Z go: downloading github.com/jbenet/go-context v0.0.0-20150711004518-d14ea06fba99
2026-02-23T18:12:41.5303534Z go: downloading golang.org/x/crypto v0.31.0
2026-02-23T18:12:41.6663642Z go: downloading github.com/klauspost/cpuid/v2 v2.2.7
2026-02-23T18:12:41.7576801Z go: downloading gopkg.in/warnings.v0 v0.1.2
2026-02-23T18:12:41.7747090Z go: downloading github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da
2026-02-23T18:12:41.7982252Z go: downloading github.com/kevinburke/ssh_config v1.2.0
2026-02-23T18:12:41.7993315Z go: downloading github.com/skeema/knownhosts v1.3.0
2026-02-23T18:12:41.8229894Z go: downloading github.com/xanzy/ssh-agent v0.3.3
2026-02-23T18:12:41.8256037Z go: downloading golang.org/x/net v0.33.0
2026-02-23T18:12:41.8479204Z go: downloading github.com/cloudflare/circl v1.3.7
2026-02-23T18:13:02.7336639Z ##[group]Run if ! command -v yq &> /dev/null; then
2026-02-23T18:13:02.7337014Z [36;1mif ! command -v yq &> /dev/null; then[0m
2026-02-23T18:13:02.7337521Z [36;1m  set -euo pipefail[0m
2026-02-23T18:13:02.7337758Z [36;1m  YQ_VERSION="v4.44.3"[0m
2026-02-23T18:13:02.7338166Z [36;1m  YQ_BASE_URL="https://github.com/mikefarah/yq/releases/download/${YQ_VERSION}"[0m
2026-02-23T18:13:02.7338567Z [36;1m[0m
2026-02-23T18:13:02.7338837Z [36;1m  # Download yq binary and its corresponding SHA256 checksum[0m
2026-02-23T18:13:02.7339241Z [36;1m  wget -q "${YQ_BASE_URL}/yq_linux_amd64" -O /tmp/yq[0m
2026-02-23T18:13:02.7339643Z [36;1m  wget -q "${YQ_BASE_URL}/yq_linux_amd64.sha256" -O /tmp/yq.sha256[0m
2026-02-23T18:13:02.7339978Z [36;1m[0m
2026-02-23T18:13:02.7340176Z [36;1m  # Verify checksum before installing[0m
2026-02-23T18:13:02.7340459Z [36;1m  (cd /tmp && sha256sum -c yq.sha256)[0m
2026-02-23T18:13:02.7340711Z [36;1m[0m
2026-02-23T18:13:02.7340893Z [36;1m  # Install verified binary[0m
2026-02-23T18:13:02.7341197Z [36;1m  sudo install -m 0755 /tmp/yq /usr/local/bin/yq[0m
2026-02-23T18:13:02.7341492Z [36;1mfi[0m
2026-02-23T18:13:02.7373893Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2026-02-23T18:13:02.7374214Z env:
2026-02-23T18:13:02.7374382Z   REGISTRY: ghcr.io
2026-02-23T18:13:02.7374610Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:13:02.7374890Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:13:02.7375166Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7375583Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib/pkgconfig
2026-02-23T18:13:02.7375997Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7376362Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7376727Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7377094Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib
2026-02-23T18:13:02.7377615Z   UV_PYTHON_INSTALL_DIR: /home/runner/work/_temp/uv-python-dir
2026-02-23T18:13:02.7377968Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
2026-02-23T18:13:02.7378264Z ##[endgroup]
2026-02-23T18:13:02.7460321Z ##[group]Run task test:unit
2026-02-23T18:13:02.7460558Z [36;1mtask test:unit[0m
2026-02-23T18:13:02.7489437Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2026-02-23T18:13:02.7489764Z env:
2026-02-23T18:13:02.7489939Z   REGISTRY: ghcr.io
2026-02-23T18:13:02.7490180Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:13:02.7490462Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:13:02.7490736Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7491143Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib/pkgconfig
2026-02-23T18:13:02.7491568Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7492213Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7492590Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:02.7492961Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib
2026-02-23T18:13:02.7493350Z   UV_PYTHON_INSTALL_DIR: /home/runner/work/_temp/uv-python-dir
2026-02-23T18:13:02.7493704Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
2026-02-23T18:13:02.7493983Z ##[endgroup]
2026-02-23T18:13:02.7786045Z task: [test:unit] KUBECONFIG=/dev/null uv run --group test pytest tests/unit/ -v --disable-socket --allow-unix-socket --cov=keycloak_operator --cov-report=xml --cov-report=term
2026-02-23T18:13:02.9205264Z Downloading cpython-3.14.3-linux-x86_64-gnu (download) (34.4MiB)
2026-02-23T18:13:03.7323424Z  Downloaded cpython-3.14.3-linux-x86_64-gnu (download)
2026-02-23T18:13:03.9084443Z Using CPython 3.14.3
2026-02-23T18:13:03.9085034Z Creating virtual environment at: .venv
2026-02-23T18:13:03.9278943Z    Building keycloak-operator @ file:///home/runner/work/keycloak-operator/keycloak-operator
2026-02-23T18:13:03.9474129Z Downloading pygments (1.2MiB)
2026-02-23T18:13:03.9478204Z Downloading pydantic-core (2.0MiB)
2026-02-23T18:13:03.9484333Z Downloading aiohttp (1.6MiB)
2026-02-23T18:13:03.9490603Z Downloading virtualenv (5.7MiB)
2026-02-23T18:13:03.9492942Z Downloading pip (1.7MiB)
2026-02-23T18:13:03.9500971Z Downloading nltk (1.4MiB)
2026-02-23T18:13:03.9515060Z Downloading kubernetes (1.9MiB)
2026-02-23T18:13:03.9517842Z Downloading ruff (10.6MiB)
2026-02-23T18:13:03.9520752Z Downloading grpcio (6.3MiB)
2026-02-23T18:13:03.9523844Z Downloading asyncpg (3.3MiB)
2026-02-23T18:13:03.9533427Z Downloading cryptography (4.3MiB)
2026-02-23T18:13:03.9539088Z Downloading ty (10.1MiB)
2026-02-23T18:13:04.5356145Z  Downloaded pydantic-core
2026-02-23T18:13:04.5513306Z  Downloaded aiohttp
2026-02-23T18:13:04.7745772Z  Downloaded asyncpg
2026-02-23T18:13:04.8556947Z  Downloaded virtualenv
2026-02-23T18:13:04.8566170Z  Downloaded ty
2026-02-23T18:13:04.8575957Z  Downloaded ruff
2026-02-23T18:13:04.8763956Z  Downloaded grpcio
2026-02-23T18:13:04.8845128Z  Downloaded cryptography
2026-02-23T18:13:04.9108954Z  Downloaded pygments
2026-02-23T18:13:04.9287518Z  Downloaded nltk
2026-02-23T18:13:04.9425041Z  Downloaded pip
2026-02-23T18:13:04.9906817Z  Downloaded kubernetes
2026-02-23T18:13:05.1784898Z       Built keycloak-operator @ file:///home/runner/work/keycloak-operator/keycloak-operator
2026-02-23T18:13:05.4829660Z Installed 140 packages in 303ms
2026-02-23T18:13:06.9364888Z ============================= test session starts ==============================
2026-02-23T18:13:06.9366765Z platform linux -- Python 3.14.3, pytest-8.4.2, pluggy-1.6.0 -- /home/runner/work/keycloak-operator/keycloak-operator/.venv/bin/python
2026-02-23T18:13:06.9368416Z cachedir: .pytest_cache
2026-02-23T18:13:06.9368979Z rootdir: /home/runner/work/keycloak-operator/keycloak-operator
2026-02-23T18:13:06.9369472Z configfile: pyproject.toml
2026-02-23T18:13:06.9370518Z plugins: anyio-4.11.0, socket-0.7.0, rerunfailures-16.1, timeout-2.4.0, cov-7.0.0, helm-charts-1.3.4, xdist-3.8.0, asyncio-1.3.0, typeguard-4.4.4
2026-02-23T18:13:06.9371354Z timeout: 300.0s
2026-02-23T18:13:06.9371617Z timeout method: signal
2026-02-23T18:13:06.9372188Z timeout func_only: False
2026-02-23T18:13:06.9372876Z asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
2026-02-23T18:13:11.5382562Z collecting ... collected 1451 items
2026-02-23T18:13:11.5382948Z
2026-02-23T18:13:11.5400898Z tests/unit/models/test_client_authorization.py::TestAuthorizationScope::test_valid_scope PASSED [  0%]
2026-02-23T18:13:11.5409837Z tests/unit/models/test_client_authorization.py::TestAuthorizationScope::test_scope_with_display_name PASSED [  0%]
2026-02-23T18:13:11.5417888Z tests/unit/models/test_client_authorization.py::TestAuthorizationScope::test_empty_name_allowed PASSED [  0%]
2026-02-23T18:13:11.5429702Z tests/unit/models/test_client_authorization.py::TestAuthorizationResource::test_valid_resource PASSED [  0%]
2026-02-23T18:13:11.5438055Z tests/unit/models/test_client_authorization.py::TestAuthorizationResource::test_resource_with_all_fields PASSED [  0%]
2026-02-23T18:13:11.5447776Z tests/unit/models/test_client_authorization.py::TestAuthorizationResource::test_empty_name_raises_error PASSED [  0%]
2026-02-23T18:13:11.5456140Z tests/unit/models/test_client_authorization.py::TestAuthorizationResource::test_whitespace_name_raises_error PASSED [  0%]
2026-02-23T18:13:11.5463981Z tests/unit/models/test_client_authorization.py::TestAuthorizationSettings::test_default_values PASSED [  0%]
2026-02-23T18:13:11.5477202Z tests/unit/models/test_client_authorization.py::TestAuthorizationSettings::test_valid_enforcement_modes PASSED [  0%]
2026-02-23T18:13:11.5484544Z tests/unit/models/test_client_authorization.py::TestAuthorizationSettings::test_enforcement_mode_case_insensitive PASSED [  0%]
2026-02-23T18:13:11.5492820Z tests/unit/models/test_client_authorization.py::TestAuthorizationSettings::test_invalid_enforcement_mode_raises_error PASSED [  0%]
2026-02-23T18:13:11.5504672Z tests/unit/models/test_client_authorization.py::TestAuthorizationSettings::test_valid_decision_strategies PASSED [  0%]
2026-02-23T18:13:11.5512681Z tests/unit/models/test_client_authorization.py::TestAuthorizationSettings::test_decision_strategy_case_insensitive PASSED [  0%]
2026-02-23T18:13:11.5520782Z tests/unit/models/test_client_authorization.py::TestAuthorizationSettings::test_invalid_decision_strategy_raises_error PASSED [  0%]
2026-02-23T18:13:11.5528678Z tests/unit/models/test_client_authorization.py::TestRolePolicy::test_valid_role_policy PASSED [  1%]
2026-02-23T18:13:11.5536432Z tests/unit/models/test_client_authorization.py::TestRolePolicy::test_default_logic PASSED [  1%]
2026-02-23T18:13:11.5548162Z tests/unit/models/test_client_authorization.py::TestRolePolicy::test_valid_logic_values PASSED [  1%]
2026-02-23T18:13:11.5555939Z tests/unit/models/test_client_authorization.py::TestRolePolicy::test_logic_case_insensitive PASSED [  1%]
2026-02-23T18:13:11.5564164Z tests/unit/models/test_client_authorization.py::TestRolePolicy::test_invalid_logic_raises_error PASSED [  1%]
2026-02-23T18:13:11.5572236Z tests/unit/models/test_client_authorization.py::TestRolePolicy::test_role_policy_role_with_required PASSED [  1%]
2026-02-23T18:13:11.5579853Z tests/unit/models/test_client_authorization.py::TestRolePolicy::test_role_policy_role_default_required PASSED [  1%]
2026-02-23T18:13:11.5587570Z tests/unit/models/test_client_authorization.py::TestClientPolicy::test_valid_client_policy PASSED [  1%]
2026-02-23T18:13:11.5599217Z tests/unit/models/test_client_authorization.py::TestClientPolicy::test_invalid_logic_raises_error PASSED [  1%]
2026-02-23T18:13:11.5607233Z tests/unit/models/test_client_authorization.py::TestUserPolicy::test_valid_user_policy PASSED [  1%]
2026-02-23T18:13:11.5618861Z tests/unit/models/test_client_authorization.py::TestUserPolicy::test_invalid_logic_raises_error PASSED [  1%]
2026-02-23T18:13:11.5627097Z tests/unit/models/test_client_authorization.py::TestGroupPolicy::test_valid_group_policy PASSED [  1%]
2026-02-23T18:13:11.5634773Z tests/unit/models/test_client_authorization.py::TestGroupPolicy::test_groups_claim PASSED [  1%]
2026-02-23T18:13:11.5646672Z tests/unit/models/test_client_authorization.py::TestGroupPolicy::test_invalid_logic_raises_error PASSED [  1%]
2026-02-23T18:13:11.5654653Z tests/unit/models/test_client_authorization.py::TestTimePolicy::test_valid_time_policy PASSED [  1%]
2026-02-23T18:13:11.5662668Z tests/unit/models/test_client_authorization.py::TestTimePolicy::test_time_policy_with_dates PASSED [  2%]
2026-02-23T18:13:11.5675066Z tests/unit/models/test_client_authorization.py::TestTimePolicy::test_invalid_logic_raises_error PASSED [  2%]
2026-02-23T18:13:11.5683178Z tests/unit/models/test_client_authorization.py::TestRegexPolicy::test_valid_regex_policy PASSED [  2%]
2026-02-23T18:13:11.5695314Z tests/unit/models/test_client_authorization.py::TestRegexPolicy::test_invalid_logic_raises_error PASSED [  2%]
2026-02-23T18:13:11.5703535Z tests/unit/models/test_client_authorization.py::TestAggregatePolicy::test_valid_aggregate_policy PASSED [  2%]
2026-02-23T18:13:11.5715388Z tests/unit/models/test_client_authorization.py::TestAggregatePolicy::test_valid_decision_strategies PASSED [  2%]
2026-02-23T18:13:11.5724131Z tests/unit/models/test_client_authorization.py::TestAggregatePolicy::test_decision_strategy_case_insensitive PASSED [  2%]
2026-02-23T18:13:11.5732220Z tests/unit/models/test_client_authorization.py::TestAggregatePolicy::test_invalid_decision_strategy_raises_error PASSED [  2%]
2026-02-23T18:13:11.5743955Z tests/unit/models/test_client_authorization.py::TestAggregatePolicy::test_invalid_logic_raises_error PASSED [  2%]
2026-02-23T18:13:11.5751992Z tests/unit/models/test_client_authorization.py::TestResourcePermission::test_valid_resource_permission PASSED [  2%]
2026-02-23T18:13:11.5759644Z tests/unit/models/test_client_authorization.py::TestResourcePermission::test_permission_with_resource_type PASSED [  2%]
2026-02-23T18:13:11.5771558Z tests/unit/models/test_client_authorization.py::TestResourcePermission::test_valid_decision_strategies PASSED [  2%]
2026-02-23T18:13:11.5779810Z tests/unit/models/test_client_authorization.py::TestResourcePermission::test_invalid_decision_strategy_raises_error PASSED [  2%]
2026-02-23T18:13:11.5790174Z tests/unit/models/test_client_authorization.py::TestScopePermission::test_valid_scope_permission PASSED [  2%]
2026-02-23T18:13:11.5798109Z tests/unit/models/test_client_authorization.py::TestScopePermission::test_permission_with_resources PASSED [  3%]
2026-02-23T18:13:11.5810335Z tests/unit/models/test_client_authorization.py::TestScopePermission::test_invalid_decision_strategy_raises_error PASSED [  3%]
2026-02-23T18:13:11.5817939Z tests/unit/models/test_client_authorization.py::TestAuthorizationPermissions::test_empty_permissions PASSED [  3%]
2026-02-23T18:13:11.5825683Z tests/unit/models/test_client_authorization.py::TestAuthorizationPermissions::test_with_resource_permissions PASSED [  3%]
2026-02-23T18:13:11.5833794Z tests/unit/models/test_client_authorization.py::TestAuthorizationPermissions::test_with_scope_permissions PASSED [  3%]
2026-02-23T18:13:11.5841088Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_defaults PASSED [  3%]
2026-02-23T18:13:11.5848982Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_all_fields_set PASSED [  3%]
2026-02-23T18:13:11.5857156Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_events_expiration_minimum_validation PASSED [  3%]
2026-02-23T18:13:11.5864811Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_events_expiration_negative_validation PASSED [  3%]
2026-02-23T18:13:11.5872408Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_alias_mapping_camel_case PASSED [  3%]
2026-02-23T18:13:11.5879865Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_partial_configuration PASSED [  3%]
2026-02-23T18:13:11.5887738Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_empty_listeners_list PASSED [  3%]
2026-02-23T18:13:11.5894980Z tests/unit/models/test_realm_events_config.py::TestEventsConfigModel::test_multiple_event_types PASSED [  3%]
2026-02-23T18:13:11.5910979Z tests/unit/models/test_realm_events_config.py::TestRealmSpecWithEventsConfig::test_default_events_config PASSED [  3%]
2026-02-23T18:13:11.5919162Z tests/unit/models/test_realm_events_config.py::TestRealmSpecWithEventsConfig::test_custom_events_config PASSED [  3%]
2026-02-23T18:13:11.6020016Z tests/unit/models/test_realm_events_config.py::TestRealmSpecWithEventsConfig::test_to_keycloak_config_includes_events PASSED [  4%]
2026-02-23T18:13:11.6028573Z tests/unit/models/test_realm_events_config.py::TestRealmSpecWithEventsConfig::test_to_keycloak_config_default_events PASSED [  4%]
2026-02-23T18:13:11.6037190Z tests/unit/models/test_realm_events_config.py::TestRealmSpecWithEventsConfig::test_events_config_alias_in_realm_spec PASSED [  4%]
2026-02-23T18:13:11.6051140Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderMapper::test_creates_valid_mapper PASSED [  4%]
2026-02-23T18:13:11.6058858Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderMapper::test_mapper_with_empty_config PASSED [  4%]
2026-02-23T18:13:11.6068038Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderMapper::test_mapper_rejects_empty_name PASSED [  4%]
2026-02-23T18:13:11.6077012Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderMapper::test_mapper_rejects_empty_mapper_type PASSED [  4%]
2026-02-23T18:13:11.6085073Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderMapper::test_mapper_serializes_with_alias PASSED [  4%]
2026-02-23T18:13:11.6103881Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderWithMappers::test_idp_with_empty_mappers PASSED [  4%]
2026-02-23T18:13:11.6111607Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderWithMappers::test_idp_with_mappers PASSED [  4%]
2026-02-23T18:13:11.6119652Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderWithMappers::test_idp_serializes_mappers PASSED [  4%]
2026-02-23T18:13:11.6128707Z tests/unit/models/test_realm_idp.py::TestKeycloakIdentityProviderWithMappers::test_idp_with_all_fields PASSED [  4%]
2026-02-23T18:13:11.6136287Z tests/unit/models/test_realm_organizations.py::TestOrganizationDomain::test_valid_domain PASSED [  4%]
2026-02-23T18:13:11.6143957Z tests/unit/models/test_realm_organizations.py::TestOrganizationDomain::test_domain_with_verified PASSED [  4%]
2026-02-23T18:13:11.6151390Z tests/unit/models/test_realm_organizations.py::TestOrganizationIdentityProvider::test_valid_idp PASSED [  5%]
2026-02-23T18:13:11.6159030Z tests/unit/models/test_realm_organizations.py::TestOrganizationIdentityProvider::test_idp_with_redirect_uri PASSED [  5%]
2026-02-23T18:13:11.6171151Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_valid_organization PASSED [  5%]
2026-02-23T18:13:11.6186646Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_organization_with_all_fields PASSED [  5%]
2026-02-23T18:13:11.6194723Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_empty_name_raises_error PASSED [  5%]
2026-02-23T18:13:11.6202590Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_name_too_long_raises_error PASSED [  5%]
2026-02-23T18:13:11.6210068Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_name_max_length_allowed PASSED [  5%]
2026-02-23T18:13:11.6218034Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_with_slash_raises_error PASSED [  5%]
2026-02-23T18:13:11.6225855Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_with_backslash_raises_error PASSED [  5%]
2026-02-23T18:13:11.6233624Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_with_space_raises_error PASSED [  5%]
2026-02-23T18:13:11.6241541Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_with_question_mark_raises_error PASSED [  5%]
2026-02-23T18:13:11.6249273Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_with_hash_raises_error PASSED [  5%]
2026-02-23T18:13:11.6257232Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_with_percent_raises_error PASSED [  5%]
2026-02-23T18:13:11.6265194Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_with_ampersand_raises_error PASSED [  5%]
2026-02-23T18:13:11.6273094Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_too_long_raises_error PASSED [  5%]
2026-02-23T18:13:11.6280429Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_valid_alias PASSED [  6%]
2026-02-23T18:13:11.6288188Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_alias_none_allowed PASSED [  6%]
2026-02-23T18:13:11.6295901Z tests/unit/models/test_realm_organizations.py::TestOrganization::test_organization_with_identity_providers PASSED [  6%]
2026-02-23T18:13:11.6303961Z tests/unit/models/test_realm_organizations.py::TestOrganizationsEnabled::test_organizations_enabled_defaults_to_false PASSED [  6%]
2026-02-23T18:13:11.6311383Z tests/unit/models/test_realm_organizations.py::TestOrganizationsEnabled::test_organizations_enabled_can_be_set_true PASSED [  6%]
2026-02-23T18:13:11.6319517Z tests/unit/models/test_realm_organizations.py::TestOrganizationsEnabled::test_to_keycloak_config_includes_organizations_enabled PASSED [  6%]
2026-02-23T18:13:11.6327631Z tests/unit/models/test_realm_organizations.py::TestOrganizationsEnabled::test_to_keycloak_config_excludes_organizations_enabled_when_false PASSED [  6%]
2026-02-23T18:13:11.6335989Z tests/unit/models/test_realm_organizations.py::TestOrganizationsEnabled::test_to_keycloak_config_with_organizations_list PASSED [  6%]
2026-02-23T18:13:11.6343490Z tests/unit/models/test_realm_otp_policy.py::test_otp_policy_defaults PASSED [  6%]
2026-02-23T18:13:11.6351324Z tests/unit/models/test_realm_otp_policy.py::test_otp_policy_validation PASSED [  6%]
2026-02-23T18:13:11.6359426Z tests/unit/models/test_realm_otp_policy.py::test_realm_spec_flattening PASSED [  6%]
2026-02-23T18:13:11.6367923Z tests/unit/models/test_realm_otp_policy.py::test_realm_spec_no_otp_policy PASSED [  6%]
2026-02-23T18:13:11.6397583Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_empty_policy_string PASSED [  6%]
2026-02-23T18:13:11.6405538Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_single_policy_length PASSED [  6%]
2026-02-23T18:13:11.6413186Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_single_policy_uppercase PASSED [  7%]
2026-02-23T18:13:11.6421087Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_multiple_policies_and_separated PASSED [  7%]
2026-02-23T18:13:11.6428824Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_boolean_policy_not_username PASSED [  7%]
2026-02-23T18:13:11.6436559Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_boolean_policy_not_email PASSED [  7%]
2026-02-23T18:13:11.6444199Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_boolean_policies_false_excluded PASSED [  7%]
2026-02-23T18:13:11.6451586Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_hash_iterations PASSED [  7%]
2026-02-23T18:13:11.6459186Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_password_history PASSED [  7%]
2026-02-23T18:13:11.6467023Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_force_expired_password_change PASSED [  7%]
2026-02-23T18:13:11.6474399Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_max_length PASSED [  7%]
2026-02-23T18:13:11.6481925Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_regex_pattern PASSED [  7%]
2026-02-23T18:13:11.6492946Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_all_policies_combined PASSED [  7%]
2026-02-23T18:13:11.6500399Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_validation_length_minimum PASSED [  7%]
2026-02-23T18:13:11.6511072Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_validation_max_length_minimum PASSED [  7%]
2026-02-23T18:13:11.6522511Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_validation_hash_iterations_minimum PASSED [  7%]
2026-02-23T18:13:11.6532202Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_validation_uppercase_allows_zero PASSED [  7%]
2026-02-23T18:13:11.6540361Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_validation_password_history_allows_zero PASSED [  8%]
2026-02-23T18:13:11.6548252Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_alias_mapping_camel_case PASSED [  8%]
2026-02-23T18:13:11.6554808Z tests/unit/models/test_realm_password_policy.py::TestPasswordPolicyModel::test_policy_order_is_consistent PASSED [  8%]
2026-02-23T18:13:11.6562690Z tests/unit/models/test_realm_password_policy.py::TestRealmSpecWithPasswordPolicy::test_to_keycloak_config_includes_policy PASSED [  8%]
2026-02-23T18:13:11.6570546Z tests/unit/models/test_realm_password_policy.py::TestRealmSpecWithPasswordPolicy::test_to_keycloak_config_omits_empty_policy PASSED [  8%]
2026-02-23T18:13:11.6577900Z tests/unit/models/test_realm_password_policy.py::TestRealmSpecWithPasswordPolicy::test_to_keycloak_config_no_policy_field PASSED [  8%]
2026-02-23T18:13:11.6585672Z tests/unit/models/test_realm_password_policy.py::TestRealmSpecWithPasswordPolicy::test_realm_spec_password_policy_alias PASSED [  8%]
2026-02-23T18:13:11.6593557Z tests/unit/models/test_realm_password_policy.py::TestRealmSpecWithPasswordPolicy::test_comprehensive_policy_in_realm_config PASSED [  8%]
2026-02-23T18:13:11.6599587Z tests/unit/models/test_realm_security_headers.py::test_browser_security_headers_defaults_are_none PASSED [  8%]
2026-02-23T18:13:11.6608267Z tests/unit/models/test_realm_security_headers.py::test_realm_spec_with_security_headers PASSED [  8%]
2026-02-23T18:13:11.6614401Z tests/unit/models/test_realm_security_headers.py::test_realm_spec_without_security_headers PASSED [  8%]
2026-02-23T18:13:11.6622409Z tests/unit/models/test_realm_security_headers.py::test_realm_spec_with_empty_security_headers_object PASSED [  8%]
2026-02-23T18:13:11.6630556Z tests/unit/models/test_realm_webauthn_policy.py::test_webauthn_policy_flattening PASSED [  8%]
2026-02-23T18:13:11.6637528Z tests/unit/models/test_realm_webauthn_policy.py::test_webauthn_policy_defaults PASSED [  8%]
2026-02-23T18:13:11.6645290Z tests/unit/models/test_realm_webauthn_policy.py::test_no_webauthn_policy PASSED [  9%]
2026-02-23T18:13:11.6669883Z tests/unit/services/test_base_reconciler_cleanup.py::TestCleanupWithTimeout::test_successful_cleanup PASSED [  9%]
2026-02-23T18:13:11.7726537Z tests/unit/services/test_base_reconciler_cleanup.py::TestCleanupWithTimeout::test_cleanup_timeout_raises_temporary_error PASSED [  9%]
2026-02-23T18:13:11.7748111Z tests/unit/services/test_base_reconciler_cleanup.py::TestCleanupWithTimeout::test_cleanup_exception_propagates PASSED [  9%]
2026-02-23T18:13:11.7764084Z tests/unit/services/test_base_reconciler_cleanup.py::TestCleanupWithTimeout::test_cleanup_logs_structured_context PASSED [  9%]
2026-02-23T18:13:11.7780977Z tests/unit/services/test_base_reconciler_cleanup.py::TestLogCleanupStep::test_log_cleanup_step_basic PASSED [  9%]
2026-02-23T18:13:11.7792820Z tests/unit/services/test_base_reconciler_cleanup.py::TestLogCleanupStep::test_log_cleanup_step_with_details PASSED [  9%]
2026-02-23T18:13:11.7868283Z tests/unit/services/test_client_reconciler.py::test_manage_service_account_roles_assigns_realm_roles PASSED [  9%]
2026-02-23T18:13:11.7894299Z tests/unit/services/test_client_reconciler.py::test_manage_service_account_roles_assigns_client_roles PASSED [  9%]
2026-02-23T18:13:11.7914698Z tests/unit/services/test_client_reconciler.py::test_manage_service_account_roles_skips_when_no_roles PASSED [  9%]
2026-02-23T18:13:11.7939991Z tests/unit/services/test_client_reconciler.py::test_manage_service_account_roles_missing_service_account_id_raises PASSED [  9%]
2026-02-23T18:13:11.7999797Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationScopes::test_creates_new_scope PASSED [  9%]
2026-02-23T18:13:11.8029440Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationScopes::test_updates_existing_scope_when_changed PASSED [  9%]
2026-02-23T18:13:11.8058760Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationScopes::test_no_update_when_scope_unchanged PASSED [  9%]
2026-02-23T18:13:11.8088339Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationScopes::test_deletes_removed_scope PASSED [  9%]
2026-02-23T18:13:11.8119960Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationScopes::test_create_scope_failure_logs_warning PASSED [ 10%]
2026-02-23T18:13:11.8149805Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationScopes::test_multiple_scopes_created PASSED [ 10%]
2026-02-23T18:13:11.8221469Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationResources::test_creates_new_resource PASSED [ 10%]
2026-02-23T18:13:11.8250895Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationResources::test_updates_existing_resource PASSED [ 10%]
2026-02-23T18:13:11.8280767Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationResources::test_deletes_removed_resource PASSED [ 10%]
2026-02-23T18:13:11.8309831Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationResources::test_preserves_default_resource PASSED [ 10%]
2026-02-23T18:13:11.8341183Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationResources::test_warns_on_missing_scope PASSED [ 10%]
2026-02-23T18:13:11.8373016Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationResources::test_create_resource_failure_logs_warning PASSED [ 10%]
2026-02-23T18:13:11.8484548Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_creates_role_policy PASSED [ 10%]
2026-02-23T18:13:11.8522974Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_creates_user_policy PASSED [ 10%]
2026-02-23T18:13:11.8566611Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_creates_group_policy PASSED [ 10%]
2026-02-23T18:13:11.8617052Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_creates_client_policy PASSED [ 10%]
2026-02-23T18:13:11.8667119Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_creates_time_policy PASSED [ 10%]
2026-02-23T18:13:11.8711185Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_creates_regex_policy PASSED [ 10%]
2026-02-23T18:13:11.8748142Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_creates_aggregate_policy PASSED [ 11%]
2026-02-23T18:13:11.8778535Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_javascript_policy_blocked_by_default PASSED [ 11%]
2026-02-23T18:13:11.8809998Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_javascript_policy_created_when_allowed PASSED [ 11%]
2026-02-23T18:13:11.8839224Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_updates_existing_policy PASSED [ 11%]
2026-02-23T18:13:11.8869162Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_deletes_removed_policy PASSED [ 11%]
2026-02-23T18:13:11.8897604Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_preserves_default_policy PASSED [ 11%]
2026-02-23T18:13:11.8937536Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPolicies::test_skips_permission_types_in_delete PASSED [ 11%]
2026-02-23T18:13:11.9058801Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_creates_resource_permission PASSED [ 11%]
2026-02-23T18:13:11.9086931Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_creates_scope_permission PASSED [ 11%]
2026-02-23T18:13:11.9116425Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_updates_existing_permission PASSED [ 11%]
2026-02-23T18:13:11.9145859Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_deletes_removed_permission PASSED [ 11%]
2026-02-23T18:13:11.9175120Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_preserves_default_permission PASSED [ 11%]
2026-02-23T18:13:11.9204820Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_raises_error_on_missing_policy PASSED [ 11%]
2026-02-23T18:13:11.9233827Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_raises_error_on_missing_resource PASSED [ 11%]
2026-02-23T18:13:11.9264101Z tests/unit/services/test_client_reconciler_authorization.py::TestReconcileAuthorizationPermissions::test_raises_error_on_missing_scope PASSED [ 11%]
2026-02-23T18:13:11.9363683Z tests/unit/services/test_realm_reconciler_auth.py::TestConfigureAuthentication::test_configure_authentication_creates_new_flow PASSED [ 12%]
2026-02-23T18:13:11.9420487Z tests/unit/services/test_realm_reconciler_auth.py::TestConfigureAuthentication::test_configure_authentication_copies_existing_flow PASSED [ 12%]
2026-02-23T18:13:11.9454719Z tests/unit/services/test_realm_reconciler_auth.py::TestConfigureAuthentication::test_configure_authentication_skips_existing_flow PASSED [ 12%]
2026-02-23T18:13:11.9491787Z tests/unit/services/test_realm_reconciler_auth.py::TestAddFlowExecutions::test_add_authenticator_execution PASSED [ 12%]
2026-02-23T18:13:11.9521601Z tests/unit/services/test_realm_reconciler_auth.py::TestAddFlowExecutions::test_add_subflow_execution PASSED [ 12%]
2026-02-23T18:13:11.9550926Z tests/unit/services/test_realm_reconciler_auth.py::TestAddFlowExecutions::test_add_execution_skips_disabled_requirement_update PASSED [ 12%]
2026-02-23T18:13:11.9585044Z tests/unit/services/test_realm_reconciler_auth.py::TestSyncFlowExecutions::test_sync_updates_execution_requirement PASSED [ 12%]
2026-02-23T18:13:11.9616936Z tests/unit/services/test_realm_reconciler_auth.py::TestSyncFlowExecutions::test_sync_skips_matching_requirement PASSED [ 12%]
2026-02-23T18:13:11.9681309Z tests/unit/services/test_realm_reconciler_auth.py::TestConfigureAuthenticatorConfigs::test_creates_new_authenticator_config PASSED [ 12%]
2026-02-23T18:13:11.9713859Z tests/unit/services/test_realm_reconciler_auth.py::TestConfigureAuthenticatorConfigs::test_updates_existing_authenticator_config PASSED [ 12%]
2026-02-23T18:13:11.9794909Z tests/unit/services/test_realm_reconciler_auth.py::TestConfigureRequiredActions::test_updates_existing_required_action PASSED [ 12%]
2026-02-23T18:13:11.9829302Z tests/unit/services/test_realm_reconciler_auth.py::TestConfigureRequiredActions::test_registers_new_required_action PASSED [ 12%]
2026-02-23T18:13:11.9855632Z tests/unit/services/test_realm_reconciler_auth.py::TestHasFlowBindings::test_returns_true_when_browser_flow_set PASSED [ 12%]
2026-02-23T18:13:11.9880428Z tests/unit/services/test_realm_reconciler_auth.py::TestHasFlowBindings::test_returns_true_when_direct_grant_flow_set PASSED [ 12%]
2026-02-23T18:13:11.9905536Z tests/unit/services/test_realm_reconciler_auth.py::TestHasFlowBindings::test_returns_false_when_no_bindings PASSED [ 13%]
2026-02-23T18:13:11.9959363Z tests/unit/services/test_realm_reconciler_auth.py::TestApplyFlowBindings::test_applies_browser_flow_binding PASSED [ 13%]
2026-02-23T18:13:11.9991090Z tests/unit/services/test_realm_reconciler_auth.py::TestApplyFlowBindings::test_applies_multiple_flow_bindings PASSED [ 13%]
2026-02-23T18:13:12.0084338Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureClientScopes::test_creates_new_client_scope PASSED [ 13%]
2026-02-23T18:13:12.0158583Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureClientScopes::test_updates_existing_client_scope PASSED [ 13%]
2026-02-23T18:13:12.0190869Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureClientScopes::test_deletes_scope_no_longer_in_spec PASSED [ 13%]
2026-02-23T18:13:12.0225469Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureClientScopes::test_skips_builtin_scopes_on_delete PASSED [ 13%]
2026-02-23T18:13:12.0256510Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureClientScopes::test_creates_scope_with_protocol_mappers PASSED [ 13%]
2026-02-23T18:13:12.0286830Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureClientScopes::test_empty_client_scopes_returns_early PASSED [ 13%]
2026-02-23T18:13:12.0395921Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureRealmDefaultClientScopes::test_adds_new_default_scope PASSED [ 13%]
2026-02-23T18:13:12.0428078Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureRealmDefaultClientScopes::test_removes_scope_from_defaults PASSED [ 13%]
2026-02-23T18:13:12.0461086Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureRealmDefaultClientScopes::test_adds_new_optional_scope PASSED [ 13%]
2026-02-23T18:13:12.0495814Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestConfigureRealmDefaultClientScopes::test_warns_on_missing_scope PASSED [ 13%]
2026-02-23T18:13:12.0527687Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestSyncClientScopeProtocolMappers::test_creates_new_mapper PASSED [ 13%]
2026-02-23T18:13:12.0559734Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestSyncClientScopeProtocolMappers::test_updates_existing_mapper PASSED [ 13%]
2026-02-23T18:13:12.0592224Z tests/unit/services/test_realm_reconciler_client_scopes.py::TestSyncClientScopeProtocolMappers::test_deletes_removed_mapper PASSED [ 14%]
2026-02-23T18:13:12.0692292Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviders::test_creates_new_idp PASSED [ 14%]
2026-02-23T18:13:12.0718019Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviders::test_deletes_removed_idp PASSED [ 14%]
2026-02-23T18:13:12.0744428Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviders::test_keeps_idp_in_spec PASSED [ 14%]
2026-02-23T18:13:12.0768464Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviders::test_handles_no_idps_in_spec PASSED [ 14%]
2026-02-23T18:13:12.0792691Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviderMappers::test_creates_new_mapper PASSED [ 14%]
2026-02-23T18:13:12.0818226Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviderMappers::test_deletes_removed_mapper PASSED [ 14%]
2026-02-23T18:13:12.0843527Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviderMappers::test_keeps_mapper_in_spec PASSED [ 14%]
2026-02-23T18:13:12.0866707Z tests/unit/services/test_realm_reconciler_idp.py::TestConfigureIdentityProviderMappers::test_handles_empty_mappers PASSED [ 14%]
2026-02-23T18:13:12.0892383Z tests/unit/services/test_realm_reconciler_idp.py::TestFullIdpLifecycle::test_idp_with_mappers PASSED [ 14%]
2026-02-23T18:13:12.0985591Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_skips_when_organizations_not_enabled PASSED [ 14%]
2026-02-23T18:13:12.1042898Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_creates_new_organization PASSED [ 14%]
2026-02-23T18:13:12.1068981Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_creates_organization_with_domains PASSED [ 14%]
2026-02-23T18:13:12.1095489Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_creates_organization_with_attributes PASSED [ 14%]
2026-02-23T18:13:12.1460017Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_updates_existing_organization PASSED [ 15%]
2026-02-23T18:13:12.1485434Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_deletes_removed_organization PASSED [ 15%]
2026-02-23T18:13:12.1511064Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_handles_get_organizations_failure PASSED [ 15%]
2026-02-23T18:13:12.1537190Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_handles_create_organization_failure PASSED [ 15%]
2026-02-23T18:13:12.1563750Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_handles_update_organization_failure PASSED [ 15%]
2026-02-23T18:13:12.1590382Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_handles_delete_organization_failure PASSED [ 15%]
2026-02-23T18:13:12.1615331Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_reconciles_idp_links_for_new_organization PASSED [ 15%]
2026-02-23T18:13:12.1639765Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureOrganizations::test_reconciles_idp_links_for_existing_organization PASSED [ 15%]
2026-02-23T18:13:12.1663722Z tests/unit/services/test_realm_reconciler_organizations.py::TestReconcileOrganizationIdpLinks::test_links_new_idp PASSED [ 15%]
2026-02-23T18:13:12.1686946Z tests/unit/services/test_realm_reconciler_organizations.py::TestReconcileOrganizationIdpLinks::test_unlinks_removed_idp PASSED [ 15%]
2026-02-23T18:13:12.1708673Z tests/unit/services/test_realm_reconciler_organizations.py::TestReconcileOrganizationIdpLinks::test_no_changes_when_idps_match PASSED [ 15%]
2026-02-23T18:13:12.1731831Z tests/unit/services/test_realm_reconciler_organizations.py::TestReconcileOrganizationIdpLinks::test_handles_get_idps_failure PASSED [ 15%]
2026-02-23T18:13:12.1755339Z tests/unit/services/test_realm_reconciler_organizations.py::TestReconcileOrganizationIdpLinks::test_handles_link_idp_failure PASSED [ 15%]
2026-02-23T18:13:12.1778408Z tests/unit/services/test_realm_reconciler_organizations.py::TestReconcileOrganizationIdpLinks::test_handles_unlink_idp_failure PASSED [ 15%]
2026-02-23T18:13:12.1802185Z tests/unit/services/test_realm_reconciler_organizations.py::TestReconcileOrganizationIdpLinks::test_links_multiple_idps PASSED [ 15%]
2026-02-23T18:13:12.1889298Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_creates_client_profiles PASSED [ 16%]
2026-02-23T18:13:12.1921098Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_creates_client_policies PASSED [ 16%]
2026-02-23T18:13:12.1947086Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_clears_profiles_when_empty PASSED [ 16%]
2026-02-23T18:13:12.1972544Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_clears_policies_when_empty PASSED [ 16%]
2026-02-23T18:13:12.1998994Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_handles_profile_update_failure PASSED [ 16%]
2026-02-23T18:13:12.2026270Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_handles_policy_update_failure PASSED [ 16%]
2026-02-23T18:13:12.2052792Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_logs_warning_on_profile_update_returns_false PASSED [ 16%]
2026-02-23T18:13:12.2080040Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_logs_warning_on_policy_update_returns_false PASSED [ 16%]
2026-02-23T18:13:12.2106536Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_creates_multiple_profiles PASSED [ 16%]
2026-02-23T18:13:12.2132844Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_creates_multiple_policies PASSED [ 16%]
2026-02-23T18:13:12.2158973Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_profile_with_multiple_executors PASSED [ 16%]
2026-02-23T18:13:12.2184579Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_policy_with_multiple_conditions PASSED [ 16%]
2026-02-23T18:13:12.2210757Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_handles_clear_profiles_failure PASSED [ 16%]
2026-02-23T18:13:12.2238063Z tests/unit/services/test_realm_reconciler_organizations.py::TestConfigureClientProfilesAndPolicies::test_handles_clear_policies_failure PASSED [ 16%]
2026-02-23T18:13:12.2390348Z tests/unit/services/test_realm_reconciler_otp.py::TestEnsureRealmExistsOTP::test_create_realm_with_otp_policy PASSED [ 17%]
2026-02-23T18:13:12.2420944Z tests/unit/services/test_realm_reconciler_otp.py::TestEnsureRealmExistsOTP::test_update_realm_with_otp_policy PASSED [ 17%]
2026-02-23T18:13:12.2508051Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureRealmRoles::test_creates_new_realm_role PASSED [ 17%]
2026-02-23T18:13:12.2544847Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureRealmRoles::test_updates_existing_realm_role PASSED [ 17%]
2026-02-23T18:13:12.2581807Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureRealmRoles::test_skips_builtin_roles PASSED [ 17%]
2026-02-23T18:13:12.2615839Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureRealmRoles::test_creates_role_with_attributes PASSED [ 17%]
2026-02-23T18:13:12.2680826Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureCompositeRoles::test_adds_composite_roles PASSED [ 17%]
2026-02-23T18:13:12.2847857Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureCompositeRoles::test_removes_unwanted_composite_roles PASSED [ 17%]
2026-02-23T18:13:12.2883048Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDeleteRealmRoles::test_deletes_roles_not_in_spec PASSED [ 17%]
2026-02-23T18:13:12.2994101Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureGroups::test_creates_new_group PASSED [ 17%]
2026-02-23T18:13:12.3029452Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureGroups::test_creates_subgroup PASSED [ 17%]
2026-02-23T18:13:12.3064953Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureGroups::test_updates_existing_group PASSED [ 17%]
2026-02-23T18:13:12.3097707Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureGroups::test_creates_group_with_attributes PASSED [ 17%]
2026-02-23T18:13:12.3160691Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestGroupRoleMappings::test_assigns_realm_roles_to_group PASSED [ 17%]
2026-02-23T18:13:12.3198449Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestGroupRoleMappings::test_removes_unassigned_realm_roles_from_group PASSED [ 17%]
2026-02-23T18:13:12.3232895Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDeleteGroups::test_deletes_groups_not_in_spec PASSED [ 18%]
2026-02-23T18:13:12.3344318Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureDefaultGroups::test_adds_default_group PASSED [ 18%]
2026-02-23T18:13:12.3380376Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureDefaultGroups::test_removes_default_group_not_in_spec PASSED [ 18%]
2026-02-23T18:13:12.3415879Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestConfigureDefaultGroups::test_skips_nonexistent_default_group PASSED [ 18%]
2026-02-23T18:13:12.3463010Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDeepNestedGroups::test_creates_three_level_nested_groups PASSED [ 18%]
2026-02-23T18:13:12.3494861Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestEdgeCases::test_empty_roles_spec PASSED [ 18%]
2026-02-23T18:13:12.3551478Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestEdgeCases::test_empty_groups_spec PASSED [ 18%]
2026-02-23T18:13:12.3595080Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestEdgeCases::test_none_roles_spec PASSED [ 18%]
2026-02-23T18:13:12.3663843Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestEdgeCases::test_none_groups_spec PASSED [ 18%]
2026-02-23T18:13:12.4045818Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestEdgeCases::test_role_creation_failure PASSED [ 18%]
2026-02-23T18:13:12.4080746Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestEdgeCases::test_group_creation_failure PASSED [ 18%]
2026-02-23T18:13:12.4116817Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestRoleUpdateCoverage::test_role_update_when_exists PASSED [ 18%]
2026-02-23T18:13:12.4154401Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestRoleUpdateCoverage::test_composite_role_child_not_found PASSED [ 18%]
2026-02-23T18:13:12.4189590Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestGroupUpdateCoverage::test_group_update_path PASSED [ 18%]
2026-02-23T18:13:12.4227391Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestGroupUpdateCoverage::test_group_role_not_found PASSED [ 19%]
2026-02-23T18:13:12.4263196Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestGroupUpdateCoverage::test_group_creation_conflict_recovery PASSED [ 19%]
2026-02-23T18:13:12.4298537Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDefaultGroupCoverage::test_default_group_add_and_remove PASSED [ 19%]
2026-02-23T18:13:12.4333858Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDefaultGroupCoverage::test_default_group_without_leading_slash PASSED [ 19%]
2026-02-23T18:13:12.4400712Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestClientRoleMappings::test_group_with_client_roles PASSED [ 19%]
2026-02-23T18:13:12.4438376Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_delete_realm_role_exception PASSED [ 19%]
2026-02-23T18:13:12.4476115Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_role_configuration_exception PASSED [ 19%]
2026-02-23T18:13:12.4513945Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_composite_role_configuration_exception PASSED [ 19%]
2026-02-23T18:13:12.4551394Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_group_configuration_exception PASSED [ 19%]
2026-02-23T18:13:12.4588377Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_delete_group_exception PASSED [ 19%]
2026-02-23T18:13:12.4626854Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_group_realm_roles_exception PASSED [ 19%]
2026-02-23T18:13:12.4665090Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_client_not_found_for_group_roles PASSED [ 19%]
2026-02-23T18:13:12.4705103Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_client_role_assignment_with_existing_roles PASSED [ 19%]
2026-02-23T18:13:12.4744266Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_client_role_configuration_exception PASSED [ 19%]
2026-02-23T18:13:12.4780702Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_default_group_add_exception PASSED [ 19%]
2026-02-23T18:13:12.4819971Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_default_group_remove_exception PASSED [ 20%]
2026-02-23T18:13:12.4856580Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_default_group_not_found PASSED [ 20%]
2026-02-23T18:13:12.4889085Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestExceptionCoverage::test_no_default_groups_early_return PASSED [ 20%]
2026-02-23T18:13:12.4926737Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestGroupPathCollectionCoverage::test_collect_group_paths_with_nested_groups PASSED [ 20%]
2026-02-23T18:13:12.4963258Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestGroupMapBuildingCoverage::test_build_group_map_with_nested_existing_groups PASSED [ 20%]
2026-02-23T18:13:12.4999756Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestCompositeRoleCoverage::test_remove_composite_roles_none_to_remove PASSED [ 20%]
2026-02-23T18:13:12.5036595Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestCompositeRoleCoverage::test_add_composite_roles_none_to_add PASSED [ 20%]
2026-02-23T18:13:12.5257740Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDoUpdateRolesGroups::test_do_update_handles_roles_change PASSED [ 20%]
2026-02-23T18:13:12.5293910Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDoUpdateRolesGroups::test_do_update_handles_groups_change PASSED [ 20%]
2026-02-23T18:13:12.5330588Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDoUpdateRolesGroups::test_do_update_handles_default_groups_change PASSED [ 20%]
2026-02-23T18:13:12.5368995Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDoUpdateRolesGroups::test_do_update_roles_exception_handled PASSED [ 20%]
2026-02-23T18:13:12.5409333Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDoUpdateRolesGroups::test_do_update_groups_exception_handled PASSED [ 20%]
2026-02-23T18:13:12.5446873Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDoUpdateRolesGroups::test_do_update_default_groups_exception_handled PASSED [ 20%]
2026-02-23T18:13:12.5481022Z tests/unit/services/test_realm_reconciler_roles_groups.py::TestDoUpdateRolesGroups::test_do_update_no_changes PASSED [ 20%]
2026-02-23T18:13:12.5488872Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_unlimited_capacity_default PASSED [ 21%]
2026-02-23T18:13:12.5496584Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_with_max_realms PASSED [ 21%]
2026-02-23T18:13:12.5504221Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_with_allow_new_realms_false PASSED [ 21%]
2026-02-23T18:13:12.5511456Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_with_custom_message PASSED [ 21%]
2026-02-23T18:13:12.5518964Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_max_realms_minimum PASSED [ 21%]
2026-02-23T18:13:12.5526907Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_max_realms_zero_invalid PASSED [ 21%]
2026-02-23T18:13:12.5534681Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_max_realms_negative_invalid PASSED [ 21%]
2026-02-23T18:13:12.5542145Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_serialization PASSED [ 21%]
2026-02-23T18:13:12.5549725Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_keycloak_spec_with_capacity PASSED [ 21%]
2026-02-23T18:13:12.5557628Z tests/unit/test_capacity_management.py::TestRealmCapacityModel::test_capacity_all_fields PASSED [ 21%]
2026-02-23T18:13:12.7620550Z tests/unit/test_circuit_breaker.py::test_circuit_breaker_state_transitions PASSED [ 21%]
2026-02-23T18:13:12.7636009Z tests/unit/test_circuit_breaker.py::test_circuit_breaker_passthrough PASSED [ 21%]
2026-02-23T18:13:12.7710913Z tests/unit/test_client_reconciler_metadata.py::test_manage_client_credentials_passes_metadata PASSED [ 21%]
2026-02-23T18:13:12.8805248Z tests/unit/test_client_reconciler_metadata.py::test_do_update_passes_metadata_without_regeneration FAILED [ 21%]
2026-02-23T18:13:12.9083334Z tests/unit/test_client_reconciler_metadata.py::test_do_update_passes_metadata_on_regeneration FAILED [ 21%]
2026-02-23T18:13:13.0361614Z tests/unit/test_client_reconciler_security.py::test_admin_realm_role_blocked FAILED [ 22%]
2026-02-23T18:13:13.1839608Z tests/unit/test_client_reconciler_security.py::test_realm_admin_client_role_blocked FAILED [ 22%]
2026-02-23T18:13:13.1870096Z tests/unit/test_client_reconciler_security.py::test_other_roles_allowed PASSED [ 22%]
2026-02-23T18:13:13.3108753Z tests/unit/test_client_reconciler_security.py::test_impersonation_blocked_by_default FAILED [ 22%]
2026-02-23T18:13:13.3136433Z tests/unit/test_client_reconciler_security.py::test_impersonation_allowed_when_enabled PASSED [ 22%]
2026-02-23T18:13:13.4950879Z tests/unit/test_client_reconciler_security.py::test_script_mapper_blocked FAILED [ 22%]
2026-02-23T18:13:13.6211981Z tests/unit/test_client_reconciler_security.py::test_saml_script_mapper_blocked FAILED [ 22%]
2026-02-23T18:13:13.7459162Z tests/unit/test_client_reconciler_security.py::test_case_insensitive_script_mapper_blocked FAILED [ 22%]
2026-02-23T18:13:13.8715763Z tests/unit/test_client_reconciler_security.py::test_combined_role_restrictions FAILED [ 22%]
2026-02-23T18:13:13.9952875Z tests/unit/test_client_reconciler_security.py::test_other_high_privilege_roles_blocked FAILED [ 22%]
2026-02-23T18:13:13.9979156Z tests/unit/test_client_reconciler_security.py::test_script_mapper_allowed_with_setting PASSED [ 22%]
2026-02-23T18:13:14.0173202Z tests/unit/test_client_secret_management.py::test_fix_secret_regeneration_and_owner_ref FAILED [ 22%]
2026-02-23T18:13:14.0181339Z tests/unit/test_client_secret_manual.py::test_client_secret_ref_model PASSED [ 22%]
2026-02-23T18:13:14.0190001Z tests/unit/test_client_secret_manual.py::test_client_spec_with_manual_secret PASSED [ 22%]
2026-02-23T18:13:14.0199166Z tests/unit/test_client_secret_manual.py::test_client_spec_validation_conflict PASSED [ 23%]
2026-02-23T18:13:14.0208210Z tests/unit/test_client_secret_manual.py::test_client_spec_validation_public_client_conflict PASSED [ 23%]
2026-02-23T18:13:14.0232194Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_parse_duration_valid PASSED [ 23%]
2026-02-23T18:13:14.0247038Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_parse_duration_invalid PASSED [ 23%]
2026-02-23T18:13:14.0344888Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_parse_duration_zero_value FAILED [ 23%]
2026-02-23T18:13:14.0438031Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_parse_duration_negative_value FAILED [ 23%]
2026-02-23T18:13:14.0469054Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_disabled PASSED [ 23%]
2026-02-23T18:13:14.0487252Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_no_annotation PASSED [ 23%]
2026-02-23T18:13:14.0505428Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_not_expired PASSED [ 23%]
2026-02-23T18:13:14.0523188Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_expired PASSED [ 23%]
2026-02-23T18:13:14.0627766Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_with_time_window_not_reached FAILED [ 23%]
2026-02-23T18:13:14.0646626Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_with_time_window_reached PASSED [ 23%]
2026-02-23T18:13:14.0665084Z tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_timezone PASSED [ 23%]
2026-02-23T18:13:14.0688348Z tests/unit/test_client_secret_rotation.py::TestSecretRotationConfig::test_rotation_time_valid_format PASSED [ 23%]
2026-02-23T18:13:14.0696628Z tests/unit/test_client_secret_rotation.py::TestSecretRotationConfig::test_rotation_time_none PASSED [ 23%]
2026-02-23T18:13:14.0705972Z tests/unit/test_client_secret_rotation.py::TestSecretRotationConfig::test_rotation_time_invalid_format PASSED [ 24%]
2026-02-23T18:13:14.0714830Z tests/unit/test_client_secret_rotation.py::TestSecretRotationConfig::test_rotation_time_invalid_hour PASSED [ 24%]
2026-02-23T18:13:14.0723695Z tests/unit/test_client_secret_rotation.py::TestSecretRotationConfig::test_rotation_time_invalid_minute PASSED [ 24%]
2026-02-23T18:13:14.0732413Z tests/unit/test_client_secret_rotation.py::TestSecretRotationConfig::test_rotation_time_non_integer_values PASSED [ 24%]
2026-02-23T18:13:14.0750013Z tests/unit/test_client_secret_rotation.py::TestPublicClientRotation::test_public_client_skips_rotation_check PASSED [ 24%]
2026-02-23T18:13:14.0770514Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_days PASSED [ 24%]
2026-02-23T18:13:14.0778691Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_hours PASSED [ 24%]
2026-02-23T18:13:14.0786761Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_minutes PASSED [ 24%]
2026-02-23T18:13:14.0794835Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_seconds PASSED [ 24%]
2026-02-23T18:13:14.0803339Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_invalid_unit PASSED [ 24%]
2026-02-23T18:13:14.0811353Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_zero_value PASSED [ 24%]
2026-02-23T18:13:14.0819515Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_negative_value PASSED [ 24%]
2026-02-23T18:13:14.0827590Z tests/unit/test_client_secret_rotation.py::TestDaemonParseDuration::test_parse_duration_empty_string PASSED [ 24%]
2026-02-23T18:13:14.0854706Z tests/unit/test_client_secret_rotation.py::TestCalculateSecondsUntilRotation::test_rotation_not_due PASSED [ 24%]
2026-02-23T18:13:14.0864539Z tests/unit/test_client_secret_rotation.py::TestCalculateSecondsUntilRotation::test_rotation_due_immediately PASSED [ 25%]
2026-02-23T18:13:14.0873946Z tests/unit/test_client_secret_rotation.py::TestCalculateSecondsUntilRotation::test_rotation_halfway PASSED [ 25%]
2026-02-23T18:13:14.0885284Z tests/unit/test_client_secret_rotation.py::TestCalculateSecondsUntilRotation::test_rotation_with_time_window_not_reached PASSED [ 25%]
2026-02-23T18:13:14.0895038Z tests/unit/test_client_secret_rotation.py::TestCalculateSecondsUntilRotation::test_rotation_with_time_window_reached PASSED [ 25%]
2026-02-23T18:13:14.0908953Z tests/unit/test_client_secret_rotation.py::TestCalculateSecondsUntilRotation::test_rotation_with_invalid_timezone PASSED [ 25%]
2026-02-23T18:13:14.0918429Z tests/unit/test_client_secret_rotation.py::TestCalculateSecondsUntilRotation::test_rotation_short_period PASSED [ 25%]
2026-02-23T18:13:14.0932188Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_valid_iso_format_with_timezone PASSED [ 25%]
2026-02-23T18:13:14.0940101Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_valid_iso_format_without_timezone PASSED [ 25%]
2026-02-23T18:13:14.0948275Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_valid_iso_format_with_microseconds PASSED [ 25%]
2026-02-23T18:13:14.0956312Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_none_returns_none PASSED [ 25%]
2026-02-23T18:13:14.0964332Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_empty_string_returns_none PASSED [ 25%]
2026-02-23T18:13:14.0972059Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_invalid_format_returns_none PASSED [ 25%]
2026-02-23T18:13:14.0979651Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_partial_timestamp_returns_none PASSED [ 25%]
2026-02-23T18:13:14.0987376Z tests/unit/test_client_secret_rotation.py::TestParseRotationTimestamp::test_parse_garbage_returns_none PASSED [ 25%]
2026-02-23T18:13:14.0995246Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_initial_backoff PASSED [ 25%]
2026-02-23T18:13:14.1002701Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_first_retry_doubles PASSED [ 26%]
2026-02-23T18:13:14.1010299Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_second_retry_quadruples PASSED [ 26%]
2026-02-23T18:13:14.1017934Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_backoff_capped_at_max PASSED [ 26%]
2026-02-23T18:13:14.1025642Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_custom_initial_backoff PASSED [ 26%]
2026-02-23T18:13:14.1033146Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_custom_max_backoff PASSED [ 26%]
2026-02-23T18:13:14.1040588Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_backoff_just_below_max PASSED [ 26%]
2026-02-23T18:13:14.1048299Z tests/unit/test_client_secret_rotation.py::TestCalculateExponentialBackoff::test_backoff_just_at_max PASSED [ 26%]
2026-02-23T18:13:14.1185632Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_secret_not_found_waits PASSED [ 26%]
2026-02-23T18:13:14.1224653Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_successful_rotation PASSED [ 26%]
2026-02-23T18:13:14.1263420Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_rotation_retry_on_failure PASSED [ 26%]
2026-02-23T18:13:14.1302490Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_max_retries_sets_degraded PASSED [ 26%]
2026-02-23T18:13:14.1341136Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_unexpected_error_waits_and_continues PASSED [ 26%]
2026-02-23T18:13:14.1379514Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_regenerate_returns_empty_secret PASSED [ 26%]
2026-02-23T18:13:14.1418786Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_keycloak_instance_not_found PASSED [ 26%]
2026-02-23T18:13:14.1444965Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_no_annotation_waits PASSED [ 27%]
2026-02-23T18:13:14.1471406Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_invalid_timestamp_waits PASSED [ 27%]
2026-02-23T18:13:14.1498894Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_rotation_not_due_sleeps PASSED [ 27%]
2026-02-23T18:13:14.1528085Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_realm_not_found_waits PASSED [ 27%]
2026-02-23T18:13:14.1558222Z tests/unit/test_client_secret_rotation.py::TestSecretRotationDaemon::test_daemon_no_keycloak_ref_waits PASSED [ 27%]
2026-02-23T18:13:14.1615635Z tests/unit/test_client_secret_watcher.py::test_monitor_client_secrets_deleted PASSED [ 27%]
2026-02-23T18:13:14.1630623Z tests/unit/test_client_secret_watcher.py::test_monitor_client_secrets_ignored PASSED [ 27%]
2026-02-23T18:13:14.1657662Z tests/unit/test_compatibility.py::TestAdapterFactory::test_get_adapter_for_version_v26 PASSED [ 27%]
2026-02-23T18:13:14.1665241Z tests/unit/test_compatibility.py::TestAdapterFactory::test_get_adapter_for_version_v25 PASSED [ 27%]
2026-02-23T18:13:14.1672611Z tests/unit/test_compatibility.py::TestAdapterFactory::test_get_adapter_for_version_v24 PASSED [ 27%]
2026-02-23T18:13:14.1680983Z tests/unit/test_compatibility.py::TestAdapterFactory::test_get_adapter_unsupported_version PASSED [ 27%]
2026-02-23T18:13:14.1689021Z tests/unit/test_compatibility.py::TestAdapterFactory::test_get_adapter_invalid_version_string PASSED [ 27%]
2026-02-23T18:13:14.1696560Z tests/unit/test_compatibility.py::TestVersionParsing::test_version_parsing PASSED [ 27%]
2026-02-23T18:13:14.1704030Z tests/unit/test_compatibility.py::TestVersionParsing::test_version_at_least PASSED [ 27%]
2026-02-23T18:13:14.1711227Z tests/unit/test_compatibility.py::TestVersionParsing::test_version_less_than PASSED [ 27%]
2026-02-23T18:13:14.1719617Z tests/unit/test_compatibility.py::TestPathResolution::test_path_resolution_v26 PASSED [ 28%]
2026-02-23T18:13:14.1727146Z tests/unit/test_compatibility.py::TestPathResolution::test_path_resolution_v25 PASSED [ 28%]
2026-02-23T18:13:14.1734276Z tests/unit/test_compatibility.py::TestPathResolution::test_path_resolution_v24 PASSED [ 28%]
2026-02-23T18:13:14.1756943Z tests/unit/test_compatibility.py::TestVersionValidation::test_oauth2_device_fields_blocked_on_26_4 PASSED [ 28%]
2026-02-23T18:13:14.1764525Z tests/unit/test_compatibility.py::TestVersionValidation::test_oauth2_device_fields_allowed_on_26_3 PASSED [ 28%]
2026-02-23T18:13:14.1787247Z tests/unit/test_compatibility.py::TestVersionValidation::test_organizations_blocked_on_v25 PASSED [ 28%]
2026-02-23T18:13:14.1795727Z tests/unit/test_compatibility.py::TestVersionValidation::test_client_policy_warning_on_old_version PASSED [ 28%]
2026-02-23T18:13:14.1808386Z tests/unit/test_compatibility.py::TestVersionWarning::test_warning_to_condition PASSED [ 28%]
2026-02-23T18:13:14.1816019Z tests/unit/test_compatibility.py::TestVersionWarning::test_error_to_condition PASSED [ 28%]
2026-02-23T18:13:14.1826406Z tests/unit/test_compatibility.py::TestValidationResult::test_valid_result PASSED [ 28%]
2026-02-23T18:13:14.1833751Z tests/unit/test_compatibility.py::TestValidationResult::test_result_with_warnings PASSED [ 28%]
2026-02-23T18:13:14.1843753Z tests/unit/test_compatibility.py::TestValidationResult::test_result_with_errors PASSED [ 28%]
2026-02-23T18:13:14.1881355Z tests/unit/test_compatibility.py::TestClientPolicyConversion::test_outbound_conversion_to_list_for_old_version PASSED [ 28%]
2026-02-23T18:13:14.1899688Z tests/unit/test_compatibility.py::TestClientPolicyConversion::test_inbound_conversion_to_dict_for_old_version PASSED [ 28%]
2026-02-23T18:13:14.1908040Z tests/unit/test_compatibility.py::TestClientPolicyConversion::test_no_conversion_for_new_version PASSED [ 29%]
2026-02-23T18:13:14.1916268Z tests/unit/test_compatibility.py::TestWarningCollection::test_warnings_are_collected PASSED [ 29%]
2026-02-23T18:13:14.1929086Z tests/unit/test_compatibility.py::TestWarningCollection::test_get_status_conditions PASSED [ 29%]
2026-02-23T18:13:14.1937223Z tests/unit/test_compatibility.py::TestWarningCollection::test_warnings_cleared_between_validations PASSED [ 29%]
2026-02-23T18:13:14.2224062Z tests/unit/test_crd_pydantic_schema_match.py::TestCRDPydanticSchemaMatch::test_keycloak_crd_matches_model PASSED [ 29%]
2026-02-23T18:13:14.3328909Z tests/unit/test_crd_pydantic_schema_match.py::TestCRDPydanticSchemaMatch::test_keycloakrealm_crd_matches_model PASSED [ 29%]
2026-02-23T18:13:14.3893409Z tests/unit/test_crd_pydantic_schema_match.py::TestCRDPydanticSchemaMatch::test_keycloakclient_crd_matches_model PASSED [ 29%]
2026-02-23T18:13:14.3901341Z tests/unit/test_crd_pydantic_schema_match.py::TestCRDPydanticSchemaMatch::test_crd_files_exist PASSED [ 29%]
2026-02-23T18:13:14.3909905Z tests/unit/test_crd_pydantic_schema_match.py::TestCRDPydanticSchemaMatch::test_schema_loader_handles_missing_file PASSED [ 29%]
2026-02-23T18:13:14.3917891Z tests/unit/test_crd_pydantic_schema_match.py::TestCRDPydanticSchemaMatch::test_type_matching_logic PASSED [ 29%]
2026-02-23T18:13:14.3939567Z tests/unit/test_crd_validation.py::TestDatabaseTypeValidation::test_production_databases_accepted PASSED [ 29%]
2026-02-23T18:13:14.3948581Z tests/unit/test_crd_validation.py::TestDatabaseTypeValidation::test_h2_database_rejected PASSED [ 29%]
2026-02-23T18:13:14.3956613Z tests/unit/test_crd_validation.py::TestDatabaseTypeValidation::test_invalid_database_types_rejected PASSED [ 29%]
2026-02-23T18:13:14.3964378Z tests/unit/test_crd_validation.py::TestDatabaseTypeValidation::test_database_type_case_sensitive PASSED [ 29%]
2026-02-23T18:13:14.3972674Z tests/unit/test_crd_validation.py::TestDatabaseTypeValidation::test_valid_production_types_comprehensive PASSED [ 29%]
2026-02-23T18:13:14.3983764Z tests/unit/test_crd_validation.py::TestPortValidation::test_valid_ports_accepted PASSED [ 30%]
2026-02-23T18:13:14.3991538Z tests/unit/test_crd_validation.py::TestPortValidation::test_invalid_ports_rejected PASSED [ 30%]
2026-02-23T18:13:14.3999064Z tests/unit/test_crd_validation.py::TestPortValidation::test_default_port_behavior PASSED [ 30%]
2026-02-23T18:13:14.4006612Z tests/unit/test_crd_validation.py::TestSecurityRequirements::test_no_hardcoded_password_field PASSED [ 30%]
2026-02-23T18:13:14.4014548Z tests/unit/test_crd_validation.py::TestSecurityRequirements::test_credential_management_options PASSED [ 30%]
2026-02-23T18:13:14.4022276Z tests/unit/test_crd_validation.py::TestBackwardCompatibilityValidation::test_h2_migration_completely_blocked PASSED [ 30%]
2026-02-23T18:13:14.4029892Z tests/unit/test_crd_validation.py::TestBackwardCompatibilityValidation::test_production_database_migration_paths PASSED [ 30%]
2026-02-23T18:13:14.4037690Z tests/unit/test_crd_validation.py::TestValidationErrorMessages::test_h2_error_message_helpful PASSED [ 30%]
2026-02-23T18:13:14.4045821Z tests/unit/test_crd_validation.py::TestValidationErrorMessages::test_invalid_type_shows_valid_options PASSED [ 30%]
2026-02-23T18:13:14.4059516Z tests/unit/test_database_manager.py::TestGetConnectionPoolDict::test_none_pool_returns_empty PASSED [ 30%]
2026-02-23T18:13:14.4068579Z tests/unit/test_database_manager.py::TestGetConnectionPoolDict::test_dict_pool_returned_as_is PASSED [ 30%]
2026-02-23T18:13:14.4079381Z tests/unit/test_database_manager.py::TestGetConnectionPoolDict::test_model_pool_calls_model_dump PASSED [ 30%]
2026-02-23T18:13:14.4115203Z tests/unit/test_database_manager.py::TestGetPasswordFromSecret::test_returns_decoded_password PASSED [ 30%]
2026-02-23T18:13:14.4137108Z tests/unit/test_database_manager.py::TestGetPasswordFromSecret::test_missing_key_raises PASSED [ 30%]
2026-02-23T18:13:14.4153960Z tests/unit/test_database_manager.py::TestGetPasswordFromSecret::test_empty_data_raises PASSED [ 31%]
2026-02-23T18:13:14.4169717Z tests/unit/test_database_manager.py::TestGetPasswordFromSecret::test_secret_not_found_raises PASSED [ 31%]
2026-02-23T18:13:14.4185050Z tests/unit/test_database_manager.py::TestGetPasswordFromSecret::test_other_api_error_raises PASSED [ 31%]
2026-02-23T18:13:14.4219488Z tests/unit/test_database_manager.py::TestGetK8sSecretCredentials::test_returns_decoded_credentials PASSED [ 31%]
2026-02-23T18:13:14.4237069Z tests/unit/test_database_manager.py::TestGetK8sSecretCredentials::test_missing_username_or_password_raises PASSED [ 31%]
2026-02-23T18:13:14.4253427Z tests/unit/test_database_manager.py::TestGetK8sSecretCredentials::test_empty_data_raises PASSED [ 31%]
2026-02-23T18:13:14.4268896Z tests/unit/test_database_manager.py::TestGetK8sSecretCredentials::test_404_raises_retryable PASSED [ 31%]
2026-02-23T18:13:14.4284581Z tests/unit/test_database_manager.py::TestGetK8sSecretCredentials::test_non_404_api_error PASSED [ 31%]
2026-02-23T18:13:14.4337137Z tests/unit/test_database_manager.py::TestTestDatabaseConnection::test_postgresql_success PASSED [ 31%]
2026-02-23T18:13:14.4353483Z tests/unit/test_database_manager.py::TestTestDatabaseConnection::test_postgresql_failure PASSED [ 31%]
2026-02-23T18:13:14.4368807Z tests/unit/test_database_manager.py::TestTestDatabaseConnection::test_non_postgresql_uses_socket PASSED [ 31%]
2026-02-23T18:13:14.4384677Z tests/unit/test_database_manager.py::TestTestDatabaseConnection::test_exception_returns_false PASSED [ 31%]
2026-02-23T18:13:14.4425362Z tests/unit/test_database_manager.py::TestTestPostgresqlConnection::test_asyncpg_not_available_falls_back_to_socket PASSED [ 31%]
2026-02-23T18:13:14.4948390Z tests/unit/test_database_manager.py::TestTestPostgresqlConnection::test_asyncpg_connection_success PASSED [ 31%]
2026-02-23T18:13:14.4964038Z tests/unit/test_database_manager.py::TestTestPostgresqlConnection::test_asyncpg_connection_failure PASSED [ 31%]
2026-02-23T18:13:14.4987296Z tests/unit/test_database_manager.py::TestGenerateConnectionString::test_postgresql_string PASSED [ 32%]
2026-02-23T18:13:14.4995777Z tests/unit/test_database_manager.py::TestGenerateConnectionString::test_mysql_string PASSED [ 32%]
2026-02-23T18:13:14.5004453Z tests/unit/test_database_manager.py::TestGenerateConnectionString::test_mysql_ssl_disabled PASSED [ 32%]
2026-02-23T18:13:14.5013587Z tests/unit/test_database_manager.py::TestGenerateConnectionString::test_generic_jdbc_string PASSED [ 32%]
2026-02-23T18:13:14.5049016Z tests/unit/test_database_utils.py::TestResolveTraditionalConnection::test_resolve_with_credentials_secret PASSED [ 32%]
2026-02-23T18:13:14.5065743Z tests/unit/test_database_utils.py::TestResolveTraditionalConnection::test_resolve_with_username_only PASSED [ 32%]
2026-02-23T18:13:14.5088602Z tests/unit/test_database_utils.py::TestResolveTraditionalConnection::test_resolve_with_ssl_mode PASSED [ 32%]
2026-02-23T18:13:14.5105498Z tests/unit/test_database_utils.py::TestResolveTraditionalConnection::test_resolve_with_connection_params PASSED [ 32%]
2026-02-23T18:13:14.5122144Z tests/unit/test_database_utils.py::TestResolveTraditionalConnection::test_resolve_missing_credentials PASSED [ 32%]
2026-02-23T18:13:14.5153793Z tests/unit/test_database_utils.py::TestGetK8sSecretCredentials::test_get_valid_secret_credentials PASSED [ 32%]
2026-02-23T18:13:14.5183399Z tests/unit/test_database_utils.py::TestGetK8sSecretCredentials::test_get_secret_not_found PASSED [ 32%]
2026-02-23T18:13:14.5213810Z tests/unit/test_database_utils.py::TestGetK8sSecretCredentials::test_get_secret_empty_data PASSED [ 32%]
2026-02-23T18:13:14.5244535Z tests/unit/test_database_utils.py::TestGetK8sSecretCredentials::test_get_secret_missing_username PASSED [ 32%]
2026-02-23T18:13:14.5274559Z tests/unit/test_database_utils.py::TestGetK8sSecretCredentials::test_get_secret_missing_password PASSED [ 32%]
2026-02-23T18:13:14.5303999Z tests/unit/test_database_utils.py::TestGetK8sSecretCredentials::test_get_secret_api_error PASSED [ 33%]
2026-02-23T18:13:14.5316855Z tests/unit/test_database_utils.py::TestGenerateConnectionString::test_generate_postgresql_url_basic PASSED [ 33%]
2026-02-23T18:13:14.5329660Z tests/unit/test_database_utils.py::TestGenerateConnectionString::test_generate_postgresql_url_with_ssl_mode PASSED [ 33%]
2026-02-23T18:13:14.5342242Z tests/unit/test_database_utils.py::TestGenerateConnectionString::test_generate_postgresql_url_with_application_name PASSED [ 33%]
2026-02-23T18:13:14.5354427Z tests/unit/test_database_utils.py::TestGenerateConnectionString::test_generate_mysql_url PASSED [ 33%]
2026-02-23T18:13:14.5366680Z tests/unit/test_database_utils.py::TestGenerateConnectionString::test_generate_mysql_url_no_ssl PASSED [ 33%]
2026-02-23T18:13:14.5378720Z tests/unit/test_database_utils.py::TestGenerateConnectionString::test_generate_mariadb_url PASSED [ 33%]
2026-02-23T18:13:14.5391225Z tests/unit/test_database_utils.py::TestGenerateConnectionString::test_generate_generic_jdbc_url PASSED [ 33%]
2026-02-23T18:13:14.5407423Z tests/unit/test_database_utils.py::TestConnectionPooling::test_default_connection_pool_settings PASSED [ 33%]
2026-02-23T18:13:14.5424280Z tests/unit/test_database_utils.py::TestConnectionPooling::test_custom_connection_pool_settings PASSED [ 33%]
2026-02-23T18:13:14.5490758Z tests/unit/test_drift_detection_metrics.py::TestUpdateDriftMetrics::test_single_orphaned_drift PASSED [ 33%]
2026-02-23T18:13:14.5673719Z tests/unit/test_drift_detection_metrics.py::TestUpdateDriftMetrics::test_multiple_orphaned_same_type_counted PASSED [ 33%]
2026-02-23T18:13:14.5700364Z tests/unit/test_drift_detection_metrics.py::TestUpdateDriftMetrics::test_config_drift_with_namespace PASSED [ 33%]
2026-02-23T18:13:14.5725552Z tests/unit/test_drift_detection_metrics.py::TestUpdateDriftMetrics::test_config_drift_missing_namespace_uses_unknown PASSED [ 33%]
2026-02-23T18:13:14.5750508Z tests/unit/test_drift_detection_metrics.py::TestUpdateDriftMetrics::test_unmanaged_resources_counted PASSED [ 33%]
2026-02-23T18:13:14.5776084Z tests/unit/test_drift_detection_metrics.py::TestUpdateDriftMetrics::test_empty_results_resets_all_gauges PASSED [ 34%]
2026-02-23T18:13:14.5801837Z tests/unit/test_drift_detection_metrics.py::TestUpdateDriftMetrics::test_mixed_drift_types PASSED [ 34%]
2026-02-23T18:13:14.5834464Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_identical_dicts_no_drift PASSED [ 34%]
2026-02-23T18:13:14.5850412Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_missing_key_in_actual PASSED [ 34%]
2026-02-23T18:13:14.5865958Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_value_mismatch PASSED [ 34%]
2026-02-23T18:13:14.5881299Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_none_values_in_desired_are_skipped PASSED [ 34%]
2026-02-23T18:13:14.5896648Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_nested_dict_drift PASSED [ 34%]
2026-02-23T18:13:14.5912222Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_nested_dict_missing_key PASSED [ 34%]
2026-02-23T18:13:14.5927632Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_list_mismatch PASSED [ 34%]
2026-02-23T18:13:14.5972447Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_list_match PASSED [ 34%]
2026-02-23T18:13:14.5988182Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_extra_keys_in_actual_ignored PASSED [ 34%]
2026-02-23T18:13:14.6003612Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_deeply_nested_drift PASSED [ 34%]
2026-02-23T18:13:14.6018825Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_empty_desired_no_drift PASSED [ 34%]
2026-02-23T18:13:14.6034206Z tests/unit/test_drift_detector_logic.py::TestCalculateDrift::test_multiple_drifts PASSED [ 34%]
2026-02-23T18:13:14.6101056Z tests/unit/test_drift_detector_logic.py::TestCheckRealmResourceDrift::test_owned_but_missing_cr_reference_is_orphaned PASSED [ 35%]
2026-02-23T18:13:14.6126655Z tests/unit/test_drift_detector_logic.py::TestCheckRealmResourceDrift::test_owned_cr_deleted_is_orphaned PASSED [ 35%]
2026-02-23T18:13:14.6149876Z tests/unit/test_drift_detector_logic.py::TestCheckRealmResourceDrift::test_unmanaged_realm PASSED [ 35%]
2026-02-23T18:13:14.6186630Z tests/unit/test_drift_detector_logic.py::TestCheckRealmResourceDrift::test_owned_by_different_operator_returns_none PASSED [ 35%]
2026-02-23T18:13:14.6210741Z tests/unit/test_drift_detector_logic.py::TestCheckRealmResourceDrift::test_skip_config_drift_flag PASSED [ 35%]
2026-02-23T18:13:14.6251109Z tests/unit/test_drift_detector_logic.py::TestCheckRealmResourceDrift::test_config_drift_detected PASSED [ 35%]
2026-02-23T18:13:14.6273802Z tests/unit/test_drift_detector_logic.py::TestCrExists::test_cr_exists_returns_true PASSED [ 35%]
2026-02-23T18:13:14.6317579Z tests/unit/test_drift_detector_logic.py::TestCrExists::test_cr_exists_returns_false_on_404 PASSED [ 35%]
2026-02-23T18:13:14.6347097Z tests/unit/test_drift_detector_logic.py::TestCrExists::test_cr_exists_returns_false_on_other_api_error PASSED [ 35%]
2026-02-23T18:13:14.6369111Z tests/unit/test_drift_detector_logic.py::TestCrExists::test_cr_exists_plural_map PASSED [ 35%]
2026-02-23T18:13:14.6417357Z tests/unit/test_drift_detector_logic.py::TestRemediateDrift::test_auto_remediate_disabled_skips PASSED [ 35%]
2026-02-23T18:13:14.6441349Z tests/unit/test_drift_detector_logic.py::TestRemediateDrift::test_remediate_orphan_called PASSED [ 35%]
2026-02-23T18:13:14.6472313Z tests/unit/test_drift_detector_logic.py::TestRemediateDrift::test_remediate_config_drift_called PASSED [ 35%]
2026-02-23T18:13:14.6502525Z tests/unit/test_drift_detector_logic.py::TestRemediateDrift::test_unmanaged_resources_not_remediated PASSED [ 35%]
2026-02-23T18:13:14.6540279Z tests/unit/test_drift_detector_logic.py::TestRemediateDrift::test_remediation_error_increments_metric PASSED [ 35%]
2026-02-23T18:13:14.6675652Z tests/unit/test_drift_detector_logic.py::TestRemediateOrphan::test_orphan_too_young_is_skipped PASSED [ 36%]
2026-02-23T18:13:14.6696195Z tests/unit/test_drift_detector_logic.py::TestRemediateOrphan::test_orphan_unknown_age_is_skipped PASSED [ 36%]
2026-02-23T18:13:14.7086447Z tests/unit/test_drift_detector_logic.py::TestRemediateOrphan::test_orphan_cr_reappeared_is_skipped PASSED [ 36%]
2026-02-23T18:13:14.7116183Z tests/unit/test_drift_detector_logic.py::TestRemediateOrphan::test_realm_orphan_deleted_successfully PASSED [ 36%]
2026-02-23T18:13:14.7169219Z tests/unit/test_drift_detector_logic.py::TestRemediateConfigDrift::test_missing_cr_info_returns_early PASSED [ 36%]
2026-02-23T18:13:14.7190959Z tests/unit/test_drift_detector_logic.py::TestRemediateConfigDrift::test_unsupported_resource_type_returns_early PASSED [ 36%]
2026-02-23T18:13:14.7214367Z tests/unit/test_external_keycloak.py::test_external_keycloak_settings PASSED [ 36%]
2026-02-23T18:13:14.7247157Z tests/unit/test_external_keycloak.py::test_validate_keycloak_reference_external PASSED [ 36%]
2026-02-23T18:13:14.7360661Z tests/unit/test_external_keycloak.py::test_get_keycloak_admin_client_external PASSED [ 36%]
2026-02-23T18:13:14.7386946Z tests/unit/test_external_keycloak.py::test_get_keycloak_admin_client_external_missing_key PASSED [ 36%]
2026-02-23T18:13:14.7412866Z tests/unit/test_external_keycloak.py::test_get_keycloak_admin_client_external_secret_not_found PASSED [ 36%]
2026-02-23T18:13:14.7439208Z tests/unit/test_external_keycloak.py::test_get_keycloak_admin_client_external_secret_data_none PASSED [ 36%]
2026-02-23T18:13:14.7465722Z tests/unit/test_external_keycloak.py::test_get_keycloak_admin_client_external_invalid_base64 PASSED [ 36%]
2026-02-23T18:13:14.7492681Z tests/unit/test_external_keycloak.py::test_get_keycloak_admin_client_external_auth_failure PASSED [ 36%]
2026-02-23T18:13:14.7561194Z tests/unit/test_external_keycloak.py::test_ensure_keycloak_instance_external PASSED [ 37%]
2026-02-23T18:13:14.7679568Z tests/unit/test_external_keycloak.py::test_realm_reconciler_ignores_wrong_namespace PASSED [ 37%]
2026-02-23T18:13:14.8989422Z tests/unit/test_external_keycloak.py::test_client_reconciler_ignores_wrong_namespace FAILED [ 37%]
2026-02-23T18:13:14.9198531Z tests/unit/test_finalizers.py::TestKeycloakFinalizers::test_keycloak_cleanup_resources_success PASSED [ 37%]
2026-02-23T18:13:14.9244183Z tests/unit/test_finalizers.py::TestKeycloakFinalizers::test_keycloak_cleanup_missing_resources PASSED [ 37%]
2026-02-23T18:13:14.9399118Z tests/unit/test_finalizers.py::TestRealmFinalizers::test_realm_cleanup_success PASSED [ 37%]
2026-02-23T18:13:14.9421925Z tests/unit/test_finalizers.py::TestRealmFinalizers::test_realm_cleanup_keycloak_unreachable PASSED [ 37%]
2026-02-23T18:13:14.9742094Z tests/unit/test_finalizers.py::TestClientFinalizers::test_client_cleanup_success FAILED [ 37%]
2026-02-23T18:13:15.0048650Z tests/unit/test_finalizers.py::TestClientFinalizers::test_client_cleanup_public_client FAILED [ 37%]
2026-02-23T18:13:15.0336964Z tests/unit/test_finalizers.py::TestClientFinalizers::test_client_cleanup_removes_labeled_resources FAILED [ 37%]
2026-02-23T18:13:15.0344777Z tests/unit/test_finalizers.py::TestFinalizerConstants::test_unified_finalizer_constant_exists PASSED [ 37%]
2026-02-23T18:13:15.0391627Z tests/unit/test_finalizers.py::TestFinalizerErrorHandling::test_cleanup_continues_on_partial_failures PASSED [ 37%]
2026-02-23T18:13:15.0430219Z tests/unit/test_finalizers.py::TestFinalizerErrorHandling::test_cleanup_logs_errors_but_continues PASSED [ 37%]
2026-02-23T18:13:15.0452300Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_valid_namespace_single PASSED [ 37%]
2026-02-23T18:13:15.0460319Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_valid_namespace_multiple PASSED [ 37%]
2026-02-23T18:13:15.0467813Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_valid_namespace_with_hyphens PASSED [ 38%]
2026-02-23T18:13:15.0475337Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_empty_grant_list PASSED [ 38%]
2026-02-23T18:13:15.0482910Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_default_grant_list PASSED [ 38%]
2026-02-23T18:13:15.0490803Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_invalid_namespace_too_long PASSED [ 38%]
2026-02-23T18:13:15.0498783Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_invalid_namespace_empty_string PASSED [ 38%]
2026-02-23T18:13:15.0506770Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_invalid_namespace_starts_with_hyphen PASSED [ 38%]
2026-02-23T18:13:15.0514619Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_invalid_namespace_ends_with_hyphen PASSED [ 38%]
2026-02-23T18:13:15.0522396Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_invalid_namespace_special_chars PASSED [ 38%]
2026-02-23T18:13:15.0529677Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_duplicate_namespaces_allowed PASSED [ 38%]
2026-02-23T18:13:15.0537590Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_grant_list_max_length PASSED [ 38%]
2026-02-23T18:13:15.0546772Z tests/unit/test_grant_list_validation.py::TestClientAuthorizationGrants::test_grant_list_serialization PASSED [ 38%]
2026-02-23T18:13:15.0578695Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_deletion_timestamp_returns_early PASSED [ 38%]
2026-02-23T18:13:15.0598863Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_skipped_phases[Failed] PASSED [ 38%]
2026-02-23T18:13:15.0618860Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_skipped_phases[Pending] PASSED [ 38%]
2026-02-23T18:13:15.0638630Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_skipped_phases[Unknown] PASSED [ 39%]
2026-02-23T18:13:15.0658372Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_skipped_phases[Provisioning] PASSED [ 39%]
2026-02-23T18:13:15.0677728Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_skipped_phases[Updating] PASSED [ 39%]
2026-02-23T18:13:15.0697191Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_skipped_phases[Reconciling] PASSED [ 39%]
2026-02-23T18:13:15.0718124Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_stable_phases_run_health_check[Ready] PASSED [ 39%]
2026-02-23T18:13:15.0738504Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_stable_phases_run_health_check[Degraded] PASSED [ 39%]
2026-02-23T18:13:15.0755963Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_stopped_signal_exits_loop PASSED [ 39%]
2026-02-23T18:13:15.0776200Z tests/unit/test_health_daemon_structure.py::TestKeycloakHealthDaemon::test_multiple_iterations PASSED [ 39%]
2026-02-23T18:13:15.0845150Z tests/unit/test_health_daemon_structure.py::TestRealmHealthDaemon::test_skips_failed_phase PASSED [ 39%]
2026-02-23T18:13:15.0865044Z tests/unit/test_health_daemon_structure.py::TestRealmHealthDaemon::test_runs_for_ready_phase PASSED [ 39%]
2026-02-23T18:13:15.0882519Z tests/unit/test_health_daemon_structure.py::TestRealmHealthDaemon::test_deletion_timestamp_returns_early PASSED [ 39%]
2026-02-23T18:13:15.0911904Z tests/unit/test_health_daemon_structure.py::TestClientHealthDaemon::test_skips_provisioning_phase PASSED [ 39%]
2026-02-23T18:13:15.0931912Z tests/unit/test_health_daemon_structure.py::TestClientHealthDaemon::test_runs_for_degraded_phase PASSED [ 39%]
2026-02-23T18:13:17.3126827Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_monitoring_disabled_by_default PASSED [ 39%]
2026-02-23T18:13:17.3936254Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_servicemonitor_created_when_enabled PASSED [ 39%]
2026-02-23T18:13:17.4842263Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_servicemonitor_custom_namespace PASSED [ 40%]
2026-02-23T18:13:17.5843355Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_prometheusrule_created_when_enabled PASSED [ 40%]
2026-02-23T18:13:17.6706545Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_prometheusrule_alert_structure PASSED [ 40%]
2026-02-23T18:13:17.7585269Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_prometheusrule_custom_threshold PASSED [ 40%]
2026-02-23T18:13:17.8517522Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_grafana_dashboard_created_when_enabled PASSED [ 40%]
2026-02-23T18:13:17.9436850Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_grafana_dashboard_has_metrics_queries PASSED [ 40%]
2026-02-23T18:13:18.0385872Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_grafana_dashboard_custom_labels PASSED [ 40%]
2026-02-23T18:13:18.1347890Z tests/unit/test_helm_monitoring.py::TestMonitoringResources::test_all_monitoring_resources_together PASSED [ 40%]
2026-02-23T18:13:18.1483979Z tests/unit/test_keycloak_admin_circuit_breaker.py::test_circuit_breaker_opens_on_failures PASSED [ 40%]
2026-02-23T18:13:18.1524953Z tests/unit/test_keycloak_admin_circuit_breaker.py::test_retry_on_401_bypasses_circuit_breaker PASSED [ 40%]
2026-02-23T18:13:18.1550639Z tests/unit/test_keycloak_admin_circuit_breaker.py::test_metrics_updated_on_state_change PASSED [ 40%]
2026-02-23T18:13:18.1583915Z tests/unit/test_keycloak_admin_scope_mappings.py::test_add_scope_mappings_realm_roles PASSED [ 40%]
2026-02-23T18:13:18.1616083Z tests/unit/test_keycloak_admin_scope_mappings.py::test_add_scope_mappings_client_roles PASSED [ 40%]
2026-02-23T18:13:18.1647860Z tests/unit/test_keycloak_admin_scope_mappings.py::test_remove_scope_mappings_realm_roles PASSED [ 40%]
2026-02-23T18:13:18.1679536Z tests/unit/test_keycloak_admin_scope_mappings.py::test_get_scope_mappings_realm_roles PASSED [ 41%]
2026-02-23T18:13:18.1710559Z tests/unit/test_keycloak_admin_scope_mappings.py::test_get_scope_mappings_client_roles PASSED [ 41%]
2026-02-23T18:13:18.1742616Z tests/unit/test_keycloak_admin_scope_mappings.py::test_remove_scope_mappings_client_roles PASSED [ 41%]
2026-02-23T18:13:18.1776394Z tests/unit/test_keycloak_admin_scope_mappings.py::test_add_realm_role_composites PASSED [ 41%]
2026-02-23T18:13:18.1807834Z tests/unit/test_keycloak_admin_scope_mappings.py::test_get_realm_role_composites PASSED [ 41%]
2026-02-23T18:13:18.1840503Z tests/unit/test_keycloak_admin_scope_mappings.py::test_remove_realm_role_composites PASSED [ 41%]
2026-02-23T18:13:18.1872326Z tests/unit/test_keycloak_admin_scope_mappings.py::test_remove_realm_role_composites_error PASSED [ 41%]
2026-02-23T18:13:18.1903814Z tests/unit/test_keycloak_admin_scope_mappings.py::test_add_realm_role_composites_error PASSED [ 41%]
2026-02-23T18:13:18.1929938Z tests/unit/test_keycloak_admin_scope_mappings.py::test_get_realm_role_composites_not_found PASSED [ 41%]
2026-02-23T18:13:18.1948867Z tests/unit/test_keycloak_admin_scope_mappings.py::test_add_scope_mappings_realm_roles_conflict PASSED [ 41%]
2026-02-23T18:13:18.1968298Z tests/unit/test_keycloak_admin_scope_mappings.py::test_remove_realm_role_composites_not_found_idempotent PASSED [ 41%]
2026-02-23T18:13:18.1987047Z tests/unit/test_keycloak_admin_scope_mappings.py::test_admin_error_handling PASSED [ 41%]
2026-02-23T18:13:18.2071452Z tests/unit/test_keycloak_api_models.py::TestRealmRepresentation::test_realm_representation_basic_validation PASSED [ 41%]
2026-02-23T18:13:18.2079495Z tests/unit/test_keycloak_api_models.py::TestRealmRepresentation::test_realm_representation_all_fields_optional PASSED [ 41%]
2026-02-23T18:13:18.2088374Z tests/unit/test_keycloak_api_models.py::TestRealmRepresentation::test_realm_representation_serialization_with_aliases PASSED [ 41%]
2026-02-23T18:13:18.2095866Z tests/unit/test_keycloak_api_models.py::TestRealmRepresentation::test_realm_representation_deserialization_from_api PASSED [ 42%]
2026-02-23T18:13:18.2103546Z tests/unit/test_keycloak_api_models.py::TestRealmRepresentation::test_realm_representation_exclude_none PASSED [ 42%]
2026-02-23T18:13:18.2111064Z tests/unit/test_keycloak_api_models.py::TestRealmRepresentation::test_realm_representation_with_complex_fields PASSED [ 42%]
2026-02-23T18:13:18.2119036Z tests/unit/test_keycloak_api_models.py::TestRealmRepresentation::test_realm_representation_type_validation PASSED [ 42%]
2026-02-23T18:13:18.2126629Z tests/unit/test_keycloak_api_models.py::TestClientRepresentation::test_client_representation_basic_validation PASSED [ 42%]
2026-02-23T18:13:18.2133966Z tests/unit/test_keycloak_api_models.py::TestClientRepresentation::test_client_representation_all_fields_optional PASSED [ 42%]
2026-02-23T18:13:18.2141467Z tests/unit/test_keycloak_api_models.py::TestClientRepresentation::test_client_representation_serialization_with_aliases PASSED [ 42%]
2026-02-23T18:13:18.2148949Z tests/unit/test_keycloak_api_models.py::TestClientRepresentation::test_client_representation_deserialization_from_api PASSED [ 42%]
2026-02-23T18:13:18.2156335Z tests/unit/test_keycloak_api_models.py::TestClientRepresentation::test_client_representation_exclude_none PASSED [ 42%]
2026-02-23T18:13:18.2163593Z tests/unit/test_keycloak_api_models.py::TestClientRepresentation::test_client_representation_with_arrays PASSED [ 42%]
2026-02-23T18:13:18.2170918Z tests/unit/test_keycloak_api_models.py::TestClientRepresentation::test_client_representation_type_coercion PASSED [ 42%]
2026-02-23T18:13:18.2178452Z tests/unit/test_keycloak_api_models.py::TestModelRoundTrip::test_realm_roundtrip PASSED [ 42%]
2026-02-23T18:13:18.2185994Z tests/unit/test_keycloak_api_models.py::TestModelRoundTrip::test_client_roundtrip PASSED [ 42%]
2026-02-23T18:13:18.2193793Z tests/unit/test_keycloak_api_models.py::TestModelIntegrationWithAdminClient::test_dict_to_model_conversion PASSED [ 42%]
2026-02-23T18:13:18.2200983Z tests/unit/test_keycloak_api_models.py::TestModelIntegrationWithAdminClient::test_model_to_api_json PASSED [ 43%]
2026-02-23T18:13:18.2209215Z tests/unit/test_keycloak_api_models.py::TestModelIntegrationWithAdminClient::test_partial_update_scenario PASSED [ 43%]
2026-02-23T18:13:18.2323282Z tests/unit/test_keycloak_health_daemon.py::TestDeploymentNotFound::test_deployment_404_sets_failed PASSED [ 43%]
2026-02-23T18:13:18.2342590Z tests/unit/test_keycloak_health_daemon.py::TestDeploymentNotReady::test_zero_ready_replicas_sets_degraded PASSED [ 43%]
2026-02-23T18:13:18.2365217Z tests/unit/test_keycloak_health_daemon.py::TestKeycloakNotResponding::test_http_health_failure_sets_degraded PASSED [ 43%]
2026-02-23T18:13:18.2394335Z tests/unit/test_keycloak_health_daemon.py::TestAllHealthy::test_healthy_sets_ready PASSED [ 43%]
2026-02-23T18:13:18.2420572Z tests/unit/test_keycloak_health_daemon.py::TestAlreadyReady::test_already_ready_keeps_phase PASSED [ 43%]
2026-02-23T18:13:18.2450108Z tests/unit/test_keycloak_health_daemon.py::TestAdminApiFailure::test_admin_api_error_sets_degraded PASSED [ 43%]
2026-02-23T18:13:18.2466850Z tests/unit/test_keycloak_health_daemon.py::TestTopLevelException::test_unexpected_error_sets_degraded_and_records_metric PASSED [ 43%]
2026-02-23T18:13:18.2490851Z tests/unit/test_keycloak_health_daemon.py::TestFailedPods::test_failed_pods_sets_degraded PASSED [ 43%]
2026-02-23T18:13:18.2542685Z tests/unit/test_kubernetes_utils.py::test_create_client_secret_with_metadata PASSED [ 43%]
2026-02-23T18:13:18.2557506Z tests/unit/test_kubernetes_utils.py::test_create_client_secret_update_with_metadata PASSED [ 43%]
2026-02-23T18:13:18.2573353Z tests/unit/test_kubernetes_utils.py::TestKeycloakDiscoveryService::test_create_keycloak_discovery_service_creates_headless_service PASSED [ 43%]
2026-02-23T18:13:18.2587721Z tests/unit/test_kubernetes_utils.py::TestKeycloakDiscoveryService::test_create_keycloak_discovery_service_exposes_jgroups_port PASSED [ 43%]
2026-02-23T18:13:18.2762297Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentJGroups::test_deployment_includes_jgroups_env_vars PASSED [ 43%]
2026-02-23T18:13:18.2798594Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentJGroups::test_deployment_includes_jgroups_port PASSED [ 44%]
2026-02-23T18:13:18.2834586Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentJGroups::test_deployment_jgroups_dns_query_uses_correct_namespace PASSED [ 44%]
2026-02-23T18:13:18.2886632Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentTracing::test_deployment_includes_tracing_env_vars_when_enabled PASSED [ 44%]
2026-02-23T18:13:18.2922382Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentTracing::test_deployment_no_tracing_when_disabled PASSED [ 44%]
2026-02-23T18:13:18.2958028Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentTracing::test_deployment_no_tracing_when_not_configured PASSED [ 44%]
2026-02-23T18:13:18.2996549Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentTracing::test_deployment_no_tracing_for_unsupported_version PASSED [ 44%]
2026-02-23T18:13:18.3032955Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentTracing::test_deployment_tracing_with_version_override PASSED [ 44%]
2026-02-23T18:13:18.3070439Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentTracing::test_deployment_tracing_uses_default_image_when_none PASSED [ 44%]
2026-02-23T18:13:18.3106677Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentOptimized::test_deployment_args_include_optimized_flag PASSED [ 44%]
2026-02-23T18:13:18.3142206Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentOptimized::test_deployment_args_exclude_optimized_flag_when_disabled PASSED [ 44%]
2026-02-23T18:13:18.3177570Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentJvmOptions::test_deployment_jvm_options_in_java_opts_append PASSED [ 44%]
2026-02-23T18:13:18.3212989Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentJvmOptions::test_deployment_no_jvm_options_only_jgroups PASSED [ 44%]
2026-02-23T18:13:18.3248216Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentJvmOptions::test_deployment_jit_tuning_option PASSED [ 44%]
2026-02-23T18:13:18.3283392Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentConnectionPool::test_deployment_includes_db_pool_env_vars PASSED [ 44%]
2026-02-23T18:13:18.3318363Z tests/unit/test_kubernetes_utils.py::TestKeycloakDeploymentConnectionPool::test_deployment_custom_pool_sizes PASSED [ 45%]
2026-02-23T18:13:18.3340695Z tests/unit/test_kubernetes_utils.py::TestGetDeploymentPods::test_get_deployment_pods_success PASSED [ 45%]
2026-02-23T18:13:18.3350295Z tests/unit/test_kubernetes_utils.py::TestGetDeploymentPods::test_get_deployment_pods_invalid_name_pattern PASSED [ 45%]
2026-02-23T18:13:18.3361851Z tests/unit/test_kubernetes_utils.py::TestGetDeploymentPods::test_get_deployment_pods_api_error PASSED [ 45%]
2026-02-23T18:13:18.3373351Z tests/unit/test_kubernetes_utils.py::TestGetDeploymentPods::test_get_deployment_pods_no_pods PASSED [ 45%]
2026-02-23T18:13:18.3384483Z tests/unit/test_kubernetes_utils.py::TestGetPodLogs::test_get_pod_logs_success PASSED [ 45%]
2026-02-23T18:13:18.3641292Z tests/unit/test_kubernetes_utils.py::TestGetPodLogs::test_get_pod_logs_custom_tail_lines PASSED [ 45%]
2026-02-23T18:13:18.3660444Z tests/unit/test_kubernetes_utils.py::TestGetPodLogs::test_get_pod_logs_api_error_non_400 PASSED [ 45%]
2026-02-23T18:13:18.3671851Z tests/unit/test_kubernetes_utils.py::TestGetPodLogs::test_get_pod_logs_api_error_400_silent PASSED [ 45%]
2026-02-23T18:13:18.3701881Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_no_pods_returns_none PASSED [ 45%]
2026-02-23T18:13:18.3715817Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_healthy_pod_not_checked PASSED [ 45%]
2026-02-23T18:13:18.3729413Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_failed_pod_checked PASSED [ 45%]
2026-02-23T18:13:18.3746470Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_crashloopbackoff_detected_optimized_mismatch PASSED [ 45%]
2026-02-23T18:13:18.3762658Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_crashloopbackoff_detected_build_option_mismatch PASSED [ 45%]
2026-02-23T18:13:18.3778118Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_terminated_nonzero_exit_code PASSED [ 45%]
2026-02-23T18:13:18.3793787Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_error_waiting_reason PASSED [ 46%]
2026-02-23T18:13:18.3809559Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_create_container_config_error PASSED [ 46%]
2026-02-23T18:13:18.3828531Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_multiple_pods_first_match_wins PASSED [ 46%]
2026-02-23T18:13:18.3844217Z tests/unit/test_kubernetes_utils.py::TestCheckPodLogsForBuildErrors::test_terminated_zero_exit_code_not_checked PASSED [ 46%]
2026-02-23T18:13:18.3886988Z tests/unit/test_kubernetes_utils.py::TestWaitForDeploymentReady::test_deployment_ready_immediately PASSED [ 46%]
2026-02-23T18:13:18.3908714Z tests/unit/test_kubernetes_utils.py::TestWaitForDeploymentReady::test_deployment_timeout PASSED [ 46%]
2026-02-23T18:13:18.3927801Z tests/unit/test_kubernetes_utils.py::TestWaitForDeploymentReady::test_deployment_build_error_detected PASSED [ 46%]
2026-02-23T18:13:18.3947390Z tests/unit/test_kubernetes_utils.py::TestWaitForDeploymentReady::test_deployment_api_exception_continues PASSED [ 46%]
2026-02-23T18:13:18.4027470Z tests/unit/test_kubernetes_utils.py::TestDoReconcileBuildMismatchFlow::test_raises_configuration_error_on_build_mismatch PASSED [ 46%]
2026-02-23T18:13:18.4053525Z tests/unit/test_kubernetes_utils.py::TestDoReconcileBuildMismatchFlow::test_raises_temporary_error_on_timeout PASSED [ 46%]
2026-02-23T18:13:18.4071474Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_instance_id_generation_fallbacks PASSED [ 46%]
2026-02-23T18:13:18.4092279Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_leadership_acquired_metrics PASSED [ 46%]
2026-02-23T18:13:18.4104152Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_leadership_lost_metrics PASSED [ 46%]
2026-02-23T18:13:18.4132561Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_leadership_check_api_exception PASSED [ 46%]
2026-02-23T18:13:18.4147224Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_leadership_check_general_exception PASSED [ 47%]
2026-02-23T18:13:18.4165537Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_leadership_transition_from_leader_to_follower PASSED [ 47%]
2026-02-23T18:13:18.4183498Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_leadership_transition_from_follower_to_leader PASSED [ 47%]
2026-02-23T18:13:18.4216697Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_get_current_leader_no_lease PASSED [ 47%]
2026-02-23T18:13:18.4234736Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_get_current_leader_api_error PASSED [ 47%]
2026-02-23T18:13:18.4252330Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_get_current_leader_success PASSED [ 47%]
2026-02-23T18:13:18.4269708Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_get_current_leader_no_holder PASSED [ 47%]
2026-02-23T18:13:18.4287438Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_lease_renewal_success_metrics PASSED [ 47%]
2026-02-23T18:13:18.4299661Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_lease_renewal_failure_metrics PASSED [ 47%]
2026-02-23T18:13:18.4309742Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_global_monitor_singleton PASSED [ 47%]
2026-02-23T18:13:18.4324077Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_network_partition_scenario PASSED [ 47%]
2026-02-23T18:13:18.4345036Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_rapid_leadership_changes PASSED [ 47%]
2026-02-23T18:13:18.4363298Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_kubernetes_config_loading_failure PASSED [ 47%]
2026-02-23T18:13:18.5386546Z tests/unit/test_leader_election_failures.py::TestLeaderElectionFailureScenarios::test_concurrent_leadership_checks PASSED [ 47%]
2026-02-23T18:13:18.5410371Z tests/unit/test_leader_election_failures.py::TestLeaderElectionEventHandlers::test_lease_event_handler_correct_lease PASSED [ 47%]
2026-02-23T18:13:18.5425952Z tests/unit/test_leader_election_failures.py::TestLeaderElectionEventHandlers::test_lease_event_handler_wrong_lease PASSED [ 48%]
2026-02-23T18:13:18.5450469Z tests/unit/test_metric_wiring.py::TestDatabaseRecordConnectionMetrics::test_success_sets_gauge_to_1 PASSED [ 48%]
2026-02-23T18:13:18.5465456Z tests/unit/test_metric_wiring.py::TestDatabaseRecordConnectionMetrics::test_failure_sets_gauge_to_0 PASSED [ 48%]
2026-02-23T18:13:18.5477822Z tests/unit/test_metric_wiring.py::TestDatabaseRecordConnectionMetrics::test_import_error_swallowed PASSED [ 48%]
2026-02-23T18:13:18.5487692Z tests/unit/test_metric_wiring.py::TestDatabaseRecordConnectionMetrics::test_metric_error_swallowed PASSED [ 48%]
2026-02-23T18:13:18.5505423Z tests/unit/test_metric_wiring.py::TestRbacRecordMetric::test_allowed_records_success PASSED [ 48%]
2026-02-23T18:13:18.5517382Z tests/unit/test_metric_wiring.py::TestRbacRecordMetric::test_denied_records_failure PASSED [ 48%]
2026-02-23T18:13:18.5528864Z tests/unit/test_metric_wiring.py::TestRbacRecordMetric::test_import_error_swallowed PASSED [ 48%]
2026-02-23T18:13:18.5538616Z tests/unit/test_metric_wiring.py::TestRbacRecordMetric::test_metric_error_swallowed PASSED [ 48%]
2026-02-23T18:13:18.5565909Z tests/unit/test_metric_wiring.py::TestRecordSessionMetrics::test_first_auth_records_expiry_and_increments_active PASSED [ 48%]
2026-02-23T18:13:18.5581936Z tests/unit/test_metric_wiring.py::TestRecordSessionMetrics::test_second_auth_does_not_double_increment PASSED [ 48%]
2026-02-23T18:13:18.5595484Z tests/unit/test_metric_wiring.py::TestRecordSessionMetrics::test_no_namespace_skips_expiry PASSED [ 48%]
2026-02-23T18:13:18.5609465Z tests/unit/test_metric_wiring.py::TestRecordSessionMetrics::test_import_error_swallowed PASSED [ 48%]
2026-02-23T18:13:18.5625557Z tests/unit/test_metric_wiring.py::TestCloseSessionNoop::test_close_does_not_decrement PASSED [ 48%]
2026-02-23T18:13:18.5640909Z tests/unit/test_metric_wiring.py::TestCloseSessionNoop::test_close_skips_when_not_tracked PASSED [ 49%]
2026-02-23T18:13:18.5654692Z tests/unit/test_metric_wiring.py::TestCloseSessionNoop::test_close_preserves_tokens PASSED [ 49%]
2026-02-23T18:13:18.5672867Z tests/unit/test_metric_wiring.py::TestRecordCnpgStatus::test_healthy_sets_gauge_to_1 PASSED [ 49%]
2026-02-23T18:13:18.5685039Z tests/unit/test_metric_wiring.py::TestRecordCnpgStatus::test_unhealthy_sets_gauge_to_0 PASSED [ 49%]
2026-02-23T18:13:18.5696716Z tests/unit/test_metric_wiring.py::TestRecordCnpgStatus::test_import_error_swallowed PASSED [ 49%]
2026-02-23T18:13:18.5771989Z tests/unit/test_metric_wiring.py::TestRecordCnpgStatus::test_metric_error_swallowed PASSED [ 49%]
2026-02-23T18:13:18.5787227Z tests/unit/test_metrics_collector.py::TestMetricsCollectorLeaderElection::test_update_leader_election_status_leader PASSED [ 49%]
2026-02-23T18:13:18.5801939Z tests/unit/test_metrics_collector.py::TestMetricsCollectorLeaderElection::test_update_leader_election_status_follower PASSED [ 49%]
2026-02-23T18:13:18.5814982Z tests/unit/test_metrics_collector.py::TestMetricsCollectorLeaderElection::test_record_leader_election_change PASSED [ 49%]
2026-02-23T18:13:18.5837641Z tests/unit/test_metrics_collector.py::TestMetricsCollectorLeaderElection::test_record_lease_renewal_success PASSED [ 49%]
2026-02-23T18:13:18.5854991Z tests/unit/test_metrics_collector.py::TestMetricsCollectorLeaderElection::test_record_lease_renewal_failure PASSED [ 49%]
2026-02-23T18:13:18.5869473Z tests/unit/test_metrics_collector.py::TestMetricsCollectorReconciliation::test_record_reconciliation_skip PASSED [ 49%]
2026-02-23T18:13:18.5883939Z tests/unit/test_metrics_collector.py::TestMetricsCollectorReconciliation::test_update_resource_status PASSED [ 49%]
2026-02-23T18:13:18.5898076Z tests/unit/test_metrics_collector.py::TestMetricsCollectorReconciliation::test_update_resource_status_default_count PASSED [ 49%]
2026-02-23T18:13:18.5921078Z tests/unit/test_metrics_collector.py::TestMetricsCollectorReconciliation::test_track_reconciliation_success PASSED [ 49%]
2026-02-23T18:13:18.5964221Z tests/unit/test_metrics_collector.py::TestMetricsCollectorReconciliation::test_track_reconciliation_error PASSED [ 50%]
2026-02-23T18:13:18.5988096Z tests/unit/test_metrics_collector.py::TestMetricsCollectorDatabase::test_record_database_connection_test_success PASSED [ 50%]
2026-02-23T18:13:18.6005828Z tests/unit/test_metrics_collector.py::TestMetricsCollectorDatabase::test_record_database_connection_test_failure PASSED [ 50%]
2026-02-23T18:13:18.6024716Z tests/unit/test_metrics_collector.py::TestMetricsCollectorInstanceStatus::test_update_keycloak_instance_status_running PASSED [ 50%]
2026-02-23T18:13:18.6039440Z tests/unit/test_metrics_collector.py::TestMetricsCollectorInstanceStatus::test_update_keycloak_instance_status_not_running PASSED [ 50%]
2026-02-23T18:13:18.6058052Z tests/unit/test_metrics_collector.py::TestMetricsCollectorInstanceStatus::test_update_cnpg_cluster_status_healthy PASSED [ 50%]
2026-02-23T18:13:18.6094929Z tests/unit/test_metrics_collector.py::TestMetricsCollectorInstanceStatus::test_update_cnpg_cluster_status_unhealthy PASSED [ 50%]
2026-02-23T18:13:18.6113020Z tests/unit/test_metrics_collector.py::TestMetricsCollectorRbac::test_record_rbac_validation_success PASSED [ 50%]
2026-02-23T18:13:18.6128252Z tests/unit/test_metrics_collector.py::TestMetricsCollectorRbac::test_record_rbac_validation_failure PASSED [ 50%]
2026-02-23T18:13:18.6167374Z tests/unit/test_metrics_server.py::TestMetricsEndpoint::test_metrics_returns_200 PASSED [ 50%]
2026-02-23T18:13:18.6198695Z tests/unit/test_metrics_server.py::TestMetricsEndpoint::test_metrics_error_returns_500 PASSED [ 50%]
2026-02-23T18:13:18.6220052Z tests/unit/test_metrics_server.py::TestHealthzEndpoint::test_healthz_returns_200_ok PASSED [ 50%]
2026-02-23T18:13:18.6268264Z tests/unit/test_metrics_server.py::TestHealthEndpoint::test_health_healthy_returns_200 PASSED [ 50%]
2026-02-23T18:13:18.6293440Z tests/unit/test_metrics_server.py::TestHealthEndpoint::test_health_degraded_returns_200 PASSED [ 50%]
2026-02-23T18:13:18.6323837Z tests/unit/test_metrics_server.py::TestHealthEndpoint::test_health_unhealthy_returns_503 PASSED [ 50%]
2026-02-23T18:13:18.6347046Z tests/unit/test_metrics_server.py::TestHealthEndpoint::test_health_exception_returns_500 PASSED [ 51%]
2026-02-23T18:13:18.6403125Z tests/unit/test_metrics_server.py::TestReadyEndpoint::test_ready_all_healthy_returns_200 PASSED [ 51%]
2026-02-23T18:13:18.6429066Z tests/unit/test_metrics_server.py::TestReadyEndpoint::test_ready_k8s_unhealthy_returns_503 PASSED [ 51%]
2026-02-23T18:13:18.6464746Z tests/unit/test_metrics_server.py::TestReadyEndpoint::test_ready_crds_unhealthy_returns_503 PASSED [ 51%]
2026-02-23T18:13:18.6488218Z tests/unit/test_metrics_server.py::TestReadyEndpoint::test_ready_exception_returns_503 PASSED [ 51%]
2026-02-23T18:13:18.6496747Z tests/unit/test_models.py::TestKeycloakModels::test_keycloak_spec_defaults PASSED [ 51%]
2026-02-23T18:13:18.6505240Z tests/unit/test_models.py::TestKeycloakModels::test_keycloak_spec_with_version_override PASSED [ 51%]
2026-02-23T18:13:18.6516711Z tests/unit/test_models.py::TestKeycloakModels::test_keycloak_spec_validation PASSED [ 51%]
2026-02-23T18:13:18.6526094Z tests/unit/test_models.py::TestKeycloakModels::test_resource_requirements_defaults PASSED [ 51%]
2026-02-23T18:13:18.6535364Z tests/unit/test_models.py::TestKeycloakModels::test_complete_keycloak_resource PASSED [ 51%]
2026-02-23T18:13:18.6569094Z tests/unit/test_models.py::TestKeycloakClientModels::test_keycloak_client_spec_validation PASSED [ 51%]
2026-02-23T18:13:18.6617464Z tests/unit/test_models.py::TestKeycloakClientModels::test_keycloak_client_to_keycloak_config PASSED [ 51%]
2026-02-23T18:13:18.6627646Z tests/unit/test_models.py::TestKeycloakClientModels::test_complete_keycloak_client_resource PASSED [ 51%]
2026-02-23T18:13:18.6638547Z tests/unit/test_models.py::TestKeycloakClientModels::test_redirect_uri_wildcard_validation PASSED [ 51%]
2026-02-23T18:13:18.6647554Z tests/unit/test_models.py::TestKeycloakRealmModels::test_keycloak_realm_spec_validation PASSED [ 52%]
2026-02-23T18:13:18.6655523Z tests/unit/test_models.py::TestKeycloakRealmModels::test_keycloak_realm_to_keycloak_config PASSED [ 52%]
2026-02-23T18:13:18.6663236Z tests/unit/test_models.py::TestKeycloakRealmModels::test_complete_keycloak_realm_resource PASSED [ 52%]
2026-02-23T18:13:18.6670409Z tests/unit/test_models.py::TestKeycloakRealmModels::TestAuthorizationRefs::test_operator_ref_validation PASSED [ 52%]
2026-02-23T18:13:18.6677781Z tests/unit/test_models.py::TestKeycloakRealmModels::TestAuthorizationRefs::test_realm_ref_validation PASSED [ 52%]
2026-02-23T18:13:18.6685595Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_authentication_execution_export_with_authenticator PASSED [ 52%]
2026-02-23T18:13:18.6692847Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_authentication_execution_export_with_flow_alias PASSED [ 52%]
2026-02-23T18:13:18.6701327Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_authentication_execution_export_validation_neither PASSED [ 52%]
2026-02-23T18:13:18.6710078Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_authentication_execution_export_validation_both PASSED [ 52%]
2026-02-23T18:13:18.6718222Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_authentication_execution_export_requirement_values PASSED [ 52%]
2026-02-23T18:13:18.6726233Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_authentication_flow_basic PASSED [ 52%]
2026-02-23T18:13:18.6734062Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_authentication_flow_with_copy_from PASSED [ 52%]
2026-02-23T18:13:18.6741907Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_authentication_flow_with_executions PASSED [ 52%]
2026-02-23T18:13:18.6750529Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_authentication_flow_provider_id_validation PASSED [ 52%]
2026-02-23T18:13:18.6772669Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_authentication_flow_alias_validation PASSED [ 52%]
2026-02-23T18:13:18.6780717Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_required_action_provider_basic PASSED [ 53%]
2026-02-23T18:13:18.6789015Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_required_action_provider_defaults PASSED [ 53%]
2026-02-23T18:13:18.6797432Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_required_action_provider_with_config PASSED [ 53%]
2026-02-23T18:13:18.6805715Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_authenticator_config_info PASSED [ 53%]
2026-02-23T18:13:18.6814021Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_realm_spec_with_authentication_flows PASSED [ 53%]
2026-02-23T18:13:18.6822164Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_realm_spec_with_required_actions PASSED [ 53%]
2026-02-23T18:13:18.6830152Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_realm_spec_all_flow_bindings PASSED [ 53%]
2026-02-23T18:13:18.6838778Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_to_keycloak_config_with_flow_bindings PASSED [ 53%]
2026-02-23T18:13:18.6846925Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_to_keycloak_config_without_flow_bindings PASSED [ 53%]
2026-02-23T18:13:18.6855129Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_authentication_execution_camel_case_alias PASSED [ 53%]
2026-02-23T18:13:18.6863949Z tests/unit/test_models.py::TestAuthenticationFlowModels::test_keycloak_authentication_flow_camel_case_alias PASSED [ 53%]
2026-02-23T18:13:18.6899075Z tests/unit/test_observedgeneration.py::TestBaseReconcilerGenerationTracking::test_update_status_ready_with_generation PASSED [ 53%]
2026-02-23T18:13:18.6908647Z tests/unit/test_observedgeneration.py::TestBaseReconcilerGenerationTracking::test_update_status_reconciling_with_generation PASSED [ 53%]
2026-02-23T18:13:18.6917964Z tests/unit/test_observedgeneration.py::TestBaseReconcilerGenerationTracking::test_update_status_failed_with_generation PASSED [ 53%]
2026-02-23T18:13:18.6927157Z tests/unit/test_observedgeneration.py::TestBaseReconcilerGenerationTracking::test_update_status_degraded_with_generation PASSED [ 54%]
2026-02-23T18:13:18.6935810Z tests/unit/test_observedgeneration.py::TestBaseReconcilerGenerationTracking::test_generation_defaults_to_zero PASSED [ 54%]
2026-02-23T18:13:18.6944692Z tests/unit/test_observedgeneration.py::TestBaseReconcilerGenerationTracking::test_generation_preserves_existing_status_fields PASSED [ 54%]
2026-02-23T18:13:18.7009096Z tests/unit/test_observedgeneration.py::TestKeycloakReconcilerGenerationTracking::test_do_reconcile_extracts_generation_from_kwargs PASSED [ 54%]
2026-02-23T18:13:18.7041285Z tests/unit/test_observedgeneration.py::TestKeycloakReconcilerGenerationTracking::test_do_reconcile_handles_missing_generation PASSED [ 54%]
2026-02-23T18:13:18.7079707Z tests/unit/test_observedgeneration.py::TestKeycloakReconcilerGenerationTracking::test_do_reconcile_not_ready_raises_temporary_error PASSED [ 54%]
2026-02-23T18:13:18.7203707Z tests/unit/test_observedgeneration.py::TestRealmReconcilerGenerationTracking::test_realm_reconcile_sets_generation PASSED [ 54%]
2026-02-23T18:13:18.7339359Z tests/unit/test_observedgeneration.py::TestClientReconcilerGenerationTracking::test_client_reconcile_sets_generation FAILED [ 54%]
2026-02-23T18:13:18.7349101Z tests/unit/test_observedgeneration.py::TestGitOpsCompatibility::test_generation_increment_detection PASSED [ 54%]
2026-02-23T18:13:18.7358207Z tests/unit/test_observedgeneration.py::TestGitOpsCompatibility::test_drift_detection_scenario PASSED [ 54%]
2026-02-23T18:13:18.7367047Z tests/unit/test_observedgeneration.py::TestGitOpsCompatibility::test_sync_status_determination PASSED [ 54%]
2026-02-23T18:13:18.7376050Z tests/unit/test_observedgeneration.py::TestGitOpsCompatibility::test_partial_reconciliation_tracking PASSED [ 54%]
2026-02-23T18:13:18.7384953Z tests/unit/test_observedgeneration.py::TestGenerationTrackingEdgeCases::test_generation_zero_is_valid PASSED [ 54%]
2026-02-23T18:13:18.7393610Z tests/unit/test_observedgeneration.py::TestGenerationTrackingEdgeCases::test_large_generation_numbers PASSED [ 54%]
2026-02-23T18:13:18.7402404Z tests/unit/test_observedgeneration.py::TestGenerationTrackingEdgeCases::test_generation_backward_compatibility PASSED [ 54%]
2026-02-23T18:13:18.7411967Z tests/unit/test_observedgeneration.py::TestGenerationTrackingEdgeCases::test_concurrent_generation_updates PASSED [ 55%]
2026-02-23T18:13:18.7473251Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_skip_when_generation_matches_and_ready PASSED [ 55%]
2026-02-23T18:13:18.7538527Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_no_skip_when_generation_differs PASSED [ 55%]
2026-02-23T18:13:18.7561595Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_no_skip_when_phase_is_failed PASSED [ 55%]
2026-02-23T18:13:18.7991250Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_no_skip_when_phase_is_degraded PASSED [ 55%]
2026-02-23T18:13:18.8015926Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_no_skip_when_phase_is_reconciling PASSED [ 55%]
2026-02-23T18:13:18.8038356Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_no_skip_when_observed_generation_is_none PASSED [ 55%]
2026-02-23T18:13:18.8060510Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_no_skip_when_phase_is_none PASSED [ 55%]
2026-02-23T18:13:18.8077434Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_skip_logs_debug_message PASSED [ 55%]
2026-02-23T18:13:18.8093666Z tests/unit/test_observedgeneration.py::TestGenerationBasedSkip::test_generation_zero_is_handled_correctly PASSED [ 55%]
2026-02-23T18:13:18.8102441Z tests/unit/test_oidc_endpoints.py::TestConstructOidcEndpoints::test_basic_endpoint_construction PASSED [ 55%]
2026-02-23T18:13:18.8110420Z tests/unit/test_oidc_endpoints.py::TestConstructOidcEndpoints::test_endpoint_construction_with_trailing_slash PASSED [ 55%]
2026-02-23T18:13:18.8118399Z tests/unit/test_oidc_endpoints.py::TestConstructOidcEndpoints::test_endpoint_construction_http PASSED [ 55%]
2026-02-23T18:13:18.8126699Z tests/unit/test_oidc_endpoints.py::TestConstructOidcEndpoints::test_endpoint_construction_with_port PASSED [ 55%]
2026-02-23T18:13:18.8134714Z tests/unit/test_oidc_endpoints.py::TestConstructOidcEndpoints::test_endpoint_construction_cluster_dns PASSED [ 56%]
2026-02-23T18:13:18.8142641Z tests/unit/test_oidc_endpoints.py::TestConstructOidcEndpoints::test_endpoint_construction_special_realm_names PASSED [ 56%]
2026-02-23T18:13:18.8150258Z tests/unit/test_oidc_endpoints.py::TestConstructOidcEndpoints::test_all_required_endpoints_present PASSED [ 56%]
2026-02-23T18:13:18.8172789Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_from_public_endpoint PASSED [ 56%]
2026-02-23T18:13:18.8181565Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_from_internal_endpoint PASSED [ 56%]
2026-02-23T18:13:18.8190253Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_fallback_no_status PASSED [ 56%]
2026-02-23T18:13:18.8198772Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_fallback_no_endpoints PASSED [ 56%]
2026-02-23T18:13:18.8207483Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_fallback_empty_endpoints PASSED [ 56%]
2026-02-23T18:13:18.8215724Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_default_namespace PASSED [ 56%]
2026-02-23T18:13:18.8223863Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_default_name PASSED [ 56%]
2026-02-23T18:13:18.8232207Z tests/unit/test_oidc_endpoints.py::TestGetKeycloakBaseUrl::test_get_base_url_priority_public_over_internal PASSED [ 56%]
2026-02-23T18:13:18.8240312Z tests/unit/test_oidc_endpoints.py::TestEndToEndScenarios::test_complete_flow_with_public_endpoint PASSED [ 56%]
2026-02-23T18:13:18.8249090Z tests/unit/test_oidc_endpoints.py::TestEndToEndScenarios::test_complete_flow_with_fallback PASSED [ 56%]
2026-02-23T18:13:18.8257931Z tests/unit/test_ownership.py::TestGetOperatorInstanceId::test_get_operator_instance_id_success PASSED [ 56%]
2026-02-23T18:13:18.8267996Z tests/unit/test_ownership.py::TestGetOperatorInstanceId::test_get_operator_instance_id_missing PASSED [ 56%]
2026-02-23T18:13:18.8276943Z tests/unit/test_ownership.py::TestCreateOwnershipAttributes::test_create_ownership_attributes PASSED [ 57%]
2026-02-23T18:13:18.8291965Z tests/unit/test_ownership.py::TestIsOwnedByThisOperator::test_is_owned_by_this_operator_true PASSED [ 57%]
2026-02-23T18:13:18.8300641Z tests/unit/test_ownership.py::TestIsOwnedByThisOperator::test_is_owned_by_different_operator PASSED [ 57%]
2026-02-23T18:13:18.8309331Z tests/unit/test_ownership.py::TestIsOwnedByThisOperator::test_is_owned_no_attributes PASSED [ 57%]
2026-02-23T18:13:18.8318098Z tests/unit/test_ownership.py::TestIsOwnedByThisOperator::test_is_owned_list_value PASSED [ 57%]
2026-02-23T18:13:18.8332201Z tests/unit/test_ownership.py::TestIsManagedByOperator::test_is_managed_by_operator_true PASSED [ 57%]
2026-02-23T18:13:18.8340355Z tests/unit/test_ownership.py::TestIsManagedByOperator::test_is_managed_by_operator_false PASSED [ 57%]
2026-02-23T18:13:18.8348780Z tests/unit/test_ownership.py::TestIsManagedByOperator::test_is_managed_no_attributes PASSED [ 57%]
2026-02-23T18:13:18.8357279Z tests/unit/test_ownership.py::TestIsManagedByOperator::test_is_managed_list_value PASSED [ 57%]
2026-02-23T18:13:18.8365600Z tests/unit/test_ownership.py::TestGetCrReference::test_get_cr_reference_success PASSED [ 57%]
2026-02-23T18:13:18.8374032Z tests/unit/test_ownership.py::TestGetCrReference::test_get_cr_reference_list_values PASSED [ 57%]
2026-02-23T18:13:18.8382555Z tests/unit/test_ownership.py::TestGetCrReference::test_get_cr_reference_missing PASSED [ 57%]
2026-02-23T18:13:18.8405527Z tests/unit/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_hours_recent PASSED [ 57%]
2026-02-23T18:13:18.8414200Z tests/unit/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_hours_old PASSED [ 57%]
2026-02-23T18:13:18.8422635Z tests/unit/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_hours_list_value PASSED [ 58%]
2026-02-23T18:13:18.8431029Z tests/unit/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_hours_missing PASSED [ 58%]
2026-02-23T18:13:18.8439613Z tests/unit/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_hours_invalid_format PASSED [ 58%]
2026-02-23T18:13:18.8448848Z tests/unit/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_hours_with_z_suffix PASSED [ 58%]
2026-02-23T18:13:18.8460682Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_initialization PASSED [ 58%]
2026-02-23T18:13:18.8493915Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_acquire_single PASSED [ 58%]
2026-02-23T18:13:18.8505866Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_acquire_depletes_tokens PASSED [ 58%]
2026-02-23T18:13:19.1028223Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_refill PASSED [ 58%]
2026-02-23T18:13:19.3050257Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_timeout PASSED [ 58%]
2026-02-23T18:13:19.5072977Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_burst_capacity PASSED [ 58%]
2026-02-23T18:13:19.5087122Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_concurrent_access PASSED [ 58%]
2026-02-23T18:13:19.6106042Z tests/unit/test_rate_limiter.py::TestTokenBucket::test_token_bucket_concurrent_timeout PASSED [ 58%]
2026-02-23T18:13:19.6118653Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_initialization PASSED [ 58%]
2026-02-23T18:13:19.6189297Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_acquire_single_namespace PASSED [ 58%]
2026-02-23T18:13:19.7208632Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_namespace_isolation PASSED [ 58%]
2026-02-23T18:13:19.8232935Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_global_limit_enforcement PASSED [ 59%]
2026-02-23T18:13:19.9251995Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_timeout_error PASSED [ 59%]
2026-02-23T18:13:19.9282167Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_cleanup_idle_buckets PASSED [ 59%]
2026-02-23T18:13:19.9806351Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_concurrent_namespace_access PASSED [ 59%]
2026-02-23T18:13:20.0831006Z tests/unit/test_rate_limiter.py::TestRateLimiter::test_rate_limiter_logging PASSED [ 59%]
2026-02-23T18:13:20.0850648Z tests/unit/test_rate_limiter.py::TestRateLimiterMetrics::test_rate_limiter_records_metrics PASSED [ 59%]
2026-02-23T18:13:20.1872492Z tests/unit/test_rate_limiter.py::TestRateLimiterMetrics::test_rate_limiter_records_timeout_metrics PASSED [ 59%]
2026-02-23T18:13:20.1885924Z tests/unit/test_rate_limiter.py::TestRateLimiterEdgeCases::test_rate_limiter_zero_timeout PASSED [ 59%]
2026-02-23T18:13:20.1915177Z tests/unit/test_rate_limiter.py::TestRateLimiterEdgeCases::test_rate_limiter_very_high_rate PASSED [ 59%]
2026-02-23T18:13:20.1932093Z tests/unit/test_rate_limiter.py::TestRateLimiterEdgeCases::test_rate_limiter_special_namespace_names PASSED [ 59%]
2026-02-23T18:13:20.1943489Z tests/unit/test_rate_limiter.py::TestRateLimiterEdgeCases::test_token_bucket_negative_tokens PASSED [ 59%]
2026-02-23T18:13:20.2964693Z tests/unit/test_rate_limiter.py::TestRateLimiterEdgeCases::test_rate_limiter_refill_during_wait PASSED [ 59%]
2026-02-23T18:13:20.2984128Z tests/unit/test_rate_limiter.py::TestRecordBudget::test_record_budget_uses_namespace_bucket PASSED [ 59%]
2026-02-23T18:13:20.2998042Z tests/unit/test_rate_limiter.py::TestRecordBudget::test_record_budget_missing_namespace_returns_early PASSED [ 59%]
2026-02-23T18:13:20.3012643Z tests/unit/test_rate_limiter.py::TestRecordBudget::test_record_budget_exception_swallowed PASSED [ 60%]
2026-02-23T18:13:28.3041280Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_single_namespace_spam_protection PASSED [ 60%]
2026-02-23T18:13:30.3066927Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_multi_namespace_fairness PASSED [ 60%]
2026-02-23T18:13:35.2460529Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_operator_restart_jitter_protection PASSED [ 60%]
2026-02-23T18:13:35.5990803Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_rate_limit_recovery_after_timeout PASSED [ 60%]
2026-02-23T18:13:37.6017142Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_burst_capacity_handling PASSED [ 60%]
2026-02-23T18:13:39.1069755Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_idle_bucket_cleanup PASSED [ 60%]
2026-02-23T18:13:41.9096154Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_concurrent_namespace_access_fairness PASSED [ 60%]
2026-02-23T18:13:41.9122419Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_rate_limiting_doesnt_break_functionality PASSED [ 60%]
2026-02-23T18:13:41.9266146Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_high_throughput_scenario PASSED [ 60%]
2026-02-23T18:13:42.0285131Z tests/unit/test_rate_limiter_scenarios.py::TestRateLimitingIntegration::test_namespace_isolation PASSED [ 60%]
2026-02-23T18:13:42.0334332Z tests/unit/test_rbac_utils.py::TestCheckNamespaceAccess::test_access_allowed PASSED [ 60%]
2026-02-23T18:13:42.0356054Z tests/unit/test_rbac_utils.py::TestCheckNamespaceAccess::test_access_denied PASSED [ 60%]
2026-02-23T18:13:42.0377372Z tests/unit/test_rbac_utils.py::TestCheckNamespaceAccess::test_access_denied_reason_none PASSED [ 60%]
2026-02-23T18:13:42.0397366Z tests/unit/test_rbac_utils.py::TestCheckNamespaceAccess::test_403_api_exception PASSED [ 60%]
2026-02-23T18:13:42.0416594Z tests/unit/test_rbac_utils.py::TestCheckNamespaceAccess::test_non_403_api_exception PASSED [ 61%]
2026-02-23T18:13:42.0435484Z tests/unit/test_rbac_utils.py::TestCheckNamespaceAccess::test_unexpected_exception PASSED [ 61%]
2026-02-23T18:13:42.0456060Z tests/unit/test_rbac_utils.py::TestCheckNamespaceAccess::test_default_service_account_name PASSED [ 61%]
2026-02-23T18:13:42.0498196Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_secret_with_label_is_valid PASSED [ 61%]
2026-02-23T18:13:42.0515017Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_secret_without_label_is_invalid PASSED [ 61%]
2026-02-23T18:13:42.0531213Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_secret_with_wrong_label_value PASSED [ 61%]
2026-02-23T18:13:42.0548087Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_secret_with_none_labels PASSED [ 61%]
2026-02-23T18:13:42.0563306Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_secret_not_found_404 PASSED [ 61%]
2026-02-23T18:13:42.0578359Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_secret_forbidden_403 PASSED [ 61%]
2026-02-23T18:13:42.0593933Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_secret_other_api_error PASSED [ 61%]
2026-02-23T18:13:42.0608717Z tests/unit/test_rbac_utils.py::TestValidateSecretLabel::test_unexpected_exception PASSED [ 61%]
2026-02-23T18:13:42.0655259Z tests/unit/test_rbac_utils.py::TestGetSecretWithValidation::test_same_namespace_skips_access_check PASSED [ 61%]
2026-02-23T18:13:42.0669966Z tests/unit/test_rbac_utils.py::TestGetSecretWithValidation::test_different_namespace_checks_access PASSED [ 61%]
2026-02-23T18:13:42.0688686Z tests/unit/test_rbac_utils.py::TestGetSecretWithValidation::test_missing_key_returns_error PASSED [ 61%]
2026-02-23T18:13:42.0706952Z tests/unit/test_rbac_utils.py::TestGetSecretWithValidation::test_no_key_returns_all_decoded_data PASSED [ 62%]
2026-02-23T18:13:42.0719940Z tests/unit/test_rbac_utils.py::TestGetSecretWithValidation::test_label_validation_fails PASSED [ 62%]
2026-02-23T18:13:42.0737280Z tests/unit/test_rbac_utils.py::TestGetSecretWithValidation::test_api_exception_on_read PASSED [ 62%]
2026-02-23T18:13:42.0758618Z tests/unit/test_realm_reconciler_new_features.py::test_configure_default_roles_attributes PASSED [ 62%]
2026-02-23T18:13:42.0786467Z tests/unit/test_realm_reconciler_new_features.py::test_configure_default_roles_composites PASSED [ 62%]
2026-02-23T18:13:42.0849278Z tests/unit/test_realm_reconciler_new_features.py::test_configure_scope_mappings PASSED [ 62%]
2026-02-23T18:13:42.0873148Z tests/unit/test_realm_reconciler_new_features.py::test_configure_scope_mappings_client_scope PASSED [ 62%]
2026-02-23T18:13:42.0895491Z tests/unit/test_realm_reconciler_new_features.py::test_configure_client_scope_mappings PASSED [ 62%]
2026-02-23T18:13:42.0915350Z tests/unit/test_realm_reconciler_new_features.py::test_configure_default_roles_no_missing PASSED [ 62%]
2026-02-23T18:13:42.0935626Z tests/unit/test_realm_reconciler_new_features.py::test_configure_default_roles_missing_extra_role PASSED [ 62%]
2026-02-23T18:13:42.0953813Z tests/unit/test_realm_reconciler_new_features.py::test_configure_scope_mappings_missing_target_scope PASSED [ 62%]
2026-02-23T18:13:42.0973373Z tests/unit/test_realm_reconciler_new_features.py::test_configure_client_scope_mappings_missing_client_role PASSED [ 62%]
2026-02-23T18:13:42.0993604Z tests/unit/test_realm_reconciler_new_features.py::test_configure_scope_mappings_missing_roles PASSED [ 62%]
2026-02-23T18:13:42.1011572Z tests/unit/test_realm_reconciler_new_features.py::test_configure_client_scope_mappings_missing_source PASSED [ 62%]
2026-02-23T18:13:42.1029769Z tests/unit/test_realm_reconciler_new_features.py::test_configure_default_roles_no_existing_role PASSED [ 62%]
2026-02-23T18:13:42.1048410Z tests/unit/test_realm_reconciler_new_features.py::test_do_update_default_roles PASSED [ 63%]
2026-02-23T18:13:42.1066804Z tests/unit/test_realm_reconciler_new_features.py::test_do_update_scope_mappings PASSED [ 63%]
2026-02-23T18:13:42.1085362Z tests/unit/test_realm_reconciler_new_features.py::test_do_update_client_scope_mappings PASSED [ 63%]
2026-02-23T18:13:42.1103419Z tests/unit/test_realm_reconciler_new_features.py::test_configure_default_roles_error PASSED [ 63%]
2026-02-23T18:13:42.1122055Z tests/unit/test_realm_reconciler_new_features.py::test_configure_scope_mapping_error PASSED [ 63%]
2026-02-23T18:13:42.1130215Z tests/unit/test_realm_scope_mappings.py::test_scope_mapping_model_validation PASSED [ 63%]
2026-02-23T18:13:42.1138363Z tests/unit/test_realm_scope_mappings.py::test_realm_spec_with_scope_mappings PASSED [ 63%]
2026-02-23T18:13:42.1146568Z tests/unit/test_realm_scope_mappings.py::test_realm_spec_with_default_roles PASSED [ 63%]
2026-02-23T18:13:42.1154261Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPPasswordSecret::test_create_with_required_fields PASSED [ 63%]
2026-02-23T18:13:42.1161475Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPPasswordSecret::test_create_with_custom_key PASSED [ 63%]
2026-02-23T18:13:42.1169371Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPPasswordSecret::test_missing_required_name PASSED [ 63%]
2026-02-23T18:13:42.1185418Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_minimal_config_no_auth PASSED [ 63%]
2026-02-23T18:13:42.1193471Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_config_with_authentication_password PASSED [ 63%]
2026-02-23T18:13:42.1200762Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_config_with_authentication_secret PASSED [ 63%]
2026-02-23T18:13:42.1208548Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_config_with_all_fields PASSED [ 64%]
2026-02-23T18:13:42.1216302Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_port_validation_too_low PASSED [ 64%]
2026-02-23T18:13:42.1223837Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_port_validation_too_high PASSED [ 64%]
2026-02-23T18:13:42.1231344Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_auth_requires_user PASSED [ 64%]
2026-02-23T18:13:42.1239072Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_auth_requires_password_or_secret PASSED [ 64%]
2026-02-23T18:13:42.1247057Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfig::test_cannot_specify_both_password_and_secret PASSED [ 64%]
2026-02-23T18:13:42.1255443Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfigSerialization::test_field_alias_conversion PASSED [ 64%]
2026-02-23T18:13:42.1263134Z tests/unit/test_realm_smtp.py::TestKeycloakSMTPConfigSerialization::test_password_exclusion PASSED [ 64%]
2026-02-23T18:13:42.1270563Z tests/unit/test_realm_smtp.py::TestKeycloakRealmSpecSMTP::test_realm_with_smtp_config PASSED [ 64%]
2026-02-23T18:13:42.1278157Z tests/unit/test_realm_smtp.py::TestKeycloakRealmSpecSMTP::test_realm_without_smtp_config PASSED [ 64%]
2026-02-23T18:13:42.1286541Z tests/unit/test_realm_smtp.py::TestKeycloakRealmSpecSMTP::test_to_keycloak_config_excludes_password_fields PASSED [ 64%]
2026-02-23T18:13:42.1294446Z tests/unit/test_realm_smtp.py::TestKeycloakRealmSpecSMTP::test_to_keycloak_config_no_smtp PASSED [ 64%]
2026-02-23T18:13:42.1312972Z tests/unit/test_record_instance_status.py::TestRecordInstanceStatus::test_running_true_sets_gauge_to_1 PASSED [ 64%]
2026-02-23T18:13:42.1325742Z tests/unit/test_record_instance_status.py::TestRecordInstanceStatus::test_running_false_sets_gauge_to_0 PASSED [ 64%]
2026-02-23T18:13:42.1337683Z tests/unit/test_record_instance_status.py::TestRecordInstanceStatus::test_import_error_handled_gracefully PASSED [ 64%]
2026-02-23T18:13:42.1348208Z tests/unit/test_record_instance_status.py::TestRecordInstanceStatus::test_metric_error_handled_gracefully PASSED [ 65%]
2026-02-23T18:13:42.1358400Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_initial_reconciling_state PASSED [ 65%]
2026-02-23T18:13:42.1368141Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_transition_to_ready_state PASSED [ 65%]
2026-02-23T18:13:42.1377648Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_transition_to_failed_state PASSED [ 65%]
2026-02-23T18:13:42.1387257Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_transition_to_degraded_state PASSED [ 65%]
2026-02-23T18:13:42.1397088Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_generation_tracking_across_transitions PASSED [ 65%]
2026-02-23T18:13:42.1406466Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_condition_replacement_not_accumulation PASSED [ 65%]
2026-02-23T18:13:42.1519278Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_condition_timestamp_updates PASSED [ 65%]
2026-02-23T18:13:42.1547438Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_helper_methods_condition_checking PASSED [ 65%]
2026-02-23T18:13:42.1557738Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_complex_state_transition_sequence PASSED [ 65%]
2026-02-23T18:13:42.1873273Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_concurrent_condition_updates PASSED [ 65%]
2026-02-23T18:13:42.1883452Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_condition_structure_compliance PASSED [ 65%]
2026-02-23T18:13:42.1892715Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_default_generation_handling PASSED [ 65%]
2026-02-23T18:13:42.1902184Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_condition_get_and_check_methods PASSED [ 65%]
2026-02-23T18:13:42.1919264Z tests/unit/test_status_condition_transitions.py::TestStatusConditionTransitions::test_full_reconciliation_lifecycle_with_conditions PASSED [ 66%]
2026-02-23T18:13:42.1944304Z tests/unit/test_tracing.py::TestSetupTracing::test_setup_tracing_disabled PASSED [ 66%]
2026-02-23T18:13:42.1989417Z tests/unit/test_tracing.py::TestSetupTracing::test_setup_tracing_enabled PASSED [ 66%]
2026-02-23T18:13:42.2014527Z tests/unit/test_tracing.py::TestSetupTracing::test_setup_tracing_idempotent PASSED [ 66%]
2026-02-23T18:13:42.2038853Z tests/unit/test_tracing.py::TestSetupTracing::test_setup_tracing_with_custom_headers PASSED [ 66%]
2026-02-23T18:13:42.2062172Z tests/unit/test_tracing.py::TestSetupTracing::test_setup_tracing_with_simple_processor PASSED [ 66%]
2026-02-23T18:13:42.2086292Z tests/unit/test_tracing.py::TestSetupTracing::test_setup_tracing_handles_instrumentation_failure PASSED [ 66%]
2026-02-23T18:13:42.2128802Z tests/unit/test_tracing.py::TestShutdownTracing::test_shutdown_tracing PASSED [ 66%]
2026-02-23T18:13:42.2138262Z tests/unit/test_tracing.py::TestShutdownTracing::test_shutdown_tracing_when_not_initialized PASSED [ 66%]
2026-02-23T18:13:42.2150208Z tests/unit/test_tracing.py::TestShutdownTracing::test_shutdown_tracing_handles_uninstrument_errors PASSED [ 66%]
2026-02-23T18:13:42.2158618Z tests/unit/test_tracing.py::TestGetTracer::test_get_tracer_returns_tracer PASSED [ 66%]
2026-02-23T18:13:42.2166850Z tests/unit/test_tracing.py::TestGetTracer::test_get_tracer_with_different_names PASSED [ 66%]
2026-02-23T18:13:42.2174925Z tests/unit/test_tracing.py::TestGetPropagator::test_get_propagator_returns_propagator PASSED [ 66%]
2026-02-23T18:13:42.2189756Z tests/unit/test_tracing.py::TestResourceContext::test_set_resource_context_basic PASSED [ 66%]
2026-02-23T18:13:42.2198214Z tests/unit/test_tracing.py::TestResourceContext::test_set_resource_context_with_custom_attrs PASSED [ 66%]
2026-02-23T18:13:42.2206472Z tests/unit/test_tracing.py::TestResourceContext::test_set_resource_context_accumulates PASSED [ 67%]
2026-02-23T18:13:42.2214315Z tests/unit/test_tracing.py::TestResourceContext::test_set_resource_context_overrides PASSED [ 67%]
2026-02-23T18:13:42.2221991Z tests/unit/test_tracing.py::TestResourceContext::test_get_resource_context_empty PASSED [ 67%]
2026-02-23T18:13:42.2229528Z tests/unit/test_tracing.py::TestResourceContext::test_get_resource_context_returns_copy PASSED [ 67%]
2026-02-23T18:13:42.2237257Z tests/unit/test_tracing.py::TestResourceContext::test_clear_resource_context PASSED [ 67%]
2026-02-23T18:13:42.2260129Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_async_function PASSED [ 67%]
2026-02-23T18:13:42.2290102Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_sync_function PASSED [ 67%]
2026-02-23T18:13:42.2317603Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_exception_handling PASSED [ 67%]
2026-02-23T18:13:42.2332341Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_resource_type_detection_realm PASSED [ 67%]
2026-02-23T18:13:42.2346428Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_resource_type_detection_client PASSED [ 67%]
2026-02-23T18:13:42.2359595Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_resource_type_detection_keycloak PASSED [ 67%]
2026-02-23T18:13:42.2372922Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_unknown_resource_type PASSED [ 67%]
2026-02-23T18:13:42.2385816Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_with_custom_span_kind PASSED [ 67%]
2026-02-23T18:13:42.2398992Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_includes_resource_context PASSED [ 67%]
2026-02-23T18:13:42.2410523Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_preserves_function_metadata PASSED [ 68%]
2026-02-23T18:13:42.2423992Z tests/unit/test_tracing.py::TestTracedHandler::test_traced_handler_default_values_for_missing_kwargs PASSED [ 68%]
2026-02-23T18:13:42.2432402Z tests/unit/test_tracing.py::TestTraceContextPropagation::test_inject_trace_context_no_active_span PASSED [ 68%]
2026-02-23T18:13:42.2444993Z tests/unit/test_tracing.py::TestTraceContextPropagation::test_inject_trace_context_with_active_span PASSED [ 68%]
2026-02-23T18:13:42.2453320Z tests/unit/test_tracing.py::TestTraceContextPropagation::test_extract_trace_context_empty_headers PASSED [ 68%]
2026-02-23T18:13:42.2461603Z tests/unit/test_tracing.py::TestTraceContextPropagation::test_extract_trace_context_valid_traceparent PASSED [ 68%]
2026-02-23T18:13:42.2469584Z tests/unit/test_tracing.py::TestIsTracingEnabled::test_is_tracing_enabled_when_disabled PASSED [ 68%]
2026-02-23T18:13:42.2494360Z tests/unit/test_tracing.py::TestIsTracingEnabled::test_is_tracing_enabled_when_enabled PASSED [ 68%]
2026-02-23T18:13:42.2524575Z tests/unit/test_tracing.py::TestIsTracingEnabled::test_is_tracing_enabled_after_shutdown PASSED [ 68%]
2026-02-23T18:13:42.2538315Z tests/unit/test_tracing.py::TestTracingEdgeCases::test_traced_handler_with_complex_return_value PASSED [ 68%]
2026-02-23T18:13:42.2552405Z tests/unit/test_tracing.py::TestTracingEdgeCases::test_traced_handler_with_none_return PASSED [ 68%]
2026-02-23T18:13:42.2572372Z tests/unit/test_tracing.py::TestTracingEdgeCases::test_traced_handler_sync_exception PASSED [ 68%]
2026-02-23T18:13:42.2586623Z tests/unit/test_tracing.py::TestTracingEdgeCases::test_multiple_traced_handlers_create_separate_spans PASSED [ 68%]
2026-02-23T18:13:42.2601931Z tests/unit/test_tracing.py::TestTracingEdgeCases::test_nested_traced_handlers PASSED [ 68%]
2026-02-23T18:13:42.2621251Z tests/unit/test_validation.py::TestResourceNameValidation::test_valid_resource_names PASSED [ 68%]
2026-02-23T18:13:42.2629913Z tests/unit/test_validation.py::TestResourceNameValidation::test_invalid_resource_names PASSED [ 69%]
2026-02-23T18:13:42.2637805Z tests/unit/test_validation.py::TestResourceNameValidation::test_resource_name_error_messages PASSED [ 69%]
2026-02-23T18:13:42.2655158Z tests/unit/test_validation.py::TestClientIdValidation::test_valid_client_ids PASSED [ 69%]
2026-02-23T18:13:42.2663090Z tests/unit/test_validation.py::TestClientIdValidation::test_invalid_client_ids PASSED [ 69%]
2026-02-23T18:13:42.2670792Z tests/unit/test_validation.py::TestClientIdValidation::test_reserved_client_ids PASSED [ 69%]
2026-02-23T18:13:42.2687967Z tests/unit/test_validation.py::TestRealmNameValidation::test_valid_realm_names PASSED [ 69%]
2026-02-23T18:13:42.2696392Z tests/unit/test_validation.py::TestRealmNameValidation::test_invalid_realm_names PASSED [ 69%]
2026-02-23T18:13:42.2720817Z tests/unit/test_validation.py::TestUrlValidation::test_valid_urls PASSED [ 69%]
2026-02-23T18:13:42.2729312Z tests/unit/test_validation.py::TestUrlValidation::test_invalid_urls PASSED [ 69%]
2026-02-23T18:13:42.2738894Z tests/unit/test_validation.py::TestUrlValidation::test_url_security_warnings PASSED [ 69%]
2026-02-23T18:13:42.2762312Z tests/unit/test_validation.py::TestRedirectUriValidation::test_valid_redirect_uris PASSED [ 69%]
2026-02-23T18:13:42.2770454Z tests/unit/test_validation.py::TestRedirectUriValidation::test_invalid_redirect_uris PASSED [ 69%]
2026-02-23T18:13:42.2777842Z tests/unit/test_validation.py::TestRedirectUriValidation::test_empty_redirect_uris PASSED [ 69%]
2026-02-23T18:13:42.2811570Z tests/unit/test_validation.py::TestImageReferenceValidation::test_valid_image_references PASSED [ 69%]
2026-02-23T18:13:42.2819930Z tests/unit/test_validation.py::TestImageReferenceValidation::test_invalid_image_references PASSED [ 70%]
2026-02-23T18:13:42.2828887Z tests/unit/test_validation.py::TestImageReferenceValidation::test_image_reference_warnings PASSED [ 70%]
2026-02-23T18:13:42.2857740Z tests/unit/test_validation.py::TestParseKubernetesQuantity::test_parse_cpu_millicores PASSED [ 70%]
2026-02-23T18:13:42.2865460Z tests/unit/test_validation.py::TestParseKubernetesQuantity::test_parse_cpu_cores PASSED [ 70%]
2026-02-23T18:13:42.2873178Z tests/unit/test_validation.py::TestParseKubernetesQuantity::test_parse_memory_decimal_units PASSED [ 70%]
2026-02-23T18:13:42.2880422Z tests/unit/test_validation.py::TestParseKubernetesQuantity::test_parse_memory_binary_units PASSED [ 70%]
2026-02-23T18:13:42.2887653Z tests/unit/test_validation.py::TestParseKubernetesQuantity::test_parse_plain_numbers PASSED [ 70%]
2026-02-23T18:13:42.2894869Z tests/unit/test_validation.py::TestParseKubernetesQuantity::test_parse_numeric_types PASSED [ 70%]
2026-02-23T18:13:42.2902650Z tests/unit/test_validation.py::TestParseKubernetesQuantity::test_invalid_quantity_format PASSED [ 70%]
2026-02-23T18:13:42.2909729Z tests/unit/test_validation.py::TestParseVersion::test_parse_standard_versions PASSED [ 70%]
2026-02-23T18:13:42.2917061Z tests/unit/test_validation.py::TestParseVersion::test_parse_version_with_prerelease PASSED [ 70%]
2026-02-23T18:13:42.2924530Z tests/unit/test_validation.py::TestParseVersion::test_invalid_version_format PASSED [ 70%]
2026-02-23T18:13:42.2931873Z tests/unit/test_validation.py::TestExtractVersionFromImage::test_extract_version_from_standard_images PASSED [ 70%]
2026-02-23T18:13:42.2938990Z tests/unit/test_validation.py::TestExtractVersionFromImage::test_extract_version_from_digest_images PASSED [ 70%]
2026-02-23T18:13:42.2946195Z tests/unit/test_validation.py::TestExtractVersionFromImage::test_extract_version_from_non_version_tags PASSED [ 70%]
2026-02-23T18:13:42.2953472Z tests/unit/test_validation.py::TestExtractVersionFromImage::test_extract_version_no_tag PASSED [ 71%]
2026-02-23T18:13:42.2960667Z tests/unit/test_validation.py::TestValidateKeycloakVersion::test_valid_keycloak_versions PASSED [ 71%]
2026-02-23T18:13:42.2968588Z tests/unit/test_validation.py::TestValidateKeycloakVersion::test_invalid_keycloak_versions PASSED [ 71%]
2026-02-23T18:13:42.2977206Z tests/unit/test_validation.py::TestValidateKeycloakVersion::test_version_validation_with_digest PASSED [ 71%]
2026-02-23T18:13:42.2985642Z tests/unit/test_validation.py::TestValidateKeycloakVersion::test_version_validation_with_non_version_tag PASSED [ 71%]
2026-02-23T18:13:42.2992717Z tests/unit/test_validation.py::TestManagementPortSupport::test_supports_management_port_v26 PASSED [ 71%]
2026-02-23T18:13:42.2999880Z tests/unit/test_validation.py::TestManagementPortSupport::test_supports_management_port_v25 PASSED [ 71%]
2026-02-23T18:13:42.3007507Z tests/unit/test_validation.py::TestManagementPortSupport::test_no_management_port_v24 PASSED [ 71%]
2026-02-23T18:13:42.3014536Z tests/unit/test_validation.py::TestManagementPortSupport::test_management_port_unknown_version_defaults_true PASSED [ 71%]
2026-02-23T18:13:42.3021376Z tests/unit/test_validation.py::TestManagementPortSupport::test_get_health_port_v26 PASSED [ 71%]
2026-02-23T18:13:42.3028610Z tests/unit/test_validation.py::TestManagementPortSupport::test_get_health_port_v25 PASSED [ 71%]
2026-02-23T18:13:42.3035945Z tests/unit/test_validation.py::TestManagementPortSupport::test_get_health_port_v24 PASSED [ 71%]
2026-02-23T18:13:42.3043038Z tests/unit/test_validation.py::TestManagementPortSupport::test_get_health_port_unknown_defaults_9000 PASSED [ 71%]
2026-02-23T18:13:42.3050344Z tests/unit/test_validation.py::TestManagementPortSupport::test_version_override_takes_precedence PASSED [ 71%]
2026-02-23T18:13:42.3057694Z tests/unit/test_validation.py::TestManagementPortSupport::test_version_override_none_uses_image_tag PASSED [ 72%]
2026-02-23T18:13:42.3093138Z tests/unit/test_validation.py::TestValidateResourceLimits::test_valid_resource_limits PASSED [ 72%]
2026-02-23T18:13:42.3101385Z tests/unit/test_validation.py::TestValidateResourceLimits::test_invalid_quantity_format PASSED [ 72%]
2026-02-23T18:13:42.3109238Z tests/unit/test_validation.py::TestValidateResourceLimits::test_requests_exceed_limits PASSED [ 72%]
2026-02-23T18:13:42.3116663Z tests/unit/test_validation.py::TestValidateResourceLimits::test_empty_or_none_resources PASSED [ 72%]
2026-02-23T18:13:42.3124041Z tests/unit/test_validation.py::TestValidateResourceLimits::test_invalid_section_type PASSED [ 72%]
2026-02-23T18:13:42.3136242Z tests/unit/test_validation.py::TestValidateNamespaceName::test_valid_namespace_names PASSED [ 72%]
2026-02-23T18:13:42.3143950Z tests/unit/test_validation.py::TestValidateNamespaceName::test_invalid_namespace_names PASSED [ 72%]
2026-02-23T18:13:42.3153338Z tests/unit/test_validation.py::TestValidateNamespaceName::test_reserved_namespace_warning PASSED [ 72%]
2026-02-23T18:13:42.3174535Z tests/unit/test_validation.py::TestValidateEnvironmentVariables::test_valid_environment_variables PASSED [ 72%]
2026-02-23T18:13:42.3183702Z tests/unit/test_validation.py::TestValidateEnvironmentVariables::test_naming_convention_warning PASSED [ 72%]
2026-02-23T18:13:42.3193353Z tests/unit/test_validation.py::TestValidateEnvironmentVariables::test_sensitive_data_warning PASSED [ 72%]
2026-02-23T18:13:42.3200440Z tests/unit/test_validation.py::TestValidateEnvironmentVariables::test_empty_environment_variables PASSED [ 72%]
2026-02-23T18:13:42.3264489Z tests/unit/test_validation.py::TestValidateCrossResourceReferences::test_keycloak_client_references PASSED [ 72%]
2026-02-23T18:13:42.3272097Z tests/unit/test_validation.py::TestValidateCrossResourceReferences::test_keycloak_realm_references PASSED [ 72%]
2026-02-23T18:13:42.3280430Z tests/unit/test_validation.py::TestValidateCrossResourceReferences::test_secret_references PASSED [ 73%]
2026-02-23T18:13:42.3288636Z tests/unit/test_validation.py::TestValidateCrossResourceReferences::test_configmap_references PASSED [ 73%]
2026-02-23T18:13:42.3296173Z tests/unit/test_validation.py::TestValidateCrossResourceReferences::test_missing_keycloak_instance_ref PASSED [ 73%]
2026-02-23T18:13:42.3303619Z tests/unit/test_validation.py::TestValidateCrossResourceReferences::test_invalid_resource_name_in_reference PASSED [ 73%]
2026-02-23T18:13:42.3356884Z tests/unit/test_validation.py::TestValidateSecuritySettings::test_keycloak_tls_warnings PASSED [ 73%]
2026-02-23T18:13:42.3366423Z tests/unit/test_validation.py::TestValidateSecuritySettings::test_keycloak_ingress_tls_warning PASSED [ 73%]
2026-02-23T18:13:42.3375472Z tests/unit/test_validation.py::TestValidateSecuritySettings::test_keycloak_resource_limits_warning PASSED [ 73%]
2026-02-23T18:13:42.3384436Z tests/unit/test_validation.py::TestValidateSecuritySettings::test_keycloak_security_context_warning PASSED [ 73%]
2026-02-23T18:13:42.3392883Z tests/unit/test_validation.py::TestValidateSecuritySettings::test_client_public_with_offline_access_warning PASSED [ 73%]
2026-02-23T18:13:42.3401135Z tests/unit/test_validation.py::TestValidateSecuritySettings::test_realm_no_password_policy_warning PASSED [ 73%]
2026-02-23T18:13:42.3409701Z tests/unit/test_validation.py::TestValidateSecuritySettings::test_realm_ssl_none_warning PASSED [ 73%]
2026-02-23T18:13:42.3440925Z tests/unit/test_validation.py::TestValidateCompleteResource::test_valid_keycloak_client PASSED [ 73%]
2026-02-23T18:13:42.3449211Z tests/unit/test_validation.py::TestValidateCompleteResource::test_valid_keycloak_realm PASSED [ 73%]
2026-02-23T18:13:42.3458663Z tests/unit/test_validation.py::TestValidateCompleteResource::test_valid_keycloak_instance PASSED [ 73%]
2026-02-23T18:13:42.3466135Z tests/unit/test_validation.py::TestValidateCompleteResource::test_missing_metadata PASSED [ 74%]
2026-02-23T18:13:42.3473582Z tests/unit/test_validation.py::TestValidateCompleteResource::test_missing_spec PASSED [ 74%]
2026-02-23T18:13:42.3480799Z tests/unit/test_validation.py::TestValidateCompleteResource::test_missing_name PASSED [ 74%]
2026-02-23T18:13:42.3488991Z tests/unit/test_validation.py::TestValidateCompleteResource::test_invalid_client_without_client_id PASSED [ 74%]
2026-02-23T18:13:42.3496867Z tests/unit/test_validation.py::TestValidateCompleteResource::test_invalid_realm_without_realm_name PASSED [ 74%]
2026-02-23T18:13:42.3504317Z tests/unit/test_validation.py::TestSupportsTracing::test_supports_tracing_v26 PASSED [ 74%]
2026-02-23T18:13:42.3511452Z tests/unit/test_validation.py::TestSupportsTracing::test_supports_tracing_v27_and_beyond PASSED [ 74%]
2026-02-23T18:13:42.3518698Z tests/unit/test_validation.py::TestSupportsTracing::test_no_tracing_v25 PASSED [ 74%]
2026-02-23T18:13:42.3525923Z tests/unit/test_validation.py::TestSupportsTracing::test_no_tracing_v24 PASSED [ 74%]
2026-02-23T18:13:42.3533158Z tests/unit/test_validation.py::TestSupportsTracing::test_tracing_unknown_version_defaults_true PASSED [ 74%]
2026-02-23T18:13:42.3540384Z tests/unit/test_validation.py::TestSupportsTracing::test_tracing_version_override_takes_precedence PASSED [ 74%]
2026-02-23T18:13:42.3547524Z tests/unit/test_validation.py::TestSupportsTracing::test_tracing_version_override_none_uses_image_tag PASSED [ 74%]
2026-02-23T18:13:42.3556799Z tests/unit/test_validation.py::TestSupportsTracing::test_tracing_invalid_version_defaults_true PASSED [ 74%]
2026-02-23T18:13:42.3565661Z tests/unit/test_validation.py::TestSupportsTracing::test_tracing_logs_version_detection PASSED [ 74%]
2026-02-23T18:13:42.3582023Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_valid_strings_without_placeholders PASSED [ 74%]
2026-02-23T18:13:42.3589448Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_detects_keycloak_secret_placeholder PASSED [ 75%]
2026-02-23T18:13:42.3596811Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_detects_env_placeholder PASSED [ 75%]
2026-02-23T18:13:42.3604130Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_detects_uppercase_env_placeholder PASSED [ 75%]
2026-02-23T18:13:42.3611158Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_detects_vault_placeholder PASSED [ 75%]
2026-02-23T18:13:42.3630948Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_spec_validation_finds_nested_placeholders PASSED [ 75%]
2026-02-23T18:13:42.3638736Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_spec_validation_finds_placeholders_in_lists PASSED [ 75%]
2026-02-23T18:13:42.3646767Z tests/unit/test_validation.py::TestKeycloakPlaceholderValidation::test_spec_validation_passes_for_clean_spec PASSED [ 75%]
2026-02-23T18:13:42.3708875Z tests/unit/test_webhooks.py::TestRealmWebhook::test_valid_realm_spec_passes PASSED [ 75%]
2026-02-23T18:13:42.3721453Z tests/unit/test_webhooks.py::TestRealmWebhook::test_invalid_realm_spec_fails PASSED [ 75%]
2026-02-23T18:13:42.3735496Z tests/unit/test_webhooks.py::TestRealmWebhook::test_quota_under_limit_passes PASSED [ 75%]
2026-02-23T18:13:42.3749610Z tests/unit/test_webhooks.py::TestRealmWebhook::test_quota_at_limit_fails PASSED [ 75%]
2026-02-23T18:13:42.3763100Z tests/unit/test_webhooks.py::TestRealmWebhook::test_update_skips_quota_check PASSED [ 75%]
2026-02-23T18:13:42.3777190Z tests/unit/test_webhooks.py::TestRealmWebhook::test_missing_operator_ref_namespace_fails PASSED [ 75%]
2026-02-23T18:13:42.3790449Z tests/unit/test_webhooks.py::TestRealmWebhook::test_quota_check_fail_open PASSED [ 75%]
2026-02-23T18:13:42.3892360Z tests/unit/test_webhooks.py::TestClientWebhook::test_valid_client_spec_passes PASSED [ 76%]
2026-02-23T18:13:42.3914372Z tests/unit/test_webhooks.py::TestClientWebhook::test_invalid_client_spec_fails PASSED [ 76%]
2026-02-23T18:13:42.3937060Z tests/unit/test_webhooks.py::TestClientWebhook::test_client_quota_under_limit_passes PASSED [ 76%]
2026-02-23T18:13:42.3960135Z tests/unit/test_webhooks.py::TestClientWebhook::test_client_quota_at_limit_fails PASSED [ 76%]
2026-02-23T18:13:42.3982582Z tests/unit/test_webhooks.py::TestClientWebhook::test_client_update_skips_quota PASSED [ 76%]
2026-02-23T18:13:42.3996453Z tests/unit/test_webhooks.py::TestClientWebhook::test_missing_realm_ref_fails PASSED [ 76%]
2026-02-23T18:13:42.4034770Z tests/unit/test_webhooks.py::TestKeycloakWebhook::test_valid_keycloak_spec_passes PASSED [ 76%]
2026-02-23T18:13:42.4047335Z tests/unit/test_webhooks.py::TestKeycloakWebhook::test_invalid_keycloak_spec_fails PASSED [ 76%]
2026-02-23T18:13:42.4060943Z tests/unit/test_webhooks.py::TestKeycloakWebhook::test_one_keycloak_per_namespace_passes PASSED [ 76%]
2026-02-23T18:13:42.4075043Z tests/unit/test_webhooks.py::TestKeycloakWebhook::test_one_keycloak_per_namespace_fails PASSED [ 76%]
2026-02-23T18:13:42.4089303Z tests/unit/test_webhooks.py::TestKeycloakWebhook::test_keycloak_update_allowed PASSED [ 76%]
2026-02-23T18:13:42.4119413Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticationFlows::test_returns_flows_on_success PASSED [ 76%]
2026-02-23T18:13:42.4133134Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticationFlows::test_returns_empty_list_on_failure PASSED [ 76%]
2026-02-23T18:13:42.4153347Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticationFlowByAlias::test_returns_flow_when_found PASSED [ 76%]
2026-02-23T18:13:42.4166457Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticationFlowByAlias::test_returns_none_when_not_found PASSED [ 76%]
2026-02-23T18:13:42.4198108Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticationFlow::test_returns_true_on_success PASSED [ 77%]
2026-02-23T18:13:42.4211960Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticationFlow::test_returns_false_on_conflict PASSED [ 77%]
2026-02-23T18:13:42.4225056Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticationFlow::test_accepts_dict_config PASSED [ 77%]
2026-02-23T18:13:42.4253455Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteAuthenticationFlow::test_returns_true_on_success PASSED [ 77%]
2026-02-23T18:13:42.4266894Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteAuthenticationFlow::test_returns_true_on_not_found PASSED [ 77%]
2026-02-23T18:13:42.4280310Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteAuthenticationFlow::test_returns_false_on_error_response PASSED [ 77%]
2026-02-23T18:13:42.4293855Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteAuthenticationFlow::test_returns_false_on_exception PASSED [ 77%]
2026-02-23T18:13:42.4322905Z tests/unit/utils/test_keycloak_admin_auth.py::TestCopyAuthenticationFlow::test_returns_true_on_success PASSED [ 77%]
2026-02-23T18:13:42.4336407Z tests/unit/utils/test_keycloak_admin_auth.py::TestCopyAuthenticationFlow::test_returns_false_on_conflict PASSED [ 77%]
2026-02-23T18:13:42.4349823Z tests/unit/utils/test_keycloak_admin_auth.py::TestCopyAuthenticationFlow::test_returns_false_on_error_response PASSED [ 77%]
2026-02-23T18:13:42.4363423Z tests/unit/utils/test_keycloak_admin_auth.py::TestCopyAuthenticationFlow::test_returns_false_on_exception PASSED [ 77%]
2026-02-23T18:13:42.4391514Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetFlowExecutions::test_returns_executions_on_success PASSED [ 77%]
2026-02-23T18:13:42.4420287Z tests/unit/utils/test_keycloak_admin_auth.py::TestAddExecutionToFlow::test_returns_execution_id_on_success PASSED [ 77%]
2026-02-23T18:13:42.4434046Z tests/unit/utils/test_keycloak_admin_auth.py::TestAddExecutionToFlow::test_returns_none_on_failure PASSED [ 77%]
2026-02-23T18:13:42.4468914Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateExecutionRequirement::test_returns_true_on_success PASSED [ 78%]
2026-02-23T18:13:42.4482618Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateExecutionRequirement::test_returns_false_when_execution_not_found PASSED [ 78%]
2026-02-23T18:13:42.4499009Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateExecutionRequirement::test_returns_false_on_error_response PASSED [ 78%]
2026-02-23T18:13:42.4512307Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateExecutionRequirement::test_returns_false_on_exception PASSED [ 78%]
2026-02-23T18:13:42.4540875Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteExecution::test_returns_true_on_success PASSED [ 78%]
2026-02-23T18:13:42.4554429Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteExecution::test_returns_true_on_not_found PASSED [ 78%]
2026-02-23T18:13:42.4567615Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteExecution::test_returns_false_on_error_response PASSED [ 78%]
2026-02-23T18:13:42.4580794Z tests/unit/utils/test_keycloak_admin_auth.py::TestDeleteExecution::test_returns_false_on_exception PASSED [ 78%]
2026-02-23T18:13:42.4607901Z tests/unit/utils/test_keycloak_admin_auth.py::TestRequiredActionMethods::test_get_required_actions_returns_list PASSED [ 78%]
2026-02-23T18:13:42.4634156Z tests/unit/utils/test_keycloak_admin_auth.py::TestRequiredActionMethods::test_get_required_action_returns_action PASSED [ 78%]
2026-02-23T18:13:42.4647273Z tests/unit/utils/test_keycloak_admin_auth.py::TestRequiredActionMethods::test_get_required_action_returns_none_on_404 PASSED [ 78%]
2026-02-23T18:13:42.4674329Z tests/unit/utils/test_keycloak_admin_auth.py::TestRequiredActionMethods::test_update_required_action_returns_true PASSED [ 78%]
2026-02-23T18:13:42.4703182Z tests/unit/utils/test_keycloak_admin_auth.py::TestRequiredActionMethods::test_register_required_action_returns_true PASSED [ 78%]
2026-02-23T18:13:42.4716768Z tests/unit/utils/test_keycloak_admin_auth.py::TestRequiredActionMethods::test_register_required_action_returns_true_on_conflict PASSED [ 78%]
2026-02-23T18:13:42.4743197Z tests/unit/utils/test_keycloak_admin_auth.py::TestAuthenticatorConfigMethods::test_get_authenticator_config_returns_config PASSED [ 78%]
2026-02-23T18:13:42.4756150Z tests/unit/utils/test_keycloak_admin_auth.py::TestAuthenticatorConfigMethods::test_get_authenticator_config_returns_none_on_404 PASSED [ 79%]
2026-02-23T18:13:42.4787319Z tests/unit/utils/test_keycloak_admin_auth.py::TestAuthenticatorConfigMethods::test_create_authenticator_config_returns_id PASSED [ 79%]
2026-02-23T18:13:42.4814310Z tests/unit/utils/test_keycloak_admin_auth.py::TestAuthenticatorConfigMethods::test_update_authenticator_config_returns_true PASSED [ 79%]
2026-02-23T18:13:42.4844165Z tests/unit/utils/test_keycloak_admin_auth.py::TestAddSubflowToFlow::test_returns_execution_id_on_success PASSED [ 79%]
2026-02-23T18:13:42.4858242Z tests/unit/utils/test_keycloak_admin_auth.py::TestAddSubflowToFlow::test_returns_none_on_error_response PASSED [ 79%]
2026-02-23T18:13:42.4871442Z tests/unit/utils/test_keycloak_admin_auth.py::TestAddSubflowToFlow::test_returns_none_on_exception PASSED [ 79%]
2026-02-23T18:13:42.4885042Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetFlowExecutionsEdgeCases::test_returns_empty_list_on_non_200 PASSED [ 79%]
2026-02-23T18:13:42.4898356Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetFlowExecutionsEdgeCases::test_returns_empty_list_on_exception PASSED [ 79%]
2026-02-23T18:13:42.4911440Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticationFlowsEdgeCases::test_returns_empty_list_on_non_200 PASSED [ 79%]
2026-02-23T18:13:42.4924864Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticationFlowsEdgeCases::test_returns_empty_list_on_exception PASSED [ 79%]
2026-02-23T18:13:42.4938069Z tests/unit/utils/test_keycloak_admin_auth.py::TestAddExecutionToFlowEdgeCases::test_returns_none_on_non_201 PASSED [ 79%]
2026-02-23T18:13:42.4951251Z tests/unit/utils/test_keycloak_admin_auth.py::TestAddExecutionToFlowEdgeCases::test_returns_none_on_exception PASSED [ 79%]
2026-02-23T18:13:42.4964688Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticatorConfigEdgeCases::test_returns_none_on_non_201 PASSED [ 79%]
2026-02-23T18:13:42.4977860Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticatorConfigEdgeCases::test_returns_none_on_exception PASSED [ 79%]
2026-02-23T18:13:42.4991092Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateAuthenticatorConfigEdgeCases::test_returns_false_on_non_204 PASSED [ 80%]
2026-02-23T18:13:42.5005049Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateAuthenticatorConfigEdgeCases::test_returns_false_on_exception PASSED [ 80%]
2026-02-23T18:13:42.5017545Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticatorConfigEdgeCases::test_returns_none_on_non_200 PASSED [ 80%]
2026-02-23T18:13:42.5030697Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetAuthenticatorConfigEdgeCases::test_returns_none_on_exception PASSED [ 80%]
2026-02-23T18:13:42.5044308Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetRequiredActionsEdgeCases::test_returns_empty_list_on_non_200 PASSED [ 80%]
2026-02-23T18:13:42.5057397Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetRequiredActionsEdgeCases::test_returns_empty_list_on_exception PASSED [ 80%]
2026-02-23T18:13:42.5069894Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetRequiredActionEdgeCases::test_returns_none_on_non_200 PASSED [ 80%]
2026-02-23T18:13:42.5083357Z tests/unit/utils/test_keycloak_admin_auth.py::TestGetRequiredActionEdgeCases::test_returns_none_on_exception PASSED [ 80%]
2026-02-23T18:13:42.5097039Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateRequiredActionEdgeCases::test_returns_false_on_non_204 PASSED [ 80%]
2026-02-23T18:13:42.5110388Z tests/unit/utils/test_keycloak_admin_auth.py::TestUpdateRequiredActionEdgeCases::test_returns_false_on_exception PASSED [ 80%]
2026-02-23T18:13:42.5123792Z tests/unit/utils/test_keycloak_admin_auth.py::TestRegisterRequiredActionEdgeCases::test_returns_false_on_non_204 PASSED [ 80%]
2026-02-23T18:13:42.5136983Z tests/unit/utils/test_keycloak_admin_auth.py::TestRegisterRequiredActionEdgeCases::test_returns_false_on_exception PASSED [ 80%]
2026-02-23T18:13:42.5150173Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticationFlowEdgeCases::test_returns_false_on_non_201 PASSED [ 80%]
2026-02-23T18:13:42.5163668Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticationFlowEdgeCases::test_returns_false_on_exception PASSED [ 80%]
2026-02-23T18:13:42.5176795Z tests/unit/utils/test_keycloak_admin_auth.py::TestCreateAuthenticationFlowEdgeCases::test_handles_dict_input PASSED [ 80%]
2026-02-23T18:13:42.5198912Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationScopes::test_returns_scopes_on_success PASSED [ 81%]
2026-02-23T18:13:42.5211869Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationScopes::test_returns_empty_list_on_404 PASSED [ 81%]
2026-02-23T18:13:42.5225182Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationScopes::test_returns_empty_list_on_error PASSED [ 81%]
2026-02-23T18:13:42.5249320Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationScope::test_returns_scope_on_success PASSED [ 81%]
2026-02-23T18:13:42.5262739Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationScope::test_returns_none_on_conflict PASSED [ 81%]
2026-02-23T18:13:42.5288237Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationScope::test_returns_none_on_failure PASSED [ 81%]
2026-02-23T18:13:42.5308589Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationScope::test_returns_true_on_success PASSED [ 81%]
2026-02-23T18:13:42.5321952Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationScope::test_returns_true_on_not_found PASSED [ 81%]
2026-02-23T18:13:42.5335344Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationScope::test_returns_false_on_failure PASSED [ 81%]
2026-02-23T18:13:42.5357190Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationResources::test_returns_resources_on_success PASSED [ 81%]
2026-02-23T18:13:42.5370136Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationResources::test_returns_empty_list_on_404 PASSED [ 81%]
2026-02-23T18:13:42.5394432Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationResource::test_returns_resource_on_success PASSED [ 81%]
2026-02-23T18:13:42.5407629Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationResource::test_returns_none_on_conflict PASSED [ 81%]
2026-02-23T18:13:42.5428255Z tests/unit/utils/test_keycloak_admin_authz.py::TestUpdateAuthorizationResource::test_returns_true_on_success PASSED [ 81%]
2026-02-23T18:13:42.5441798Z tests/unit/utils/test_keycloak_admin_authz.py::TestUpdateAuthorizationResource::test_returns_false_on_not_found PASSED [ 82%]
2026-02-23T18:13:42.5462102Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationResource::test_returns_true_on_success PASSED [ 82%]
2026-02-23T18:13:42.5474868Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationResource::test_returns_true_on_not_found PASSED [ 82%]
2026-02-23T18:13:42.5494413Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPolicies::test_returns_policies_on_success PASSED [ 82%]
2026-02-23T18:13:42.5507104Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPolicies::test_returns_empty_list_on_404 PASSED [ 82%]
2026-02-23T18:13:42.5533139Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPolicyByName::test_returns_policy_when_found PASSED [ 82%]
2026-02-23T18:13:42.5546193Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPolicyByName::test_returns_none_when_not_found PASSED [ 82%]
2026-02-23T18:13:42.5558845Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPolicyByName::test_returns_none_on_404 PASSED [ 82%]
2026-02-23T18:13:42.5572156Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationPolicy::test_returns_policy_on_success PASSED [ 82%]
2026-02-23T18:13:42.5603260Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationPolicy::test_returns_none_on_conflict PASSED [ 82%]
2026-02-23T18:13:42.5616784Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationPolicy::test_returns_none_on_failure PASSED [ 82%]
2026-02-23T18:13:42.5630026Z tests/unit/utils/test_keycloak_admin_authz.py::TestUpdateAuthorizationPolicy::test_returns_true_on_success PASSED [ 82%]
2026-02-23T18:13:42.5654425Z tests/unit/utils/test_keycloak_admin_authz.py::TestUpdateAuthorizationPolicy::test_returns_false_on_not_found PASSED [ 82%]
2026-02-23T18:13:42.5667513Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationPolicy::test_returns_true_on_success PASSED [ 82%]
2026-02-23T18:13:42.5680214Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationPolicy::test_returns_true_on_not_found PASSED [ 82%]
2026-02-23T18:13:42.5699735Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPermissions::test_returns_permissions_on_success PASSED [ 83%]
2026-02-23T18:13:42.5712765Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPermissions::test_returns_empty_list_on_404 PASSED [ 83%]
2026-02-23T18:13:42.5732520Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPermissionByName::test_returns_permission_when_found PASSED [ 83%]
2026-02-23T18:13:42.5745378Z tests/unit/utils/test_keycloak_admin_authz.py::TestGetAuthorizationPermissionByName::test_returns_none_when_not_found PASSED [ 83%]
2026-02-23T18:13:42.5758865Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationPermission::test_returns_permission_on_success PASSED [ 83%]
2026-02-23T18:13:42.5771996Z tests/unit/utils/test_keycloak_admin_authz.py::TestCreateAuthorizationPermission::test_returns_existing_on_conflict PASSED [ 83%]
2026-02-23T18:13:42.5785112Z tests/unit/utils/test_keycloak_admin_authz.py::TestUpdateAuthorizationPermission::test_returns_true_on_success PASSED [ 83%]
2026-02-23T18:13:42.5798429Z tests/unit/utils/test_keycloak_admin_authz.py::TestUpdateAuthorizationPermission::test_returns_false_on_not_found PASSED [ 83%]
2026-02-23T18:13:42.5811627Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationPermission::test_returns_true_on_success PASSED [ 83%]
2026-02-23T18:13:42.5824988Z tests/unit/utils/test_keycloak_admin_authz.py::TestDeleteAuthorizationPermission::test_returns_true_on_not_found PASSED [ 83%]
2026-02-23T18:13:42.5841930Z tests/unit/utils/test_keycloak_admin_cleanup.py::TestKeycloakAdminCleanup::test_cleanup_decrements_metrics_when_tracked PASSED [ 83%]
2026-02-23T18:13:42.5851509Z tests/unit/utils/test_keycloak_admin_cleanup.py::TestKeycloakAdminCleanup::test_cleanup_does_nothing_when_not_tracked PASSED [ 83%]
2026-02-23T18:13:42.5862343Z tests/unit/utils/test_keycloak_admin_cleanup.py::TestKeycloakAdminCleanup::test_cleanup_handles_missing_metrics PASSED [ 83%]
2026-02-23T18:13:42.5891417Z tests/unit/utils/test_keycloak_admin_federation.py::TestTriggerUserFederationSync::test_full_sync_returns_result PASSED [ 83%]
2026-02-23T18:13:42.5904540Z tests/unit/utils/test_keycloak_admin_federation.py::TestTriggerUserFederationSync::test_changed_users_sync PASSED [ 84%]
2026-02-23T18:13:42.5917984Z tests/unit/utils/test_keycloak_admin_federation.py::TestTriggerUserFederationSync::test_sync_failure_raises_error PASSED [ 84%]
2026-02-23T18:13:42.5941906Z tests/unit/utils/test_keycloak_admin_federation.py::TestTestLdapConnection::test_connection_success PASSED [ 84%]
2026-02-23T18:13:42.5955514Z tests/unit/utils/test_keycloak_admin_federation.py::TestTestLdapConnection::test_connection_failure PASSED [ 84%]
2026-02-23T18:13:42.5979106Z tests/unit/utils/test_keycloak_admin_federation.py::TestTestLdapAuthentication::test_auth_success PASSED [ 84%]
2026-02-23T18:13:42.5992911Z tests/unit/utils/test_keycloak_admin_federation.py::TestTestLdapAuthentication::test_auth_failure PASSED [ 84%]
2026-02-23T18:13:42.6015835Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationProvider::test_returns_provider_on_success PASSED [ 84%]
2026-02-23T18:13:42.6028743Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationProvider::test_returns_none_on_not_found PASSED [ 84%]
2026-02-23T18:13:42.6041870Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationProvider::test_raises_on_error PASSED [ 84%]
2026-02-23T18:13:42.6092637Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationProviderByName::test_returns_matching_provider PASSED [ 84%]
2026-02-23T18:13:42.6106251Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationProviderByName::test_returns_none_when_not_found PASSED [ 84%]
2026-02-23T18:13:42.6146388Z tests/unit/utils/test_keycloak_admin_federation.py::TestCreateUserFederationProvider::test_creates_provider_and_returns_id PASSED [ 84%]
2026-02-23T18:13:42.6167998Z tests/unit/utils/test_keycloak_admin_federation.py::TestCreateUserFederationProvider::test_accepts_dict_config PASSED [ 84%]
2026-02-23T18:13:42.6191009Z tests/unit/utils/test_keycloak_admin_federation.py::TestCreateUserFederationProvider::test_returns_none_on_failure PASSED [ 84%]
2026-02-23T18:13:42.6229036Z tests/unit/utils/test_keycloak_admin_federation.py::TestUpdateUserFederationProvider::test_updates_provider_successfully PASSED [ 84%]
2026-02-23T18:13:42.6249052Z tests/unit/utils/test_keycloak_admin_federation.py::TestUpdateUserFederationProvider::test_returns_false_on_failure PASSED [ 85%]
2026-02-23T18:13:42.6281550Z tests/unit/utils/test_keycloak_admin_federation.py::TestDeleteUserFederationProvider::test_deletes_provider_successfully PASSED [ 85%]
2026-02-23T18:13:42.6302695Z tests/unit/utils/test_keycloak_admin_federation.py::TestDeleteUserFederationProvider::test_returns_true_on_not_found PASSED [ 85%]
2026-02-23T18:13:42.6320724Z tests/unit/utils/test_keycloak_admin_federation.py::TestDeleteUserFederationProvider::test_returns_false_on_error PASSED [ 85%]
2026-02-23T18:13:42.6350095Z tests/unit/utils/test_keycloak_admin_federation.py::TestCreateUserFederationMapper::test_creates_mapper_and_returns_id PASSED [ 85%]
2026-02-23T18:13:42.6363777Z tests/unit/utils/test_keycloak_admin_federation.py::TestCreateUserFederationMapper::test_returns_none_on_failure PASSED [ 85%]
2026-02-23T18:13:42.6385292Z tests/unit/utils/test_keycloak_admin_federation.py::TestDeleteUserFederationMapper::test_deletes_mapper_successfully PASSED [ 85%]
2026-02-23T18:13:42.6398802Z tests/unit/utils/test_keycloak_admin_federation.py::TestDeleteUserFederationMapper::test_returns_false_on_error PASSED [ 85%]
2026-02-23T18:13:42.6424328Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationMappers::test_returns_mappers_on_success PASSED [ 85%]
2026-02-23T18:13:42.6437204Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationMappers::test_returns_empty_on_not_found PASSED [ 85%]
2026-02-23T18:13:42.6450569Z tests/unit/utils/test_keycloak_admin_federation.py::TestGetUserFederationMappers::test_raises_on_error PASSED [ 85%]
2026-02-23T18:13:42.6478117Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProvider::test_returns_idp_when_found PASSED [ 85%]
2026-02-23T18:13:42.6491124Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProvider::test_returns_none_when_not_found PASSED [ 85%]
2026-02-23T18:13:42.6504486Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProvider::test_returns_none_on_error PASSED [ 85%]
2026-02-23T18:13:42.6532331Z tests/unit/utils/test_keycloak_admin_idp.py::TestUpdateIdentityProvider::test_updates_idp_successfully PASSED [ 86%]
2026-02-23T18:13:42.6545517Z tests/unit/utils/test_keycloak_admin_idp.py::TestUpdateIdentityProvider::test_updates_idp_with_204_response PASSED [ 86%]
2026-02-23T18:13:42.6558891Z tests/unit/utils/test_keycloak_admin_idp.py::TestUpdateIdentityProvider::test_returns_false_on_failure PASSED [ 86%]
2026-02-23T18:13:42.6571896Z tests/unit/utils/test_keycloak_admin_idp.py::TestUpdateIdentityProvider::test_accepts_dict_config PASSED [ 86%]
2026-02-23T18:13:42.6608475Z tests/unit/utils/test_keycloak_admin_idp.py::TestConfigureIdentityProvider::test_creates_new_idp_when_not_exists PASSED [ 86%]
2026-02-23T18:13:42.6623598Z tests/unit/utils/test_keycloak_admin_idp.py::TestConfigureIdentityProvider::test_updates_existing_idp PASSED [ 86%]
2026-02-23T18:13:42.6638222Z tests/unit/utils/test_keycloak_admin_idp.py::TestConfigureIdentityProvider::test_accepts_dict_config PASSED [ 86%]
2026-02-23T18:13:42.6653619Z tests/unit/utils/test_keycloak_admin_idp.py::TestConfigureIdentityProvider::test_returns_false_on_create_failure PASSED [ 86%]
2026-02-23T18:13:42.6668181Z tests/unit/utils/test_keycloak_admin_idp.py::TestConfigureIdentityProvider::test_returns_false_on_update_failure PASSED [ 86%]
2026-02-23T18:13:42.6696323Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviders::test_returns_list_of_idps PASSED [ 86%]
2026-02-23T18:13:42.6710143Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviders::test_returns_empty_list_on_error PASSED [ 86%]
2026-02-23T18:13:42.6724202Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviders::test_returns_empty_list_on_exception PASSED [ 86%]
2026-02-23T18:13:42.6752979Z tests/unit/utils/test_keycloak_admin_idp.py::TestDeleteIdentityProvider::test_deletes_successfully PASSED [ 86%]
2026-02-23T18:13:42.6766381Z tests/unit/utils/test_keycloak_admin_idp.py::TestDeleteIdentityProvider::test_returns_true_when_not_found PASSED [ 86%]
2026-02-23T18:13:42.6780303Z tests/unit/utils/test_keycloak_admin_idp.py::TestDeleteIdentityProvider::test_returns_false_on_error PASSED [ 86%]
2026-02-23T18:13:42.6794533Z tests/unit/utils/test_keycloak_admin_idp.py::TestDeleteIdentityProvider::test_returns_false_on_exception PASSED [ 87%]
2026-02-23T18:13:42.6822731Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviderMappers::test_returns_list_of_mappers PASSED [ 87%]
2026-02-23T18:13:42.6837139Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviderMappers::test_returns_empty_list_on_error PASSED [ 87%]
2026-02-23T18:13:42.6866468Z tests/unit/utils/test_keycloak_admin_idp.py::TestCreateIdentityProviderMapper::test_creates_mapper_successfully PASSED [ 87%]
2026-02-23T18:13:42.6879972Z tests/unit/utils/test_keycloak_admin_idp.py::TestCreateIdentityProviderMapper::test_accepts_dict_config PASSED [ 87%]
2026-02-23T18:13:42.6894292Z tests/unit/utils/test_keycloak_admin_idp.py::TestCreateIdentityProviderMapper::test_returns_false_on_failure PASSED [ 87%]
2026-02-23T18:13:42.6926386Z tests/unit/utils/test_keycloak_admin_idp.py::TestUpdateIdentityProviderMapper::test_updates_mapper_successfully PASSED [ 87%]
2026-02-23T18:13:42.6941071Z tests/unit/utils/test_keycloak_admin_idp.py::TestUpdateIdentityProviderMapper::test_returns_false_on_failure PASSED [ 87%]
2026-02-23T18:13:42.6969240Z tests/unit/utils/test_keycloak_admin_idp.py::TestDeleteIdentityProviderMapper::test_deletes_successfully PASSED [ 87%]
2026-02-23T18:13:42.6982888Z tests/unit/utils/test_keycloak_admin_idp.py::TestDeleteIdentityProviderMapper::test_returns_true_when_not_found PASSED [ 87%]
2026-02-23T18:13:42.6996979Z tests/unit/utils/test_keycloak_admin_idp.py::TestDeleteIdentityProviderMapper::test_returns_false_on_error PASSED [ 87%]
2026-02-23T18:13:42.7031960Z tests/unit/utils/test_keycloak_admin_idp.py::TestConfigureIdentityProviderMapper::test_creates_new_mapper_when_not_exists PASSED [ 87%]
2026-02-23T18:13:42.7047237Z tests/unit/utils/test_keycloak_admin_idp.py::TestConfigureIdentityProviderMapper::test_updates_existing_mapper PASSED [ 87%]
2026-02-23T18:13:42.7075144Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviderMapper::test_returns_mapper_when_found PASSED [ 87%]
2026-02-23T18:13:42.7088825Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviderMapper::test_returns_none_when_not_found PASSED [ 88%]
2026-02-23T18:13:42.7103898Z tests/unit/utils/test_keycloak_admin_idp.py::TestGetIdentityProviderMapper::test_returns_none_on_error PASSED [ 88%]
2026-02-23T18:13:42.7128552Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizations::test_returns_organizations_on_success PASSED [ 88%]
2026-02-23T18:13:42.7142154Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizations::test_returns_empty_list_on_404 PASSED [ 88%]
2026-02-23T18:13:42.7155721Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizations::test_returns_empty_list_on_null_response PASSED [ 88%]
2026-02-23T18:13:42.7169583Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganization::test_returns_organization_when_found PASSED [ 88%]
2026-02-23T18:13:42.7192232Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganization::test_returns_none_when_not_found PASSED [ 88%]
2026-02-23T18:13:42.7205888Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganization::test_raises_on_other_error PASSED [ 88%]
2026-02-23T18:13:42.7236787Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationByName::test_returns_organization_when_found PASSED [ 88%]
2026-02-23T18:13:42.7250323Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationByName::test_returns_none_when_not_found PASSED [ 88%]
2026-02-23T18:13:42.7263684Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationByName::test_returns_none_on_404 PASSED [ 88%]
2026-02-23T18:13:42.7277178Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationByName::test_returns_org_without_id_as_fallback PASSED [ 88%]
2026-02-23T18:13:42.7291021Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationByName::test_filters_by_exact_name PASSED [ 88%]
2026-02-23T18:13:42.7305597Z tests/unit/utils/test_keycloak_admin_orgs.py::TestCreateOrganization::test_returns_organization_on_success PASSED [ 88%]
2026-02-23T18:13:42.7319187Z tests/unit/utils/test_keycloak_admin_orgs.py::TestCreateOrganization::test_returns_existing_on_conflict PASSED [ 88%]
2026-02-23T18:13:42.7332717Z tests/unit/utils/test_keycloak_admin_orgs.py::TestCreateOrganization::test_returns_none_on_failure PASSED [ 89%]
2026-02-23T18:13:42.7346633Z tests/unit/utils/test_keycloak_admin_orgs.py::TestUpdateOrganization::test_returns_true_on_success PASSED [ 89%]
2026-02-23T18:13:42.7360685Z tests/unit/utils/test_keycloak_admin_orgs.py::TestUpdateOrganization::test_returns_false_on_not_found PASSED [ 89%]
2026-02-23T18:13:42.7374777Z tests/unit/utils/test_keycloak_admin_orgs.py::TestUpdateOrganization::test_returns_false_on_failure PASSED [ 89%]
2026-02-23T18:13:42.7388590Z tests/unit/utils/test_keycloak_admin_orgs.py::TestDeleteOrganization::test_returns_true_on_success PASSED [ 89%]
2026-02-23T18:13:42.7410521Z tests/unit/utils/test_keycloak_admin_orgs.py::TestDeleteOrganization::test_returns_true_on_not_found PASSED [ 89%]
2026-02-23T18:13:42.7424559Z tests/unit/utils/test_keycloak_admin_orgs.py::TestDeleteOrganization::test_returns_false_on_failure PASSED [ 89%]
2026-02-23T18:13:42.7449832Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationIdentityProviders::test_returns_idps_on_success PASSED [ 89%]
2026-02-23T18:13:42.7463407Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationIdentityProviders::test_returns_empty_list_on_404 PASSED [ 89%]
2026-02-23T18:13:42.7477268Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationIdentityProviders::test_returns_empty_list_on_null_response PASSED [ 89%]
2026-02-23T18:13:42.7490657Z tests/unit/utils/test_keycloak_admin_orgs.py::TestGetOrganizationIdentityProviders::test_returns_empty_list_on_error PASSED [ 89%]
2026-02-23T18:13:42.7504715Z tests/unit/utils/test_keycloak_admin_orgs.py::TestLinkOrganizationIdentityProvider::test_returns_true_on_success PASSED [ 89%]
2026-02-23T18:13:42.7518024Z tests/unit/utils/test_keycloak_admin_orgs.py::TestLinkOrganizationIdentityProvider::test_returns_true_on_201 PASSED [ 89%]
2026-02-23T18:13:42.7544791Z tests/unit/utils/test_keycloak_admin_orgs.py::TestLinkOrganizationIdentityProvider::test_returns_true_on_conflict PASSED [ 89%]
2026-02-23T18:13:42.7559004Z tests/unit/utils/test_keycloak_admin_orgs.py::TestLinkOrganizationIdentityProvider::test_returns_false_on_not_found PASSED [ 90%]
2026-02-23T18:13:42.7574273Z tests/unit/utils/test_keycloak_admin_orgs.py::TestLinkOrganizationIdentityProvider::test_returns_false_on_failure PASSED [ 90%]
2026-02-23T18:13:42.7588376Z tests/unit/utils/test_keycloak_admin_orgs.py::TestUnlinkOrganizationIdentityProvider::test_returns_true_on_success PASSED [ 90%]
2026-02-23T18:13:42.7611109Z tests/unit/utils/test_keycloak_admin_orgs.py::TestUnlinkOrganizationIdentityProvider::test_returns_true_on_not_found PASSED [ 90%]
2026-02-23T18:13:42.7626080Z tests/unit/utils/test_keycloak_admin_orgs.py::TestUnlinkOrganizationIdentityProvider::test_returns_false_on_failure PASSED [ 90%]
2026-02-23T18:13:42.7650989Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetRealmRoles::test_returns_list_of_roles PASSED [ 90%]
2026-02-23T18:13:42.7665490Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetRealmRoles::test_returns_empty_list_on_error PASSED [ 90%]
2026-02-23T18:13:42.7679358Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetRealmRoles::test_returns_empty_list_on_exception PASSED [ 90%]
2026-02-23T18:13:42.7703327Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetRealmRoleByName::test_returns_role_when_found PASSED [ 90%]
2026-02-23T18:13:42.7717047Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetRealmRoleByName::test_returns_none_when_not_found PASSED [ 90%]
2026-02-23T18:13:42.7737421Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetRealmRoleByName::test_returns_none_on_other_error PASSED [ 90%]
2026-02-23T18:13:42.7751326Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetRealmRoleByName::test_returns_none_on_exception PASSED [ 90%]
2026-02-23T18:13:42.7782514Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateRealmRole::test_creates_role_successfully PASSED [ 90%]
2026-02-23T18:13:42.7796677Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateRealmRole::test_creates_role_from_dict PASSED [ 90%]
2026-02-23T18:13:42.7810477Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateRealmRole::test_returns_true_on_conflict PASSED [ 90%]
2026-02-23T18:13:42.7824835Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateRealmRole::test_returns_false_on_error PASSED [ 91%]
2026-02-23T18:13:42.7839033Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateRealmRole::test_returns_false_on_exception PASSED [ 91%]
2026-02-23T18:13:42.7863795Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateRealmRole::test_updates_role_successfully PASSED [ 91%]
2026-02-23T18:13:42.7877758Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateRealmRole::test_updates_role_with_200_response PASSED [ 91%]
2026-02-23T18:13:42.7890993Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateRealmRole::test_updates_role_from_dict PASSED [ 91%]
2026-02-23T18:13:42.7905337Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateRealmRole::test_returns_false_on_error PASSED [ 91%]
2026-02-23T18:13:42.7919479Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateRealmRole::test_returns_false_on_exception PASSED [ 91%]
2026-02-23T18:13:42.7944035Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteRealmRole::test_deletes_role_successfully PASSED [ 91%]
2026-02-23T18:13:42.7957821Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteRealmRole::test_returns_true_when_not_found PASSED [ 91%]
2026-02-23T18:13:42.7972033Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteRealmRole::test_returns_false_on_error PASSED [ 91%]
2026-02-23T18:13:42.7986310Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteRealmRole::test_returns_false_on_exception PASSED [ 91%]
2026-02-23T18:13:42.8000142Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_get_composites_returns_roles PASSED [ 91%]
2026-02-23T18:13:42.8014392Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_get_composites_returns_empty_on_error PASSED [ 91%]
2026-02-23T18:13:42.8027399Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_get_composites_returns_empty_on_exception PASSED [ 91%]
2026-02-23T18:13:42.8040583Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_add_composites_successfully PASSED [ 92%]
2026-02-23T18:13:42.8054742Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_add_composites_returns_false_on_error PASSED [ 92%]
2026-02-23T18:13:42.8068549Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_add_composites_returns_false_on_exception PASSED [ 92%]
2026-02-23T18:13:42.8081595Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_remove_composites_successfully PASSED [ 92%]
2026-02-23T18:13:42.8095583Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_remove_composites_returns_false_on_error PASSED [ 92%]
2026-02-23T18:13:42.8109095Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleComposites::test_remove_composites_returns_false_on_exception PASSED [ 92%]
2026-02-23T18:13:42.8134389Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroups::test_returns_list_of_groups PASSED [ 92%]
2026-02-23T18:13:42.8148001Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroups::test_returns_empty_list_on_error PASSED [ 92%]
2026-02-23T18:13:42.8161460Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroups::test_returns_empty_list_on_exception PASSED [ 92%]
2026-02-23T18:13:42.8184533Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupById::test_returns_group_when_found PASSED [ 92%]
2026-02-23T18:13:42.8197598Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupById::test_returns_none_when_not_found PASSED [ 92%]
2026-02-23T18:13:42.8211228Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupById::test_returns_none_on_other_error PASSED [ 92%]
2026-02-23T18:13:42.8224926Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupById::test_returns_none_on_exception PASSED [ 92%]
2026-02-23T18:13:42.8248104Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupByPath::test_returns_group_when_found PASSED [ 92%]
2026-02-23T18:13:42.8261286Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupByPath::test_returns_none_when_not_found PASSED [ 92%]
2026-02-23T18:13:42.8275274Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupByPath::test_returns_none_on_exception PASSED [ 93%]
2026-02-23T18:13:42.8312121Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateGroup::test_creates_group_successfully PASSED [ 93%]
2026-02-23T18:13:42.8325353Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateGroup::test_creates_group_from_dict PASSED [ 93%]
2026-02-23T18:13:42.8339928Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateGroup::test_returns_existing_id_on_conflict PASSED [ 93%]
2026-02-23T18:13:42.8353770Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateGroup::test_returns_none_on_error PASSED [ 93%]
2026-02-23T18:13:42.8367223Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateGroup::test_returns_none_on_exception PASSED [ 93%]
2026-02-23T18:13:42.8400998Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateSubgroup::test_creates_subgroup_successfully PASSED [ 93%]
2026-02-23T18:13:42.8414405Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateSubgroup::test_creates_subgroup_from_dict PASSED [ 93%]
2026-02-23T18:13:42.8428354Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateSubgroup::test_returns_none_on_error PASSED [ 93%]
2026-02-23T18:13:42.8442163Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateSubgroup::test_returns_none_on_exception PASSED [ 93%]
2026-02-23T18:13:42.8467630Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateGroup::test_updates_group_successfully PASSED [ 93%]
2026-02-23T18:13:42.8480997Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateGroup::test_updates_group_from_dict PASSED [ 93%]
2026-02-23T18:13:42.8495201Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateGroup::test_returns_false_on_error PASSED [ 93%]
2026-02-23T18:13:42.8508841Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateGroup::test_returns_false_on_exception PASSED [ 93%]
2026-02-23T18:13:42.8533245Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteGroup::test_deletes_group_successfully PASSED [ 94%]
2026-02-23T18:13:42.8546610Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteGroup::test_returns_true_when_not_found PASSED [ 94%]
2026-02-23T18:13:42.8560234Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteGroup::test_returns_false_on_error PASSED [ 94%]
2026-02-23T18:13:42.8574012Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteGroup::test_returns_false_on_exception PASSED [ 94%]
2026-02-23T18:13:42.8598824Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_get_group_realm_role_mappings PASSED [ 94%]
2026-02-23T18:13:42.8612670Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_get_group_realm_role_mappings_returns_empty_on_error PASSED [ 94%]
2026-02-23T18:13:42.8626819Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_get_group_realm_role_mappings_returns_empty_on_exception PASSED [ 94%]
2026-02-23T18:13:42.8654903Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_assign_realm_roles_to_group PASSED [ 94%]
2026-02-23T18:13:42.8669406Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_assign_realm_roles_to_group_returns_false_on_error PASSED [ 94%]
2026-02-23T18:13:42.8683846Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_assign_realm_roles_to_group_returns_false_on_exception PASSED [ 94%]
2026-02-23T18:13:42.8712304Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_remove_realm_roles_from_group PASSED [ 94%]
2026-02-23T18:13:42.8727058Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_remove_realm_roles_from_group_returns_false_on_error PASSED [ 94%]
2026-02-23T18:13:42.8741849Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRoleMappings::test_remove_realm_roles_from_group_returns_false_on_exception PASSED [ 94%]
2026-02-23T18:13:42.8766673Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_get_default_groups PASSED [ 94%]
2026-02-23T18:13:42.8780866Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_get_default_groups_returns_empty_on_error PASSED [ 94%]
2026-02-23T18:13:42.8795495Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_get_default_groups_returns_empty_on_exception PASSED [ 95%]
2026-02-23T18:13:42.8819184Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_add_default_group PASSED [ 95%]
2026-02-23T18:13:42.8833641Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_add_default_group_returns_false_on_error PASSED [ 95%]
2026-02-23T18:13:42.8848043Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_add_default_group_returns_false_on_exception PASSED [ 95%]
2026-02-23T18:13:42.8873204Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_remove_default_group PASSED [ 95%]
2026-02-23T18:13:42.8887423Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_remove_default_group_returns_true_when_not_found PASSED [ 95%]
2026-02-23T18:13:42.8903501Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_remove_default_group_returns_false_on_error PASSED [ 95%]
2026-02-23T18:13:42.8917655Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDefaultGroups::test_remove_default_group_returns_false_on_exception PASSED [ 95%]
2026-02-23T18:13:42.8943649Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupClientRoleMappings::test_get_group_client_role_mappings PASSED [ 95%]
2026-02-23T18:13:42.8959059Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupClientRoleMappings::test_get_group_client_role_mappings_returns_empty_on_error PASSED [ 95%]
2026-02-23T18:13:42.8973622Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupClientRoleMappings::test_get_group_client_role_mappings_returns_empty_on_exception PASSED [ 95%]
2026-02-23T18:13:42.9002503Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupClientRoleMappings::test_assign_client_roles_to_group PASSED [ 95%]
2026-02-23T18:13:42.9016622Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupClientRoleMappings::test_assign_client_roles_to_group_from_dict PASSED [ 95%]
2026-02-23T18:13:42.9031137Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupClientRoleMappings::test_assign_client_roles_to_group_returns_false_on_error PASSED [ 95%]
2026-02-23T18:13:42.9045310Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupClientRoleMappings::test_assign_client_roles_to_group_returns_false_on_exception PASSED [ 96%]
2026-02-23T18:13:42.9058479Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleCompositesWithDict::test_add_composites_with_dict_input PASSED [ 96%]
2026-02-23T18:13:42.9071897Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRealmRoleCompositesWithDict::test_remove_composites_with_dict_input PASSED [ 96%]
2026-02-23T18:13:42.9085519Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestAssignRealmRolesToGroupWithDict::test_assign_realm_roles_from_dict PASSED [ 96%]
2026-02-23T18:13:42.9098978Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestRemoveRealmRolesFromGroupWithDict::test_remove_realm_roles_from_dict PASSED [ 96%]
2026-02-23T18:13:42.9112899Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupByPathErrorPaths::test_returns_none_on_server_error PASSED [ 96%]
2026-02-23T18:13:42.9126574Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGetGroupByPathErrorPaths::test_returns_none_on_forbidden PASSED [ 96%]
2026-02-23T18:13:42.9140048Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateSubgroupConflict::test_returns_none_on_conflict PASSED [ 96%]
2026-02-23T18:13:42.9154032Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestCreateSubgroupConflict::test_returns_none_on_server_error PASSED [ 96%]
2026-02-23T18:13:42.9168120Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestUpdateGroupErrorPaths::test_returns_false_on_server_error PASSED [ 96%]
2026-02-23T18:13:42.9181447Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestDeleteGroupErrorPaths::test_returns_false_on_server_error PASSED [ 96%]
2026-02-23T18:13:42.9196156Z tests/unit/utils/test_keycloak_admin_roles_groups.py::TestGroupRealmRoleMappingsErrorPaths::test_remove_realm_roles_returns_false_on_server_error PASSED [ 96%]
2026-02-23T18:13:42.9313251Z tests/unit/utils/test_keycloak_admin_version_cache.py::TestKeycloakAdminVersionCache::test_detect_version_cache_miss PASSED [ 96%]
2026-02-23T18:13:42.9328820Z tests/unit/utils/test_keycloak_admin_version_cache.py::TestKeycloakAdminVersionCache::test_detect_version_cache_hit PASSED [ 96%]
2026-02-23T18:13:42.9349031Z tests/unit/utils/test_keycloak_admin_version_cache.py::TestKeycloakAdminVersionCache::test_detect_version_cache_expired PASSED [ 96%]
2026-02-23T18:13:42.9378658Z tests/unit/utils/test_keycloak_admin_version_cache.py::TestKeycloakAdminVersionCache::test_detect_version_invalid_cache_entry PASSED [ 97%]
2026-02-23T18:13:43.0403800Z tests/unit/utils/test_keycloak_admin_version_cache.py::TestKeycloakAdminVersionCache::test_detect_version_coalescing PASSED [ 97%]
2026-02-23T18:13:43.0431089Z tests/unit/utils/test_keycloak_admin_version_cache.py::TestKeycloakAdminVersionCache::test_detect_version_unsupported_wont_poison_cache PASSED [ 97%]
2026-02-23T18:13:43.0440215Z tests/unit/utils/test_ownership.py::TestGetOperatorInstanceId::test_get_instance_id_from_settings PASSED [ 97%]
2026-02-23T18:13:43.0449185Z tests/unit/utils/test_ownership.py::TestGetOperatorInstanceId::test_get_instance_id_cached PASSED [ 97%]
2026-02-23T18:13:43.0459209Z tests/unit/utils/test_ownership.py::TestGetOperatorInstanceId::test_get_instance_id_not_configured_raises_error PASSED [ 97%]
2026-02-23T18:13:43.0468280Z tests/unit/utils/test_ownership.py::TestCreateOwnershipAttributes::test_create_attributes_basic PASSED [ 97%]
2026-02-23T18:13:43.0477181Z tests/unit/utils/test_ownership.py::TestCreateOwnershipAttributes::test_create_attributes_timestamp_format PASSED [ 97%]
2026-02-23T18:13:43.0486204Z tests/unit/utils/test_ownership.py::TestCreateOwnershipAttributes::test_create_attributes_different_cr_info PASSED [ 97%]
2026-02-23T18:13:43.0494743Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_owned_by_this_operator PASSED [ 97%]
2026-02-23T18:13:43.0503392Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_owned_by_different_operator PASSED [ 97%]
2026-02-23T18:13:43.0510476Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_not_managed_by_operator PASSED [ 97%]
2026-02-23T18:13:43.0517845Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_attributes_none PASSED [ 97%]
2026-02-23T18:13:43.0525026Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_attributes_empty PASSED [ 97%]
2026-02-23T18:13:43.0532350Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_managed_by_operator_missing_instance_id PASSED [ 98%]
2026-02-23T18:13:43.0539732Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_custom_operator_instance_id PASSED [ 98%]
2026-02-23T18:13:43.0548680Z tests/unit/utils/test_ownership.py::TestIsOwnedByThisOperator::test_attributes_with_list_values PASSED [ 98%]
2026-02-23T18:13:43.0555952Z tests/unit/utils/test_ownership.py::TestIsManagedByOperator::test_managed_by_operator PASSED [ 98%]
2026-02-23T18:13:43.0562796Z tests/unit/utils/test_ownership.py::TestIsManagedByOperator::test_not_managed_by_operator PASSED [ 98%]
2026-02-23T18:13:43.0570082Z tests/unit/utils/test_ownership.py::TestIsManagedByOperator::test_managed_by_operator_none_attributes PASSED [ 98%]
2026-02-23T18:13:43.0577041Z tests/unit/utils/test_ownership.py::TestIsManagedByOperator::test_managed_by_operator_empty_attributes PASSED [ 98%]
2026-02-23T18:13:43.0584202Z tests/unit/utils/test_ownership.py::TestIsManagedByOperator::test_managed_by_operator_list_value PASSED [ 98%]
2026-02-23T18:13:43.0590892Z tests/unit/utils/test_ownership.py::TestGetCrReference::test_get_cr_reference_valid PASSED [ 98%]
2026-02-23T18:13:43.0597904Z tests/unit/utils/test_ownership.py::TestGetCrReference::test_get_cr_reference_missing_namespace PASSED [ 98%]
2026-02-23T18:13:43.0604875Z tests/unit/utils/test_ownership.py::TestGetCrReference::test_get_cr_reference_missing_name PASSED [ 98%]
2026-02-23T18:13:43.0611533Z tests/unit/utils/test_ownership.py::TestGetCrReference::test_get_cr_reference_none_attributes PASSED [ 98%]
2026-02-23T18:13:43.0618640Z tests/unit/utils/test_ownership.py::TestGetCrReference::test_get_cr_reference_empty_attributes PASSED [ 98%]
2026-02-23T18:13:43.0625720Z tests/unit/utils/test_ownership.py::TestGetCrReference::test_get_cr_reference_list_values PASSED [ 98%]
2026-02-23T18:13:43.0632674Z tests/unit/utils/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_hours PASSED [ 98%]
2026-02-23T18:13:43.0639738Z tests/unit/utils/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_missing_timestamp PASSED [ 99%]
2026-02-23T18:13:43.0646642Z tests/unit/utils/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_invalid_timestamp PASSED [ 99%]
2026-02-23T18:13:43.0653520Z tests/unit/utils/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_none_attributes PASSED [ 99%]
2026-02-23T18:13:43.0660318Z tests/unit/utils/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_just_created PASSED [ 99%]
2026-02-23T18:13:43.0667458Z tests/unit/utils/test_ownership.py::TestGetResourceAgeHours::test_get_resource_age_old_resource PASSED [ 99%]
2026-02-23T18:13:43.0674306Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_owned_by_matching_cr PASSED [ 99%]
2026-02-23T18:13:43.0681198Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_by_different_namespace PASSED [ 99%]
2026-02-23T18:13:43.0688175Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_by_different_name PASSED [ 99%]
2026-02-23T18:13:43.0695228Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_by_both_different PASSED [ 99%]
2026-02-23T18:13:43.0702181Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_when_attributes_none PASSED [ 99%]
2026-02-23T18:13:43.0708941Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_when_attributes_empty PASSED [ 99%]
2026-02-23T18:13:43.0715919Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_when_missing_namespace PASSED [ 99%]
2026-02-23T18:13:43.0722541Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_when_missing_name PASSED [ 99%]
2026-02-23T18:13:43.0729278Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_owned_with_list_values PASSED [ 99%]
2026-02-23T18:13:46.5739051Z tests/unit/utils/test_ownership.py::TestIsOwnedByCr::test_not_owned_with_list_values_mismatch PASSED [100%]
2026-02-23T18:13:46.5740130Z
2026-02-23T18:13:46.5740437Z =================================== FAILURES ===================================
2026-02-23T18:13:46.5741388Z _____________ test_do_update_passes_metadata_without_regeneration ______________
2026-02-23T18:13:46.5743052Z tests/unit/test_client_reconciler_metadata.py:132: in test_do_update_passes_metadata_without_regeneration
2026-02-23T18:13:46.5744053Z     mock_create_secret.assert_called_once()
2026-02-23T18:13:46.5745016Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/unittest/mock.py:964: in assert_called_once
2026-02-23T18:13:46.5745910Z     raise AssertionError(msg)
2026-02-23T18:13:46.5746605Z E   AssertionError: Expected 'create_client_secret' to have been called once. Called 0 times.
2026-02-23T18:13:46.5747524Z ________________ test_do_update_passes_metadata_on_regeneration ________________
2026-02-23T18:13:46.5748487Z tests/unit/test_client_reconciler_metadata.py:196: in test_do_update_passes_metadata_on_regeneration
2026-02-23T18:13:46.5749295Z     mock_create_secret.assert_called_once()
2026-02-23T18:13:46.5750469Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/unittest/mock.py:964: in assert_called_once
2026-02-23T18:13:46.5751173Z     raise AssertionError(msg)
2026-02-23T18:13:46.5751559Z E   AssertionError: Expected 'create_client_secret' to have been called once. Called 0 times.
2026-02-23T18:13:46.5752301Z ________________________ test_admin_realm_role_blocked _________________________
2026-02-23T18:13:46.5752784Z tests/unit/test_client_reconciler_security.py:41: in test_admin_realm_role_blocked
2026-02-23T18:13:46.5753220Z     await reconciler.manage_service_account_roles(
2026-02-23T18:13:46.5753665Z src/keycloak_operator/services/client_reconciler.py:885: in manage_service_account_roles
2026-02-23T18:13:46.5754206Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5754662Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5755092Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5755661Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5756444Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5757027Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5758032Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5758608Z     return self.api_client.call_api(
2026-02-23T18:13:46.5758991Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5759416Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5759829Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5760232Z     response_data = self.request(
2026-02-23T18:13:46.5760601Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5761188Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5761525Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5762080Z     return self.request("GET", url,
2026-02-23T18:13:46.5762429Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5762818Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5763192Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5763567Z     return self.request_encode_url(
2026-02-23T18:13:46.5763951Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5764386Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5764655Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5765007Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5765409Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5765714Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5766077Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5766447Z     response = self._make_request(
2026-02-23T18:13:46.5766819Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5767189Z     conn.request(
2026-02-23T18:13:46.5767477Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5767831Z     self.endheaders()
2026-02-23T18:13:46.5768258Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5768797Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5769449Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5769909Z     self.send(msg)
2026-02-23T18:13:46.5770276Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5770700Z     self.connect()
2026-02-23T18:13:46.5770987Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5771337Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5771557Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5772136Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5772512Z     sock = connection.create_connection(
2026-02-23T18:13:46.5772914Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5773343Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5773603Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5773928Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5774273Z     raise SocketBlockedError()
2026-02-23T18:13:46.5774616Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5775060Z _____________________ test_realm_admin_client_role_blocked _____________________
2026-02-23T18:13:46.5775558Z tests/unit/test_client_reconciler_security.py:58: in test_realm_admin_client_role_blocked
2026-02-23T18:13:46.5776002Z     await reconciler.manage_service_account_roles(
2026-02-23T18:13:46.5776441Z src/keycloak_operator/services/client_reconciler.py:885: in manage_service_account_roles
2026-02-23T18:13:46.5776944Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5777383Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5777793Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5778357Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5779130Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5779840Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5780461Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5781024Z     return self.api_client.call_api(
2026-02-23T18:13:46.5781401Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5782031Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5782445Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5782846Z     response_data = self.request(
2026-02-23T18:13:46.5783207Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5783596Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5783945Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5784294Z     return self.request("GET", url,
2026-02-23T18:13:46.5784631Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5785011Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5785382Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5785750Z     return self.request_encode_url(
2026-02-23T18:13:46.5786134Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5786559Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5786826Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5787171Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5787760Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5788122Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5788530Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5788909Z     response = self._make_request(
2026-02-23T18:13:46.5789281Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5789662Z     conn.request(
2026-02-23T18:13:46.5789947Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5790292Z     self.endheaders()
2026-02-23T18:13:46.5790709Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5791245Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5791998Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5792467Z     self.send(msg)
2026-02-23T18:13:46.5792831Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5793261Z     self.connect()
2026-02-23T18:13:46.5793543Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5793896Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5794115Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5794437Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5794807Z     sock = connection.create_connection(
2026-02-23T18:13:46.5795195Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5795621Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5795880Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5796199Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5796533Z     raise SocketBlockedError()
2026-02-23T18:13:46.5796864Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5797439Z ____________________ test_impersonation_blocked_by_default _____________________
2026-02-23T18:13:46.5797950Z tests/unit/test_client_reconciler_security.py:115: in test_impersonation_blocked_by_default
2026-02-23T18:13:46.5798412Z     await reconciler.manage_service_account_roles(
2026-02-23T18:13:46.5798850Z src/keycloak_operator/services/client_reconciler.py:885: in manage_service_account_roles
2026-02-23T18:13:46.5799353Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5799798Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5800215Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5800771Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5801547Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5802370Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5802996Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5803559Z     return self.api_client.call_api(
2026-02-23T18:13:46.5803937Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5804388Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5804798Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5805196Z     response_data = self.request(
2026-02-23T18:13:46.5805559Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5805941Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5806400Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5806767Z     return self.request("GET", url,
2026-02-23T18:13:46.5807109Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5807485Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5807855Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5808222Z     return self.request_encode_url(
2026-02-23T18:13:46.5808609Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5809039Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5809303Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5809652Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5810054Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5810359Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5810719Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5811091Z     response = self._make_request(
2026-02-23T18:13:46.5811455Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5812038Z     conn.request(
2026-02-23T18:13:46.5812317Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5812659Z     self.endheaders()
2026-02-23T18:13:46.5813069Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5813601Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5814129Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5814573Z     self.send(msg)
2026-02-23T18:13:46.5814941Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5815361Z     self.connect()
2026-02-23T18:13:46.5815773Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5816117Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5816333Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5816652Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5817019Z     sock = connection.create_connection(
2026-02-23T18:13:46.5817407Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5817827Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5818084Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5818405Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5818743Z     raise SocketBlockedError()
2026-02-23T18:13:46.5819070Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5819505Z __________________________ test_script_mapper_blocked __________________________
2026-02-23T18:13:46.5820008Z tests/unit/test_client_reconciler_security.py:173: in test_script_mapper_blocked
2026-02-23T18:13:46.5820418Z     await reconciler.configure_protocol_mappers(
2026-02-23T18:13:46.5820835Z src/keycloak_operator/services/client_reconciler.py:761: in configure_protocol_mappers
2026-02-23T18:13:46.5821328Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5821970Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5822398Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5822956Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5823733Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5824438Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5825068Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5825630Z     return self.api_client.call_api(
2026-02-23T18:13:46.5826008Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5826419Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5826828Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5827225Z     response_data = self.request(
2026-02-23T18:13:46.5827588Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5827967Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5828306Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5828661Z     return self.request("GET", url,
2026-02-23T18:13:46.5829009Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5829397Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5829766Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5830143Z     return self.request_encode_url(
2026-02-23T18:13:46.5830537Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5830972Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5831243Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5831597Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5832104Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5832422Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5832797Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5833170Z     response = self._make_request(
2026-02-23T18:13:46.5833672Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5834066Z     conn.request(
2026-02-23T18:13:46.5834351Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5834692Z     self.endheaders()
2026-02-23T18:13:46.5835103Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5835644Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5836179Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5856785Z     self.send(msg)
2026-02-23T18:13:46.5857425Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5857897Z     self.connect()
2026-02-23T18:13:46.5858238Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5858633Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5858873Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5859212Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5859589Z     sock = connection.create_connection(
2026-02-23T18:13:46.5860001Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5860437Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5860702Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5861047Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5861404Z     raise SocketBlockedError()
2026-02-23T18:13:46.5861960Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5862423Z _______________________ test_saml_script_mapper_blocked ________________________
2026-02-23T18:13:46.5863081Z tests/unit/test_client_reconciler_security.py:200: in test_saml_script_mapper_blocked
2026-02-23T18:13:46.5863531Z     await reconciler.configure_protocol_mappers(
2026-02-23T18:13:46.5863958Z src/keycloak_operator/services/client_reconciler.py:761: in configure_protocol_mappers
2026-02-23T18:13:46.5864461Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5864908Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5865328Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5865897Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5866684Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5867271Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5867903Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5868469Z     return self.api_client.call_api(
2026-02-23T18:13:46.5868858Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5869280Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5869691Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5870097Z     response_data = self.request(
2026-02-23T18:13:46.5870459Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5870846Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5871185Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5871540Z     return self.request("GET", url,
2026-02-23T18:13:46.5872007Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5872397Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5872919Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5873292Z     return self.request_encode_url(
2026-02-23T18:13:46.5873679Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5874115Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5874389Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5874759Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5875180Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5875479Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5875846Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5876239Z     response = self._make_request(
2026-02-23T18:13:46.5876615Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5876996Z     conn.request(
2026-02-23T18:13:46.5877284Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5877630Z     self.endheaders()
2026-02-23T18:13:46.5878052Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5878594Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5879120Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5879575Z     self.send(msg)
2026-02-23T18:13:46.5879942Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5880366Z     self.connect()
2026-02-23T18:13:46.5880647Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5881125Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5881363Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5881796Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5882173Z     sock = connection.create_connection(
2026-02-23T18:13:46.5882560Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5882986Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5883247Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5883570Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5883914Z     raise SocketBlockedError()
2026-02-23T18:13:46.5884249Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5884702Z _________________ test_case_insensitive_script_mapper_blocked __________________
2026-02-23T18:13:46.5885241Z tests/unit/test_client_reconciler_security.py:227: in test_case_insensitive_script_mapper_blocked
2026-02-23T18:13:46.5885721Z     await reconciler.configure_protocol_mappers(
2026-02-23T18:13:46.5886154Z src/keycloak_operator/services/client_reconciler.py:761: in configure_protocol_mappers
2026-02-23T18:13:46.5886660Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5887111Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5887536Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5888098Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5888877Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5889459Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5890087Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5890653Z     return self.api_client.call_api(
2026-02-23T18:13:46.5891155Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5891579Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5892220Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5892630Z     response_data = self.request(
2026-02-23T18:13:46.5892998Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5893384Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5893723Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5894082Z     return self.request("GET", url,
2026-02-23T18:13:46.5894438Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5894821Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5895197Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5895572Z     return self.request_encode_url(
2026-02-23T18:13:46.5895966Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5896403Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5896666Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5897017Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5897430Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5897734Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5898091Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5898462Z     response = self._make_request(
2026-02-23T18:13:46.5898832Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5899335Z     conn.request(
2026-02-23T18:13:46.5899631Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5899984Z     self.endheaders()
2026-02-23T18:13:46.5900405Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5900944Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5901478Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5902150Z     self.send(msg)
2026-02-23T18:13:46.5902521Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5902948Z     self.connect()
2026-02-23T18:13:46.5903241Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5903590Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5903813Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5904150Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5904527Z     sock = connection.create_connection(
2026-02-23T18:13:46.5904914Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5905340Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5905600Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5905923Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5906264Z     raise SocketBlockedError()
2026-02-23T18:13:46.5906596Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5907037Z _______________________ test_combined_role_restrictions ________________________
2026-02-23T18:13:46.5907523Z tests/unit/test_client_reconciler_security.py:248: in test_combined_role_restrictions
2026-02-23T18:13:46.5907956Z     await reconciler.manage_service_account_roles(
2026-02-23T18:13:46.5908392Z src/keycloak_operator/services/client_reconciler.py:885: in manage_service_account_roles
2026-02-23T18:13:46.5908902Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5909482Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5909904Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5910464Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5911232Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5911924Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5912550Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5913125Z     return self.api_client.call_api(
2026-02-23T18:13:46.5913508Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5913926Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5914336Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5914741Z     response_data = self.request(
2026-02-23T18:13:46.5915105Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5915490Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5915829Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5916184Z     return self.request("GET", url,
2026-02-23T18:13:46.5916530Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5916915Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5917414Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5917798Z     return self.request_encode_url(
2026-02-23T18:13:46.5918193Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5918633Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5918899Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5919246Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5919652Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5919981Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5920334Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5920689Z     response = self._make_request(
2026-02-23T18:13:46.5921044Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5921409Z     conn.request(
2026-02-23T18:13:46.5921780Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5922122Z     self.endheaders()
2026-02-23T18:13:46.5922525Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5923062Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5923591Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5924045Z     self.send(msg)
2026-02-23T18:13:46.5924405Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5924827Z     self.connect()
2026-02-23T18:13:46.5925111Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5925462Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5925680Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5925995Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5926369Z     sock = connection.create_connection(
2026-02-23T18:13:46.5926763Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5927310Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5927566Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5927884Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5928225Z     raise SocketBlockedError()
2026-02-23T18:13:46.5928555Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5928996Z ___________________ test_other_high_privilege_roles_blocked ____________________
2026-02-23T18:13:46.5929518Z tests/unit/test_client_reconciler_security.py:265: in test_other_high_privilege_roles_blocked
2026-02-23T18:13:46.5929978Z     await reconciler.manage_service_account_roles(
2026-02-23T18:13:46.5930408Z src/keycloak_operator/services/client_reconciler.py:885: in manage_service_account_roles
2026-02-23T18:13:46.5930917Z     self._get_realm_info(spec.realm_ref.name, spec.realm_ref.namespace)
2026-02-23T18:13:46.5931356Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5931990Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5932578Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5933352Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5933942Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5934556Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5935120Z     return self.api_client.call_api(
2026-02-23T18:13:46.5935631Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5936062Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5936482Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5936881Z     response_data = self.request(
2026-02-23T18:13:46.5937245Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5937634Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5937974Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5938347Z     return self.request("GET", url,
2026-02-23T18:13:46.5938702Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5939093Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5939466Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5939830Z     return self.request_encode_url(
2026-02-23T18:13:46.5940225Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5940667Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5940939Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5941288Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5941919Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5942232Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5942597Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5942966Z     response = self._make_request(
2026-02-23T18:13:46.5943325Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5943702Z     conn.request(
2026-02-23T18:13:46.5943986Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5944337Z     self.endheaders()
2026-02-23T18:13:46.5944759Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5945418Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5945949Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5946404Z     self.send(msg)
2026-02-23T18:13:46.5946771Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5947188Z     self.connect()
2026-02-23T18:13:46.5947475Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5947829Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5948051Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5948365Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5948733Z     sock = connection.create_connection(
2026-02-23T18:13:46.5949136Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5949561Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5949831Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5950147Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5950488Z     raise SocketBlockedError()
2026-02-23T18:13:46.5950824Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5951273Z __________________ test_fix_secret_regeneration_and_owner_ref __________________
2026-02-23T18:13:46.5951895Z tests/unit/test_client_secret_management.py:57: in test_fix_secret_regeneration_and_owner_ref
2026-02-23T18:13:46.5952324Z     await reconciler.do_update(
2026-02-23T18:13:46.5952651Z src/keycloak_operator/services/client_reconciler.py:1358: in do_update
2026-02-23T18:13:46.5953111Z     return await self.do_reconcile(new_spec, name, namespace, status, **kwargs)
2026-02-23T18:13:46.5953616Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5953999Z src/keycloak_operator/services/client_reconciler.py:203: in do_reconcile
2026-02-23T18:13:46.5954445Z     realm_resource.get("spec", {}).get("operatorRef", {}).get("namespace")
2026-02-23T18:13:46.5954796Z     ^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5955055Z E   AttributeError: 'str' object has no attribute 'get'
2026-02-23T18:13:46.5955471Z ___________ TestClientSecretRotation.test_parse_duration_zero_value ____________
2026-02-23T18:13:46.5955973Z tests/unit/test_client_secret_rotation.py:53: in test_parse_duration_zero_value
2026-02-23T18:13:46.5956462Z     with pytest.raises(ValidationError, match="must be a positive integer"):
2026-02-23T18:13:46.5956857Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5957330Z E   Failed: DID NOT RAISE <class 'keycloak_operator.errors.operator_errors.ValidationError'>
2026-02-23T18:13:46.5957908Z _________ TestClientSecretRotation.test_parse_duration_negative_value __________
2026-02-23T18:13:46.5958438Z tests/unit/test_client_secret_rotation.py:60: in test_parse_duration_negative_value
2026-02-23T18:13:46.5958951Z     with pytest.raises(ValidationError, match="must be a positive integer"):
2026-02-23T18:13:46.5959343Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5959793Z E   Failed: DID NOT RAISE <class 'keycloak_operator.errors.operator_errors.ValidationError'>
2026-02-23T18:13:46.5960360Z _ TestClientSecretRotation.test_should_rotate_secret_with_time_window_not_reached _
2026-02-23T18:13:46.5960966Z tests/unit/test_client_secret_rotation.py:100: in test_should_rotate_secret_with_time_window_not_reached
2026-02-23T18:13:46.5961489Z     assert not reconciler._should_rotate_secret(spec, secret)
2026-02-23T18:13:46.5961914Z E   AssertionError: assert not True
2026-02-23T18:13:46.5962448Z E    +  where True = _should_rotate_secret(<MagicMock spec='KeycloakClientSpec' id='140013355250560'>, <MagicMock id='140013355249888'>)
2026-02-23T18:13:46.5963389Z E    +    where _should_rotate_secret = <keycloak_operator.services.client_reconciler.KeycloakClientReconciler object at 0x7f5766df2820>._should_rotate_secret
2026-02-23T18:13:46.5964274Z ________________ test_client_reconciler_ignores_wrong_namespace ________________
2026-02-23T18:13:46.5964744Z src/keycloak_operator/services/client_reconciler.py:188: in do_reconcile
2026-02-23T18:13:46.5965164Z     self._get_realm_info(realm_ref.name, realm_ref.namespace)
2026-02-23T18:13:46.5965576Z src/keycloak_operator/services/client_reconciler.py:93: in _get_realm_info
2026-02-23T18:13:46.5965996Z     realm_resource = custom_api.get_namespaced_custom_object(
2026-02-23T18:13:46.5966565Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1632: in get_namespaced_custom_object
2026-02-23T18:13:46.5967347Z     return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501
2026-02-23T18:13:46.5967935Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5968562Z .venv/lib/python3.14/site-packages/kubernetes/client/api/custom_objects_api.py:1739: in get_namespaced_custom_object_with_http_info
2026-02-23T18:13:46.5969129Z     return self.api_client.call_api(
2026-02-23T18:13:46.5969747Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:348: in call_api
2026-02-23T18:13:46.5970180Z     return self.__call_api(resource_path, method,
2026-02-23T18:13:46.5971229Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:180: in __call_api
2026-02-23T18:13:46.5972015Z     response_data = self.request(
2026-02-23T18:13:46.5972561Z .venv/lib/python3.14/site-packages/kubernetes/client/api_client.py:373: in request
2026-02-23T18:13:46.5973570Z     return self.rest_client.GET(url,
2026-02-23T18:13:46.5974079Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:244: in GET
2026-02-23T18:13:46.5974822Z     return self.request("GET", url,
2026-02-23T18:13:46.5975741Z .venv/lib/python3.14/site-packages/kubernetes/client/rest.py:217: in request
2026-02-23T18:13:46.5976297Z     r = self.pool_manager.request(method, url,
2026-02-23T18:13:46.5976845Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:135: in request
2026-02-23T18:13:46.5977409Z     return self.request_encode_url(
2026-02-23T18:13:46.5978411Z .venv/lib/python3.14/site-packages/urllib3/_request_methods.py:182: in request_encode_url
2026-02-23T18:13:46.5978919Z     return self.urlopen(method, url, **extra_kw)
2026-02-23T18:13:46.5979192Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5979544Z .venv/lib/python3.14/site-packages/urllib3/poolmanager.py:457: in urlopen
2026-02-23T18:13:46.5980342Z     response = conn.urlopen(method, u.request_uri, **kw)
2026-02-23T18:13:46.5981249Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5981924Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:787: in urlopen
2026-02-23T18:13:46.5982321Z     response = self._make_request(
2026-02-23T18:13:46.5983183Z .venv/lib/python3.14/site-packages/urllib3/connectionpool.py:493: in _make_request
2026-02-23T18:13:46.5984216Z     conn.request(
2026-02-23T18:13:46.5984538Z .venv/lib/python3.14/site-packages/urllib3/connection.py:500: in request
2026-02-23T18:13:46.5985094Z     self.endheaders()
2026-02-23T18:13:46.5985933Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1353: in endheaders
2026-02-23T18:13:46.5987381Z     self._send_output(message_body, encode_chunked=encode_chunked)
2026-02-23T18:13:46.5988698Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1113: in _send_output
2026-02-23T18:13:46.5989328Z     self.send(msg)
2026-02-23T18:13:46.5989696Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/http/client.py:1057: in send
2026-02-23T18:13:46.5990120Z     self.connect()
2026-02-23T18:13:46.5990414Z .venv/lib/python3.14/site-packages/urllib3/connection.py:331: in connect
2026-02-23T18:13:46.5991742Z     self.sock = self._new_conn()
2026-02-23T18:13:46.5991972Z                 ^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5992300Z .venv/lib/python3.14/site-packages/urllib3/connection.py:204: in _new_conn
2026-02-23T18:13:46.5992665Z     sock = connection.create_connection(
2026-02-23T18:13:46.5993067Z .venv/lib/python3.14/site-packages/urllib3/util/connection.py:64: in create_connection
2026-02-23T18:13:46.5993493Z     sock = socket.socket(af, socktype, proto)
2026-02-23T18:13:46.5993762Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.5994077Z .venv/lib/python3.14/site-packages/pytest_socket.py:89: in __new__
2026-02-23T18:13:46.5994417Z     raise SocketBlockedError()
2026-02-23T18:13:46.5994755Z E   pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.5995031Z
2026-02-23T18:13:46.5995221Z The above exception was the direct cause of the following exception:
2026-02-23T18:13:46.5995755Z tests/unit/test_external_keycloak.py:358: in test_client_reconciler_ignores_wrong_namespace
2026-02-23T18:13:46.5996193Z     result = await reconciler.do_reconcile(
2026-02-23T18:13:46.5996558Z src/keycloak_operator/services/client_reconciler.py:196: in do_reconcile
2026-02-23T18:13:46.5996919Z     raise TemporaryError(
2026-02-23T18:13:46.5997396Z E   keycloak_operator.errors.operator_errors.TemporaryError: Waiting for parent realm realm to determine ownership
2026-02-23T18:13:46.5997988Z E   Action required: Wait for automatic retry or check system status
2026-02-23T18:13:46.5998439Z _______________ TestClientFinalizers.test_client_cleanup_success _______________
2026-02-23T18:13:46.5998895Z tests/unit/test_finalizers.py:264: in test_client_cleanup_success
2026-02-23T18:13:46.5999292Z     mock_core_v1_api.delete_namespaced_secret.assert_called()
2026-02-23T18:13:46.5999948Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/unittest/mock.py:954: in assert_called
2026-02-23T18:13:46.6000432Z     raise AssertionError(msg)
2026-02-23T18:13:46.6000771Z E   AssertionError: Expected 'delete_namespaced_secret' to have been called.
2026-02-23T18:13:46.6001262Z ____________ TestClientFinalizers.test_client_cleanup_public_client ____________
2026-02-23T18:13:46.6001836Z tests/unit/test_finalizers.py:286: in test_client_cleanup_public_client
2026-02-23T18:13:46.6002243Z     mock_core_v1_api.delete_namespaced_secret.assert_called()
2026-02-23T18:13:46.6002766Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/unittest/mock.py:954: in assert_called
2026-02-23T18:13:46.6003238Z     raise AssertionError(msg)
2026-02-23T18:13:46.6003570Z E   AssertionError: Expected 'delete_namespaced_secret' to have been called.
2026-02-23T18:13:46.6004068Z ______ TestClientFinalizers.test_client_cleanup_removes_labeled_resources ______
2026-02-23T18:13:46.6004587Z tests/unit/test_finalizers.py:314: in test_client_cleanup_removes_labeled_resources
2026-02-23T18:13:46.6005056Z     mock_core_v1_api.delete_namespaced_config_map.assert_called()
2026-02-23T18:13:46.6005595Z ../../_temp/uv-python-dir/cpython-3.14.3-linux-x86_64-gnu/lib/python3.14/unittest/mock.py:954: in assert_called
2026-02-23T18:13:46.6006068Z     raise AssertionError(msg)
2026-02-23T18:13:46.6006402Z E   AssertionError: Expected 'delete_namespaced_config_map' to have been called.
2026-02-23T18:13:46.6006927Z _ TestClientReconcilerGenerationTracking.test_client_reconcile_sets_generation _
2026-02-23T18:13:46.6007478Z tests/unit/test_observedgeneration.py:460: in test_client_reconcile_sets_generation
2026-02-23T18:13:46.6007897Z     assert status.observedGeneration == 33
2026-02-23T18:13:46.6008156Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-23T18:13:46.6008445Z tests/unit/test_observedgeneration.py:43: in __getattr__
2026-02-23T18:13:46.6008755Z     raise AttributeError(name)
2026-02-23T18:13:46.6009000Z E   AttributeError: observedGeneration
2026-02-23T18:13:46.6009308Z =============================== warnings summary ===============================
2026-02-23T18:13:46.6009828Z tests/unit/test_database_utils.py::TestResolveTraditionalConnection::test_resolve_with_ssl_mode
2026-02-23T18:13:46.6011095Z   /home/runner/work/keycloak-operator/keycloak-operator/.venv/lib/python3.14/site-packages/pydantic/main.py:250: UserWarning: SSL mode 'disable' is not recommended for production. Consider using 'require' or higher for better security.
2026-02-23T18:13:46.6012275Z     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
2026-02-23T18:13:46.6012608Z
2026-02-23T18:13:46.6012808Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2026-02-23T18:13:46.6013243Z ================================ tests coverage ================================
2026-02-23T18:13:46.6013642Z _______________ coverage: platform linux, python 3.14.3-final-0 ________________
2026-02-23T18:13:46.6013919Z
2026-02-23T18:13:46.6014101Z Name                                                        Stmts   Miss Branch BrPart   Cover   Missing
2026-02-23T18:13:46.6014566Z --------------------------------------------------------------------------------------------------------
2026-02-23T18:13:46.6015070Z src/keycloak_operator/__init__.py                               3      0      0      0 100.00%
2026-02-23T18:13:46.6015591Z src/keycloak_operator/compatibility/__init__.py                 3      0      0      0 100.00%
2026-02-23T18:13:46.6016529Z src/keycloak_operator/compatibility/adapters.py               182     38     74     10  67.97%   72->78, 92->98, 126->140, 151->162, 155->154, 172-188, 198->203, 235->234, 238->exit, 265, 277, 289, 292, 302, 369-375, 384-388, 415-422, 432-438, 451->exit, 489
2026-02-23T18:13:46.6017513Z src/keycloak_operator/compatibility/base.py                   103     10      6      1  89.91%   124-126, 179, 190, 213-218, 237-240
2026-02-23T18:13:46.6018220Z src/keycloak_operator/constants.py                             78      0      0      0 100.00%
2026-02-23T18:13:46.6018739Z src/keycloak_operator/errors/__init__.py                        2      0      0      0 100.00%
2026-02-23T18:13:46.6019382Z src/keycloak_operator/errors/operator_errors.py                63     23     12      1  54.67%   47-50, 68, 92, 145, 158-167, 179-187, 219-224, 238-240
2026-02-23T18:13:46.6020056Z src/keycloak_operator/handlers/__init__.py                      0      0      0      0 100.00%
2026-02-23T18:13:46.6020964Z src/keycloak_operator/handlers/client.py                      405    173    128     12  56.29%   68, 73-74, 77-82, 85-92, 96-97, 122-161, 211-243, 281-303, 336-395, 448, 482-716, 784-794, 873, 989-990, 1003, 1014, 1065-1066, 1078, 1114-1119, 1125->1129, 1193
2026-02-23T18:13:46.6022360Z src/keycloak_operator/handlers/keycloak.py                    240     84     46      7  63.29%   79, 82, 85-86, 110, 113, 145-162, 232-280, 317-339, 371-434, 499, 569-573, 617-630, 636->663, 640, 653-658, 684-695, 714-715
2026-02-23T18:13:46.6023496Z src/keycloak_operator/handlers/realm.py                       225    173     64      3  20.42%   39->40, 39->exit, 40->exit, 53, 58-59, 62-67, 70-77, 81-82, 107-146, 196-229, 267-290, 323-382, 470-549, 568-592, 610-635, 653-676, 683-691, 709-741
2026-02-23T18:13:46.6024346Z src/keycloak_operator/models/__init__.py                        0      0      0      0 100.00%
2026-02-23T18:13:46.6025254Z src/keycloak_operator/models/client.py                        472     37     98     23  88.07%   65, 178-182, 187-195, 259, 482, 516, 544, 614, 643, 677, 714-717, 869, 1078, 1084-1087, 1104, 1119, 1137, 1166->1102, 1218, 1223, 1229, 1234, 1240, 1246, 1249, 1252, 1258
2026-02-23T18:13:46.6026167Z src/keycloak_operator/models/current.py                         1      1      0      0   0.00%   24
2026-02-23T18:13:46.6026761Z src/keycloak_operator/models/keycloak.py                      189      8     22      4  93.36%   78, 217, 223-226, 460, 467
2026-02-23T18:13:46.6027351Z src/keycloak_operator/models/keycloak_api.py                 1204      0      0      0 100.00%
2026-02-23T18:13:46.6028466Z src/keycloak_operator/models/realm.py                         755     96    200     29  83.56%   125-127, 229, 246, 255, 300-302, 567-569, 574-581, 586-589, 594-597, 608-677, 882, 977-979, 1431, 1470, 1510, 1554, 1670, 1970, 1985, 1989, 2027, 2038, 2096, 2100, 2102, 2104, 2108, 2110, 2129->2131, 2132, 2134, 2135->2139, 2220, 2224, 2226, 2228, 2230
2026-02-23T18:13:46.6029682Z src/keycloak_operator/models/types.py                          11      0      0      0 100.00%
2026-02-23T18:13:46.6030203Z src/keycloak_operator/observability/__init__.py                 5      0      0      0 100.00%
2026-02-23T18:13:46.6030881Z src/keycloak_operator/observability/health.py                 148    126     38      0  11.83%   43, 52-72, 76-118, 128-185, 195-294, 304-398, 416-426, 438-440
2026-02-23T18:13:46.6031567Z src/keycloak_operator/observability/leader_election.py         84      0     20      0 100.00%
2026-02-23T18:13:46.6032400Z src/keycloak_operator/observability/logging.py                107     56     28      2  40.74%   36-37, 49-54, 71-77, 98-139, 173, 194-245, 284->287, 342, 388->391, 416-432
2026-02-23T18:13:46.6033211Z src/keycloak_operator/observability/metrics.py                180     29     10      0  82.63%   389-391, 473, 478, 723-741, 745-756, 760-761, 765
2026-02-23T18:13:46.6033919Z src/keycloak_operator/observability/tracing.py                159      8     26      2  94.59%   172-173, 176-177, 184-185, 188-189
2026-02-23T18:13:46.6034537Z src/keycloak_operator/operator.py                             179    179     30      0   0.00%   22-483
2026-02-23T18:13:46.6035067Z src/keycloak_operator/services/__init__.py                      5      0      0      0 100.00%
2026-02-23T18:13:46.6035880Z src/keycloak_operator/services/base_reconciler.py             273    124     54      7  50.76%   31->32, 31->exit, 32->exit, 60-62, 156-219, 246-335, 393, 419-448, 594, 597-598, 625, 640, 695-765, 792-859, 1010-1011
2026-02-23T18:13:46.6037678Z src/keycloak_operator/services/client_reconciler.py           514    207    266     28  58.33%   102-125, 128-134, 151-158, 213-389, 395-396, 402-415, 431-444, 457-515, 528-591, 598, 614, 629-631, 655->660, 671, 678-684, 689-705, 706->717, 708-711, 721-723, 731->734, 759->764, 775-776, 784, 790-793, 806-834, 849-861, 877, 883->889, 892, 902, 925->921, 950-994, 1146->1131, 1158->1160, 1214, 1282, 1319, 1323, 1325, 1368-1383, 1407->exit, 1411-1412
2026-02-23T18:13:46.6039472Z src/keycloak_operator/services/drift_detection_service.py     494    318    196      7  35.22%   80, 194-226, 235-293, 303-417, 427-563, 572-604, 613-656, 747->786, 763-764, 809-919, 985->978, 1076->1086, 1113-1216, 1241, 1243, 1252-1341
2026-02-23T18:13:46.6041303Z src/keycloak_operator/services/keycloak_reconciler.py         555    330    164     12  37.41%   84-140, 152-206, 218-254, 260-291, 321, 328-330, 356, 392->396, 419-420, 441-453, 476-515, 540-566, 587-638, 668-726, 748-767, 787-823, 836-869, 882-918, 931-964, 977-1008, 1177-1205, 1218-1246, 1286-1287, 1293-1294, 1316-1317, 1341->1348, 1344-1345, 1349->1355, 1352-1353, 1368, 1380-1381, 1402->exit, 1407-1408, 1414, 1417-1418, 1441-1448, 1456-1468, 1488-1495
2026-02-23T18:13:46.6045763Z src/keycloak_operator/services/realm_reconciler.py           1443    481    566     88  66.10%   101->131, 104-110, 115-119, 126->131, 142-144, 151, 154, 157, 162, 175, 179, 185, 189, 193, 254->290, 270-281, 308-319, 352-353, 396-397, 401-407, 422-446, 488-536, 563-592, 629-631, 661-671, 677, 684-689, 697-703, 711, 738-750, 768-785, 793-819, 834-854, 867-892, 915, 963-967, 996-999, 1012-1021, 1064-1067, 1079-1080, 1119->1117, 1129, 1148-1153, 1176, 1192, 1196-1200, 1206->1211, 1207->1206, 1212-1216, 1255-1256, 1280, 1326, 1367-1372, 1418->1420, 1421, 1427, 1431, 1435, 1442-1443, 1492-1493, 1514-1524, 1547-1548, 1585->1579, 1590-1591, 1614-1615, 1641-1800, 1818-1856, 1873-1916, 1983->1977, 1992-1993, 2058-2059, 2098->2096, 2104-2105, 2138-2139, 2197-2198, 2209->2207, 2217-2218, 2243-2248, 2254-2264, 2443->exit, 2540, 2571, 2713->exit, 2763->2741, 2769->2765, 2772->2741, 2851->2848, 2853->2851, 2919-2920, 3054-3057, 3058->3072, 3299->3297, 3337->3363, 3355->3363, 3377->3374, 3513, 3516, 3532-3571, 3574-3582, 3585-3599, 3602-3637, 3640-3647, 3650-3655, 3662-3663, 3670-3671, 3674-3681, 3684-3691, 3694-3701, 3704-3711, 3730-3745, 3779-3788, 3819-3859, 3893-3909, 3925, 3939-3947, 3990-4050, 4082-4083, 4118-4129, 4138-4149
2026-02-23T18:13:46.6049455Z src/keycloak_operator/settings.py                              73      4      2      0  92.00%   382, 398-400
2026-02-23T18:13:46.6049987Z src/keycloak_operator/utils/__init__.py                         2      0      0      0 100.00%
2026-02-23T18:13:46.6050537Z src/keycloak_operator/utils/circuit_breaker.py                 51      2      4      0  96.36%   88-90
2026-02-23T18:13:46.6051145Z src/keycloak_operator/utils/database.py                       139     13     32      2  91.23%   98-101, 107, 390-391, 398-407
2026-02-23T18:13:46.6051846Z src/keycloak_operator/utils/handler_logging.py                  9      4      2      0  45.45%   37-47
2026-02-23T18:13:46.6055951Z src/keycloak_operator/utils/keycloak_admin.py                2300    840    648     51  60.89%   156-157, 160-162, 288->exit, 308->exit, 337-343, 414, 464-465, 487-488, 546, 550, 558-599, 668->682, 671-674, 679->682, 692-701, 707-744, 774-778, 810, 841-842, 857-878, 924-938, 959-977, 998-1008, 1031-1045, 1068-1091, 1114-1131, 1153-1185, 1254-1295, 1362-1461, 1484-1506, 1522-1525, 1548-1578, 1603-1632, 1647-1684, 1708-1730, 1750-1765, 1786-1803, 1827-1870, 1901-1951, 1966-1994, 2009-2048, 2062-2084, 2103-2128, 2143-2172, 2215, 2296, 2342, 2396, 2442, 2587->2586, 2664, 2705, 2730, 2786, 2897, 2922, 2999, 3041-3044, 3101-3103, 3179-3181, 3276-3278, 3322-3324, 3379-3381, 3405, 3427-3429, 3471-3473, 3498, 3553-3583, 3637-3641, 3746->3749, 3796, 3946, 3950->3955, 4179-4199, 4235-4253, 4287-4305, 4329-4337, 4362-4375, 4410-4429, 4464-4482, 4506-4514, 4944, 4954, 4992, 5029, 5039, 5076, 5086, 5109-5121, 5141-5147, 5166-5202, 5224-5245, 5265-5277, 5302-5316, 5336-5350, 5370-5384, 5405-5419, 5439-5453, 5473-5487, 5511-5527, 5552-5566, 5591-5605, 5625-5641, 5666-5680, 5705-5719, 5743-5760, 5784-5824, 5848-5868, 5893-5905, 6552-6561, 6601-6619, 6650-6659, 6701-6719, 6751-6767, 6794-6808, 6924-6936, 7015, 7059, 7138, 7215, 7257-7258, 7313, 7346-7350, 7416->7415, 7460-7469, 7543-7547, 7581-7588, 7665-7668, 7705-7714, 7823-7830, 7953, 7961-7974, 7981-7982, 7991-7992, 8055-8093, 8117->8120, 8129->8131, 8136-8140
2026-02-23T18:13:46.6060753Z src/keycloak_operator/utils/kubernetes.py                     379    235     94     15  36.58%   44-57, 96-137, 229->234, 289->400, 302->307, 307->312, 312->375, 318, 326-329, 348->375, 360->375, 415->420, 526-528, 551-609, 690-692, 742->747, 769->772, 777->781, 796, 817-822, 831-833, 849-877, 897-912, 933-969, 990-1060, 1074-1085, 1102-1152, 1176-1260, 1295-1356, 1366-1382, 1399-1422
2026-02-23T18:13:46.6062179Z src/keycloak_operator/utils/oidc_endpoints.py                  20      0      6      0 100.00%
2026-02-23T18:13:46.6062746Z src/keycloak_operator/utils/ownership.py                       70      2     30      2  96.00%   257, 267
2026-02-23T18:13:46.6063416Z src/keycloak_operator/utils/rate_limiter.py                   132      7     20      3  93.42%   79->87, 153->162, 255, 298->304, 316-317, 329-330, 342-343
2026-02-23T18:13:46.6064055Z src/keycloak_operator/utils/rbac.py                            93      3     20      0  97.35%   254-258
2026-02-23T18:13:46.6065255Z src/keycloak_operator/utils/validation.py                     403     39    252     33  86.26%   41, 70-71, 171-176, 268, 380, 402-403, 450-451, 473, 504, 508, 537, 577->586, 581, 590, 591->596, 639, 715, 726, 732, 742->740, 750-753, 761->759, 769-772, 783, 801->807, 817->823, 824->831, 838->903, 861-864, 868->903, 873->879, 887, 890->896, 898-899, 957->977, 966->977, 968->972, 973->977, 1018
2026-02-23T18:13:46.6066445Z src/keycloak_operator/webhooks/__init__.py                      0      0      0      0 100.00%
2026-02-23T18:13:46.6067065Z src/keycloak_operator/webhooks/client.py                       85     35     34      2  50.42%   32-33, 51-57, 122-130, 150-152, 174-198, 209-216
2026-02-23T18:13:46.6067838Z src/keycloak_operator/webhooks/keycloak.py                     35      8      4      0  79.49%   26-27, 45-51
2026-02-23T18:13:46.6068446Z src/keycloak_operator/webhooks/realm.py                        54     15      8      1  74.19%   32-33, 51-57, 107-113, 128-130
2026-02-23T18:13:46.6069005Z --------------------------------------------------------------------------------------------------------
2026-02-23T18:13:46.6069436Z TOTAL                                                       11927   3708   3204    345  65.85%
2026-02-23T18:13:46.6069781Z Coverage XML written to file coverage.xml
2026-02-23T18:13:46.6070097Z =========================== short test summary info ============================
2026-02-23T18:13:46.6070956Z FAILED tests/unit/test_client_reconciler_metadata.py::test_do_update_passes_metadata_without_regeneration - AssertionError: Expected 'create_client_secret' to have been called once. Called 0 times.
2026-02-23T18:13:46.6072347Z FAILED tests/unit/test_client_reconciler_metadata.py::test_do_update_passes_metadata_on_regeneration - AssertionError: Expected 'create_client_secret' to have been called once. Called 0 times.
2026-02-23T18:13:46.6073476Z FAILED tests/unit/test_client_reconciler_security.py::test_admin_realm_role_blocked - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6074508Z FAILED tests/unit/test_client_reconciler_security.py::test_realm_admin_client_role_blocked - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6075568Z FAILED tests/unit/test_client_reconciler_security.py::test_impersonation_blocked_by_default - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6076714Z FAILED tests/unit/test_client_reconciler_security.py::test_script_mapper_blocked - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6077731Z FAILED tests/unit/test_client_reconciler_security.py::test_saml_script_mapper_blocked - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6078796Z FAILED tests/unit/test_client_reconciler_security.py::test_case_insensitive_script_mapper_blocked - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6079857Z FAILED tests/unit/test_client_reconciler_security.py::test_combined_role_restrictions - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6080907Z FAILED tests/unit/test_client_reconciler_security.py::test_other_high_privilege_roles_blocked - pytest_socket.SocketBlockedError: A test tried to use socket.socket.
2026-02-23T18:13:46.6082011Z FAILED tests/unit/test_client_secret_management.py::test_fix_secret_regeneration_and_owner_ref - AttributeError: 'str' object has no attribute 'get'
2026-02-23T18:13:46.6083152Z FAILED tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_parse_duration_zero_value - Failed: DID NOT RAISE <class 'keycloak_operator.errors.operator_errors.ValidationError'>
2026-02-23T18:13:46.6084487Z FAILED tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_parse_duration_negative_value - Failed: DID NOT RAISE <class 'keycloak_operator.errors.operator_errors.ValidationError'>
2026-02-23T18:13:46.6085705Z FAILED tests/unit/test_client_secret_rotation.py::TestClientSecretRotation::test_should_rotate_secret_with_time_window_not_reached - AssertionError: assert not True
2026-02-23T18:13:46.6086649Z  +  where True = _should_rotate_secret(<MagicMock spec='KeycloakClientSpec' id='140013355250560'>, <MagicMock id='140013355249888'>)
2026-02-23T18:13:46.6087579Z  +    where _should_rotate_secret = <keycloak_operator.services.client_reconciler.KeycloakClientReconciler object at 0x7f5766df2820>._should_rotate_secret
2026-02-23T18:13:46.6088778Z FAILED tests/unit/test_external_keycloak.py::test_client_reconciler_ignores_wrong_namespace - keycloak_operator.errors.operator_errors.TemporaryError: Waiting for parent realm realm to determine ownership
2026-02-23T18:13:46.6089800Z Action required: Wait for automatic retry or check system status
2026-02-23T18:13:46.6090541Z FAILED tests/unit/test_finalizers.py::TestClientFinalizers::test_client_cleanup_success - AssertionError: Expected 'delete_namespaced_secret' to have been called.
2026-02-23T18:13:46.6091723Z FAILED tests/unit/test_finalizers.py::TestClientFinalizers::test_client_cleanup_public_client - AssertionError: Expected 'delete_namespaced_secret' to have been called.
2026-02-23T18:13:46.6092891Z FAILED tests/unit/test_finalizers.py::TestClientFinalizers::test_client_cleanup_removes_labeled_resources - AssertionError: Expected 'delete_namespaced_config_map' to have been called.
2026-02-23T18:13:46.6094069Z FAILED tests/unit/test_observedgeneration.py::TestClientReconcilerGenerationTracking::test_client_reconcile_sets_generation - AttributeError: observedGeneration
2026-02-23T18:13:46.6094825Z ================= 19 failed, 1432 passed, 1 warning in 38.15s ==================
2026-02-23T18:13:47.8737194Z task: Failed to run task "test:unit": exit status 1
2026-02-23T18:13:47.8760118Z ##[error]Process completed with exit code 201.
2026-02-23T18:13:47.8806021Z ##[group]Run actions/upload-artifact@v5
2026-02-23T18:13:47.8806305Z with:
2026-02-23T18:13:47.8806481Z   name: unit-coverage
2026-02-23T18:13:47.8806698Z   include-hidden-files: true
2026-02-23T18:13:47.8806931Z   path: .coverage
coverage.xml

2026-02-23T18:13:47.8807152Z   retention-days: 1
2026-02-23T18:13:47.8807336Z   if-no-files-found: warn
2026-02-23T18:13:47.8807549Z   compression-level: 6
2026-02-23T18:13:47.8807741Z   overwrite: false
2026-02-23T18:13:47.8807914Z env:
2026-02-23T18:13:47.8808064Z   REGISTRY: ghcr.io
2026-02-23T18:13:47.8808289Z   IMAGE_NAME: vriesdemichael/keycloak-operator
2026-02-23T18:13:47.8808567Z   KEYCLOAK_VERSION: 26.4.1
2026-02-23T18:13:47.8809047Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:47.8809459Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib/pkgconfig
2026-02-23T18:13:47.8809881Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:47.8810237Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:47.8810592Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.11/x64
2026-02-23T18:13:47.8810947Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.11/x64/lib
2026-02-23T18:13:47.8811321Z   UV_PYTHON_INSTALL_DIR: /home/runner/work/_temp/uv-python-dir
2026-02-23T18:13:47.8811906Z   UV_CACHE_DIR: /home/runner/work/_temp/setup-uv-cache
2026-02-23T18:13:47.8812189Z ##[endgroup]
2026-02-23T18:13:48.0861227Z Multiple search paths detected. Calculating the least common ancestor of all paths
2026-02-23T18:13:48.0865626Z The least common ancestor is /home/runner/work/keycloak-operator/keycloak-operator. This will be the root directory of the artifact
2026-02-23T18:13:48.0866919Z With the provided path, there will be 2 files uploaded
2026-02-23T18:13:48.0872476Z Artifact name is valid!
2026-02-23T18:13:48.0873726Z Root directory input is valid!
2026-02-23T18:13:48.3785753Z Beginning upload of artifact content to blob storage
2026-02-23T18:13:48.9983858Z Uploaded bytes 260580
2026-02-23T18:13:49.0793947Z Finished uploading artifact content to blob storage!
2026-02-23T18:13:49.0796779Z SHA256 digest of uploaded artifact zip is 284b5c3be44e11da8637eb33280c02e6e7f6a7e841f2e951b907879af92730d9
2026-02-23T18:13:49.0798724Z Finalizing artifact upload
2026-02-23T18:13:49.2380686Z Artifact unit-coverage.zip successfully finalized. Artifact ID 5621989034
2026-02-23T18:13:49.2382190Z Artifact unit-coverage has been successfully uploaded! Final size is 260580 bytes. Artifact ID is 5621989034
2026-02-23T18:13:49.2389177Z Artifact download URL: https://github.com/vriesdemichael/keycloak-operator/actions/runs/22318788765/artifacts/5621989034
2026-02-23T18:13:49.2532834Z Post job cleanup.
2026-02-23T18:13:49.2604578Z Post job cleanup.
2026-02-23T18:13:49.3376175Z [command]/usr/bin/git version
2026-02-23T18:13:49.3412122Z git version 2.52.0
2026-02-23T18:13:49.3449865Z Temporarily overriding HOME='/home/runner/work/_temp/cdbad3ca-ea2e-41d6-94dd-b553e9a1e185' before making global git config changes
2026-02-23T18:13:49.3450805Z Adding repository directory to the temporary git global config as a safe directory
2026-02-23T18:13:49.3455705Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/keycloak-operator/keycloak-operator
2026-02-23T18:13:49.3484342Z Removing SSH command configuration
2026-02-23T18:13:49.3490398Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-02-23T18:13:49.3523414Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-02-23T18:13:49.3786311Z Removing HTTP extra header
2026-02-23T18:13:49.3791273Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-02-23T18:13:49.3822561Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-02-23T18:13:49.4046357Z Removing includeIf entries pointing to credentials config files
2026-02-23T18:13:49.4052008Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-02-23T18:13:49.4073450Z includeif.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git.path
2026-02-23T18:13:49.4074446Z includeif.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git/worktrees/*.path
2026-02-23T18:13:49.4075020Z includeif.gitdir:/github/workspace/.git.path
2026-02-23T18:13:49.4075638Z includeif.gitdir:/github/workspace/.git/worktrees/*.path
2026-02-23T18:13:49.4082763Z [command]/usr/bin/git config --local --get-all includeif.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git.path
2026-02-23T18:13:49.4103868Z /home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4113833Z [command]/usr/bin/git config --local --unset includeif.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git.path /home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4146264Z [command]/usr/bin/git config --local --get-all includeif.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git/worktrees/*.path
2026-02-23T18:13:49.4166483Z /home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4175593Z [command]/usr/bin/git config --local --unset includeif.gitdir:/home/runner/work/keycloak-operator/keycloak-operator/.git/worktrees/*.path /home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4205415Z [command]/usr/bin/git config --local --get-all includeif.gitdir:/github/workspace/.git.path
2026-02-23T18:13:49.4225453Z /github/runner_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4232805Z [command]/usr/bin/git config --local --unset includeif.gitdir:/github/workspace/.git.path /github/runner_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4261860Z [command]/usr/bin/git config --local --get-all includeif.gitdir:/github/workspace/.git/worktrees/*.path
2026-02-23T18:13:49.4281558Z /github/runner_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4291122Z [command]/usr/bin/git config --local --unset includeif.gitdir:/github/workspace/.git/worktrees/*.path /github/runner_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config
2026-02-23T18:13:49.4322654Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-02-23T18:13:49.4543255Z Removing credentials config '/home/runner/work/_temp/git-credentials-ed781ad5-7114-4a8e-883d-bf2910ce097e.config'
2026-02-23T18:13:49.4657025Z Cleaning up orphan processes
